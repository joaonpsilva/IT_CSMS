INFO:Ocpp_Server:Connected to the RMQ Broker
INFO:websockets.server:server listening on 0.0.0.0:9000
INFO:Ocpp_Server:WebSocket Server Started
INFO:     Started server process [54436]
INFO:     Waiting for application startup.
API - INFO - Connected to the RMQ Broker
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
SQL_DB - INFO - Connected to the database
SQL_DB - INFO - Connected to the RMQ Broker
INFO:Ocpp_Server:RabbitMQ SENDING Message: {"destination": "SQL_DB", "origin": "Ocpp_Server", "method": "verify_password", "type": "request", "content": {"CP_ID": "cp6k", "password": "12345678901234567890"}, "cp_id": "cp6k", "status": null}
SQL_DB - INFO - RECEIVED: {'destination': 'SQL_DB', 'origin': 'Ocpp_Server', 'method': 'verify_password', 'type': 'request', 'content': {'CP_ID': 'cp6k', 'password': '12345678901234567890'}, 'cp_id': 'cp6k', 'status': None}
SQL_DB - INFO - RabbitMQ SENDING Message: {"destination": "Ocpp_Server", "origin": "SQL_DB", "method": "verify_password", "type": "response", "content": {"approved": true}, "cp_id": "cp6k", "status": "OK"}
INFO:Ocpp_Server:RESPONSE: {'destination': 'Ocpp_Server', 'origin': 'SQL_DB', 'method': 'verify_password', 'type': 'response', 'content': {'approved': True}, 'cp_id': 'cp6k', 'status': 'OK'}
INFO:websockets.server:connection open
INFO:Ocpp_Server:Protocols Matched: ocpp2.0.1
INFO:ocpp:cp6k: receive message [2,"5fef1e9d17cadb07b6c59f8ff5c9984a","TransactionEvent",{"eventType":"Updated","evse":{"connectorId":1,"id":1},"meterValue":[{"sampledValue":[{"measurand":"Energy.Active.Import.Register","unitOfMeasure":{"unit":"Wh"},"value":545.071636},{"measurand":"Voltage","unitOfMeasure":{"unit":"V"},"value":229.45224},{"measurand":"Voltage","phase":"L1","unitOfMeasure":{"unit":"V"},"value":229.451462},{"measurand":"Voltage","phase":"L2","unitOfMeasure":{"unit":"V"},"value":229.451828},{"measurand":"Voltage","phase":"L3","unitOfMeasure":{"unit":"V"},"value":229.45224},{"measurand":"Current.Import","unitOfMeasure":{"unit":"A"},"value":0.066623},{"measurand":"Current.Import","phase":"L1","unitOfMeasure":{"unit":"A"},"value":0.00686},{"measurand":"Current.Import","phase":"L2","unitOfMeasure":{"unit":"A"},"value":0.014124},{"measurand":"Current.Import","phase":"L3","unitOfMeasure":{"unit":"A"},"value":0.045638},{"measurand":"Power.Active.Import","unitOfMeasure":{"unit":"W"},"value":15.286763},{"measurand":"Power.Factor","phase":"L1","value":0.136183},{"measurand":"Power.Factor","phase":"L2","value":0.182934},{"measurand":"Power.Factor","phase":"L3","value":0.0}],"timestamp":"2023-03-29T09:37:33Z"}],"offline":true,"seqNo":8,"timestamp":"2023-03-29T09:37:33Z","transactionInfo":{"customData":{"timeSpentConnected":139,"vendorId":"com.chargepoint"},"timeSpentCharging":0,"transactionId":"6519450883396284070"},"triggerReason":"MeterValuePeriodic"}]
INFO:Ocpp_Server:RabbitMQ SENDING Message: {"destination": null, "origin": "Ocpp_Server", "method": "TransactionEvent", "type": "ocpp_log", "content": {"event_type": "Updated", "evse": {"connector_id": 1, "id": 1}, "meter_value": [{"sampled_value": [{"measurand": "Energy.Active.Import.Register", "unit_of_measure": {"unit": "Wh"}, "value": 545.071636}, {"measurand": "Voltage", "unit_of_measure": {"unit": "V"}, "value": 229.45224}, {"measurand": "Voltage", "phase": "L1", "unit_of_measure": {"unit": "V"}, "value": 229.451462}, {"measurand": "Voltage", "phase": "L2", "unit_of_measure": {"unit": "V"}, "value": 229.451828}, {"measurand": "Voltage", "phase": "L3", "unit_of_measure": {"unit": "V"}, "value": 229.45224}, {"measurand": "Current.Import", "unit_of_measure": {"unit": "A"}, "value": 0.066623}, {"measurand": "Current.Import", "phase": "L1", "unit_of_measure": {"unit": "A"}, "value": 0.00686}, {"measurand": "Current.Import", "phase": "L2", "unit_of_measure": {"unit": "A"}, "value": 0.014124}, {"measurand": "Current.Import", "phase": "L3", "unit_of_measure": {"unit": "A"}, "value": 0.045638}, {"measurand": "Power.Active.Import", "unit_of_measure": {"unit": "W"}, "value": 15.286763}, {"measurand": "Power.Factor", "phase": "L1", "value": 0.136183}, {"measurand": "Power.Factor", "phase": "L2", "value": 0.182934}, {"measurand": "Power.Factor", "phase": "L3", "value": 0.0}], "timestamp": "2023-03-29T09:37:33Z"}], "offline": true, "seq_no": 8, "timestamp": "2023-03-29T09:37:33Z", "transaction_info": {"custom_data": {"time_spent_connected": 139, "vendor_id": "com.chargepoint"}, "time_spent_charging": 0, "transaction_id": "6519450883396284070"}, "trigger_reason": "MeterValuePeriodic"}, "cp_id": "cp6k", "status": null}
INFO:ocpp:cp6k: send [3,"5fef1e9d17cadb07b6c59f8ff5c9984a",{}]
SQL_DB - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'TransactionEvent', 'type': 'ocpp_log', 'content': {'event_type': 'Updated', 'evse': {'connector_id': 1, 'id': 1}, 'meter_value': [{'sampled_value': [{'measurand': 'Energy.Active.Import.Register', 'unit_of_measure': {'unit': 'Wh'}, 'value': 545.071636}, {'measurand': 'Voltage', 'unit_of_measure': {'unit': 'V'}, 'value': 229.45224}, {'measurand': 'Voltage', 'phase': 'L1', 'unit_of_measure': {'unit': 'V'}, 'value': 229.451462}, {'measurand': 'Voltage', 'phase': 'L2', 'unit_of_measure': {'unit': 'V'}, 'value': 229.451828}, {'measurand': 'Voltage', 'phase': 'L3', 'unit_of_measure': {'unit': 'V'}, 'value': 229.45224}, {'measurand': 'Current.Import', 'unit_of_measure': {'unit': 'A'}, 'value': 0.066623}, {'measurand': 'Current.Import', 'phase': 'L1', 'unit_of_measure': {'unit': 'A'}, 'value': 0.00686}, {'measurand': 'Current.Import', 'phase': 'L2', 'unit_of_measure': {'unit': 'A'}, 'value': 0.014124}, {'measurand': 'Current.Import', 'phase': 'L3', 'unit_of_measure': {'unit': 'A'}, 'value': 0.045638}, {'measurand': 'Power.Active.Import', 'unit_of_measure': {'unit': 'W'}, 'value': 15.286763}, {'measurand': 'Power.Factor', 'phase': 'L1', 'value': 0.136183}, {'measurand': 'Power.Factor', 'phase': 'L2', 'value': 0.182934}, {'measurand': 'Power.Factor', 'phase': 'L3', 'value': 0.0}], 'timestamp': '2023-03-29T09:37:33Z'}], 'offline': True, 'seq_no': 8, 'timestamp': '2023-03-29T09:37:33Z', 'transaction_info': {'custom_data': {'time_spent_connected': 139, 'vendor_id': 'com.chargepoint'}, 'time_spent_charging': 0, 'transaction_id': '6519450883396284070'}, 'trigger_reason': 'MeterValuePeriodic'}, 'cp_id': 'cp6k', 'status': None}
API - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'TransactionEvent', 'type': 'ocpp_log', 'content': {'event_type': 'Updated', 'evse': {'connector_id': 1, 'id': 1}, 'meter_value': [{'sampled_value': [{'measurand': 'Energy.Active.Import.Register', 'unit_of_measure': {'unit': 'Wh'}, 'value': 545.071636}, {'measurand': 'Voltage', 'unit_of_measure': {'unit': 'V'}, 'value': 229.45224}, {'measurand': 'Voltage', 'phase': 'L1', 'unit_of_measure': {'unit': 'V'}, 'value': 229.451462}, {'measurand': 'Voltage', 'phase': 'L2', 'unit_of_measure': {'unit': 'V'}, 'value': 229.451828}, {'measurand': 'Voltage', 'phase': 'L3', 'unit_of_measure': {'unit': 'V'}, 'value': 229.45224}, {'measurand': 'Current.Import', 'unit_of_measure': {'unit': 'A'}, 'value': 0.066623}, {'measurand': 'Current.Import', 'phase': 'L1', 'unit_of_measure': {'unit': 'A'}, 'value': 0.00686}, {'measurand': 'Current.Import', 'phase': 'L2', 'unit_of_measure': {'unit': 'A'}, 'value': 0.014124}, {'measurand': 'Current.Import', 'phase': 'L3', 'unit_of_measure': {'unit': 'A'}, 'value': 0.045638}, {'measurand': 'Power.Active.Import', 'unit_of_measure': {'unit': 'W'}, 'value': 15.286763}, {'measurand': 'Power.Factor', 'phase': 'L1', 'value': 0.136183}, {'measurand': 'Power.Factor', 'phase': 'L2', 'value': 0.182934}, {'measurand': 'Power.Factor', 'phase': 'L3', 'value': 0.0}], 'timestamp': '2023-03-29T09:37:33Z'}], 'offline': True, 'seq_no': 8, 'timestamp': '2023-03-29T09:37:33Z', 'transaction_info': {'custom_data': {'time_spent_connected': 139, 'vendor_id': 'com.chargepoint'}, 'time_spent_charging': 0, 'transaction_id': '6519450883396284070'}, 'trigger_reason': 'MeterValuePeriodic'}, 'cp_id': 'cp6k', 'status': None}
SQL_DB - ERROR - Traceback (most recent call last):
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/rabbit_mq/rabbit_handler.py", line 122, in on_request
    response_content = await self.handle_request(request)
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/CSMS/db/db.py", line 78, in on_db_request
    raise e
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/CSMS/db/db.py", line 70, in on_db_request
    toReturn = method(cp_id=request.cp_id, **request.content)
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/CSMS/db/db.py", line 308, in TransactionEvent
    transaction = Transaction(**transaction_info)
  File "<string>", line 4, in __init__
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/orm/state.py", line 481, in _initialize_instance
    with util.safe_reraise():
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/util/compat.py", line 208, in raise_
    raise exception
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/orm/state.py", line 479, in _initialize_instance
    return manager.original_init(*mixed[1:], **kwargs)
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/CSMS/db/database_Base.py", line 29, in __init__
    super().__init__(**kwargs)
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/orm/decl_base.py", line 1197, in _declarative_constructor
    raise TypeError(
TypeError: 'custom_data' is an invalid keyword argument for Transaction

INFO:ocpp:cp6k: receive message [2,"51a2317b183598e269c5b82f4068ff52","DataTransfer",{"data":{"installconf":"ewogICAgImRlZmF1bHRMYW5nIjogIkVOIiwKICAgICJjaXJjdWl0Q3VycmVudExpbWl0IjogMTYuMCwKICAgICJwb3J0Q3VycmVudExpbWl0IjogMTYuMCwKICAgICJpd2l6U3RhdHVzIjogMjU1LAogICAgImNpcmN1aXRTaGFyaW5nIjogMSwKICAgICJpbnB1dENhYmxlQ291bnQiOiAxLAogICAgInBhbmVsUGhhc2VzIjogMSwKICAgICJpbnB1dENhYmxlUGhhc2VzIjogMSwKICAgICJvdXRsZXQyUGhhc2UiOiAxLAogICAgIm91dGxldDFQaGFzZSI6IDIsCiAgICAiaXdpelZlcnNpb24iOiAyCn0="},"messageId":"NotifyInstallConfig","vendorId":"com.chargepoint"}]
ERROR:ocpp:Error while handling request '<Call - unique_id=51a2317b183598e269c5b82f4068ff52, action=DataTransfer, payload={'data': {'installconf': 'ewogICAgImRlZmF1bHRMYW5nIjogIkVOIiwKICAgICJjaXJjdWl0Q3VycmVudExpbWl0IjogMTYuMCwKICAgICJwb3J0Q3VycmVudExpbWl0IjogMTYuMCwKICAgICJpd2l6U3RhdHVzIjogMjU1LAogICAgImNpcmN1aXRTaGFyaW5nIjogMSwKICAgICJpbnB1dENhYmxlQ291bnQiOiAxLAogICAgInBhbmVsUGhhc2VzIjogMSwKICAgICJpbnB1dENhYmxlUGhhc2VzIjogMSwKICAgICJvdXRsZXQyUGhhc2UiOiAxLAogICAgIm91dGxldDFQaGFzZSI6IDIsCiAgICAiaXdpelZlcnNpb24iOiAyCn0='}, 'messageId': 'NotifyInstallConfig', 'vendorId': 'com.chargepoint'}>'
Traceback (most recent call last):
  File "/home/it2s/.local/lib/python3.10/site-packages/ocpp/charge_point.py", line 172, in _handle_call
    handlers = self.route_map[msg.action]
KeyError: 'DataTransfer'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/it2s/.local/lib/python3.10/site-packages/ocpp/charge_point.py", line 150, in route_message
    await self._handle_call(msg)
  File "/home/it2s/.local/lib/python3.10/site-packages/ocpp/charge_point.py", line 174, in _handle_call
    raise NotSupportedError(
ocpp.exceptions.NotSupportedError: NotSupportedError: Request Action is recognized but not supported by the receiver, {'cause': 'No handler for DataTransfer registered.'}
INFO:ocpp:cp6k: send [4,"51a2317b183598e269c5b82f4068ff52","NotSupported","Request Action is recognized but not supported by the receiver",{"cause":"No handler for DataTransfer registered."}]
INFO:ocpp:cp6k: receive message [2,"2ce68ad0f3adc4c4d2bc1a55abdcc5dc","TransactionEvent",{"eventType":"Updated","evse":{"connectorId":1,"id":1},"meterValue":[{"sampledValue":[{"measurand":"Energy.Active.Import.Register","unitOfMeasure":{"unit":"Wh"},"value":545.115215},{"measurand":"Voltage","unitOfMeasure":{"unit":"V"},"value":229.746414},{"measurand":"Voltage","phase":"L1","unitOfMeasure":{"unit":"V"},"value":229.745621},{"measurand":"Voltage","phase":"L2","unitOfMeasure":{"unit":"V"},"value":229.746017},{"measurand":"Voltage","phase":"L3","unitOfMeasure":{"unit":"V"},"value":229.746414},{"measurand":"Current.Import","unitOfMeasure":{"unit":"A"},"value":0.066692},{"measurand":"Current.Import","phase":"L1","unitOfMeasure":{"unit":"A"},"value":0.006866},{"measurand":"Current.Import","phase":"L2","unitOfMeasure":{"unit":"A"},"value":0.014174},{"measurand":"Current.Import","phase":"L3","unitOfMeasure":{"unit":"A"},"value":0.045653},{"measurand":"Power.Active.Import","unitOfMeasure":{"unit":"W"},"value":15.322356},{"measurand":"Power.Factor","phase":"L1","value":0.133637},{"measurand":"Power.Factor","phase":"L2","value":0.1722},{"measurand":"Power.Factor","phase":"L3","value":0.0}],"timestamp":"2023-03-29T09:38:03Z"}],"seqNo":9,"timestamp":"2023-03-29T09:38:03Z","transactionInfo":{"customData":{"timeSpentConnected":169,"vendorId":"com.chargepoint"},"timeSpentCharging":0,"transactionId":"6519450883396284070"},"triggerReason":"MeterValuePeriodic"}]
INFO:Ocpp_Server:RabbitMQ SENDING Message: {"destination": null, "origin": "Ocpp_Server", "method": "TransactionEvent", "type": "ocpp_log", "content": {"event_type": "Updated", "evse": {"connector_id": 1, "id": 1}, "meter_value": [{"sampled_value": [{"measurand": "Energy.Active.Import.Register", "unit_of_measure": {"unit": "Wh"}, "value": 545.115215}, {"measurand": "Voltage", "unit_of_measure": {"unit": "V"}, "value": 229.746414}, {"measurand": "Voltage", "phase": "L1", "unit_of_measure": {"unit": "V"}, "value": 229.745621}, {"measurand": "Voltage", "phase": "L2", "unit_of_measure": {"unit": "V"}, "value": 229.746017}, {"measurand": "Voltage", "phase": "L3", "unit_of_measure": {"unit": "V"}, "value": 229.746414}, {"measurand": "Current.Import", "unit_of_measure": {"unit": "A"}, "value": 0.066692}, {"measurand": "Current.Import", "phase": "L1", "unit_of_measure": {"unit": "A"}, "value": 0.006866}, {"measurand": "Current.Import", "phase": "L2", "unit_of_measure": {"unit": "A"}, "value": 0.014174}, {"measurand": "Current.Import", "phase": "L3", "unit_of_measure": {"unit": "A"}, "value": 0.045653}, {"measurand": "Power.Active.Import", "unit_of_measure": {"unit": "W"}, "value": 15.322356}, {"measurand": "Power.Factor", "phase": "L1", "value": 0.133637}, {"measurand": "Power.Factor", "phase": "L2", "value": 0.1722}, {"measurand": "Power.Factor", "phase": "L3", "value": 0.0}], "timestamp": "2023-03-29T09:38:03Z"}], "seq_no": 9, "timestamp": "2023-03-29T09:38:03Z", "transaction_info": {"custom_data": {"time_spent_connected": 169, "vendor_id": "com.chargepoint"}, "time_spent_charging": 0, "transaction_id": "6519450883396284070"}, "trigger_reason": "MeterValuePeriodic"}, "cp_id": "cp6k", "status": null}
INFO:ocpp:cp6k: send [3,"2ce68ad0f3adc4c4d2bc1a55abdcc5dc",{}]
SQL_DB - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'TransactionEvent', 'type': 'ocpp_log', 'content': {'event_type': 'Updated', 'evse': {'connector_id': 1, 'id': 1}, 'meter_value': [{'sampled_value': [{'measurand': 'Energy.Active.Import.Register', 'unit_of_measure': {'unit': 'Wh'}, 'value': 545.115215}, {'measurand': 'Voltage', 'unit_of_measure': {'unit': 'V'}, 'value': 229.746414}, {'measurand': 'Voltage', 'phase': 'L1', 'unit_of_measure': {'unit': 'V'}, 'value': 229.745621}, {'measurand': 'Voltage', 'phase': 'L2', 'unit_of_measure': {'unit': 'V'}, 'value': 229.746017}, {'measurand': 'Voltage', 'phase': 'L3', 'unit_of_measure': {'unit': 'V'}, 'value': 229.746414}, {'measurand': 'Current.Import', 'unit_of_measure': {'unit': 'A'}, 'value': 0.066692}, {'measurand': 'Current.Import', 'phase': 'L1', 'unit_of_measure': {'unit': 'A'}, 'value': 0.006866}, {'measurand': 'Current.Import', 'phase': 'L2', 'unit_of_measure': {'unit': 'A'}, 'value': 0.014174}, {'measurand': 'Current.Import', 'phase': 'L3', 'unit_of_measure': {'unit': 'A'}, 'value': 0.045653}, {'measurand': 'Power.Active.Import', 'unit_of_measure': {'unit': 'W'}, 'value': 15.322356}, {'measurand': 'Power.Factor', 'phase': 'L1', 'value': 0.133637}, {'measurand': 'Power.Factor', 'phase': 'L2', 'value': 0.1722}, {'measurand': 'Power.Factor', 'phase': 'L3', 'value': 0.0}], 'timestamp': '2023-03-29T09:38:03Z'}], 'seq_no': 9, 'timestamp': '2023-03-29T09:38:03Z', 'transaction_info': {'custom_data': {'time_spent_connected': 169, 'vendor_id': 'com.chargepoint'}, 'time_spent_charging': 0, 'transaction_id': '6519450883396284070'}, 'trigger_reason': 'MeterValuePeriodic'}, 'cp_id': 'cp6k', 'status': None}
API - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'TransactionEvent', 'type': 'ocpp_log', 'content': {'event_type': 'Updated', 'evse': {'connector_id': 1, 'id': 1}, 'meter_value': [{'sampled_value': [{'measurand': 'Energy.Active.Import.Register', 'unit_of_measure': {'unit': 'Wh'}, 'value': 545.115215}, {'measurand': 'Voltage', 'unit_of_measure': {'unit': 'V'}, 'value': 229.746414}, {'measurand': 'Voltage', 'phase': 'L1', 'unit_of_measure': {'unit': 'V'}, 'value': 229.745621}, {'measurand': 'Voltage', 'phase': 'L2', 'unit_of_measure': {'unit': 'V'}, 'value': 229.746017}, {'measurand': 'Voltage', 'phase': 'L3', 'unit_of_measure': {'unit': 'V'}, 'value': 229.746414}, {'measurand': 'Current.Import', 'unit_of_measure': {'unit': 'A'}, 'value': 0.066692}, {'measurand': 'Current.Import', 'phase': 'L1', 'unit_of_measure': {'unit': 'A'}, 'value': 0.006866}, {'measurand': 'Current.Import', 'phase': 'L2', 'unit_of_measure': {'unit': 'A'}, 'value': 0.014174}, {'measurand': 'Current.Import', 'phase': 'L3', 'unit_of_measure': {'unit': 'A'}, 'value': 0.045653}, {'measurand': 'Power.Active.Import', 'unit_of_measure': {'unit': 'W'}, 'value': 15.322356}, {'measurand': 'Power.Factor', 'phase': 'L1', 'value': 0.133637}, {'measurand': 'Power.Factor', 'phase': 'L2', 'value': 0.1722}, {'measurand': 'Power.Factor', 'phase': 'L3', 'value': 0.0}], 'timestamp': '2023-03-29T09:38:03Z'}], 'seq_no': 9, 'timestamp': '2023-03-29T09:38:03Z', 'transaction_info': {'custom_data': {'time_spent_connected': 169, 'vendor_id': 'com.chargepoint'}, 'time_spent_charging': 0, 'transaction_id': '6519450883396284070'}, 'trigger_reason': 'MeterValuePeriodic'}, 'cp_id': 'cp6k', 'status': None}
SQL_DB - ERROR - Traceback (most recent call last):
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/rabbit_mq/rabbit_handler.py", line 122, in on_request
    response_content = await self.handle_request(request)
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/CSMS/db/db.py", line 78, in on_db_request
    raise e
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/CSMS/db/db.py", line 70, in on_db_request
    toReturn = method(cp_id=request.cp_id, **request.content)
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/CSMS/db/db.py", line 308, in TransactionEvent
    transaction = Transaction(**transaction_info)
  File "<string>", line 4, in __init__
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/orm/state.py", line 481, in _initialize_instance
    with util.safe_reraise():
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/util/compat.py", line 208, in raise_
    raise exception
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/orm/state.py", line 479, in _initialize_instance
    return manager.original_init(*mixed[1:], **kwargs)
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/CSMS/db/database_Base.py", line 29, in __init__
    super().__init__(**kwargs)
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/orm/decl_base.py", line 1197, in _declarative_constructor
    raise TypeError(
TypeError: 'custom_data' is an invalid keyword argument for Transaction

INFO:ocpp:cp6k: receive message [2,"29141dfa2b2845b27c934af7e1f25bb6","Heartbeat",{"customData":{"rsrp":-93.0,"rsrq":-9.0,"rssi":-63.0,"snr":12.200000000000001,"vendorId":"com.chargepoint"}}]
INFO:ocpp:cp6k: send [3,"29141dfa2b2845b27c934af7e1f25bb6",{"currentTime":"2023-03-29T09:38:23.803548"}]
INFO:Ocpp_Server:RabbitMQ SENDING Message: {"destination": null, "origin": "Ocpp_Server", "method": "update", "type": "ocpp_log", "content": {"table": "Charge_Point", "filters": {"cp_id": "cp6k"}, "values": {"is_online": true}}, "cp_id": "cp6k", "status": null}
API - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'update', 'type': 'ocpp_log', 'content': {'table': 'Charge_Point', 'filters': {'cp_id': 'cp6k'}, 'values': {'is_online': True}}, 'cp_id': 'cp6k', 'status': None}
SQL_DB - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'update', 'type': 'ocpp_log', 'content': {'table': 'Charge_Point', 'filters': {'cp_id': 'cp6k'}, 'values': {'is_online': True}}, 'cp_id': 'cp6k', 'status': None}
INFO:ocpp:cp6k: receive message [2,"366d975fd0249ce0d56d92a2c3b93787","TransactionEvent",{"eventType":"Updated","evse":{"connectorId":1,"id":1},"meterValue":[{"sampledValue":[{"measurand":"Energy.Active.Import.Register","unitOfMeasure":{"unit":"Wh"},"value":545.144261},{"measurand":"Voltage","unitOfMeasure":{"unit":"V"},"value":230.478394},{"measurand":"Voltage","phase":"L1","unitOfMeasure":{"unit":"V"},"value":230.477707},{"measurand":"Voltage","phase":"L2","unitOfMeasure":{"unit":"V"},"value":230.477798},{"measurand":"Voltage","phase":"L3","unitOfMeasure":{"unit":"V"},"value":230.478394},{"measurand":"Current.Import","unitOfMeasure":{"unit":"A"},"value":0.066665},{"measurand":"Current.Import","phase":"L1","unitOfMeasure":{"unit":"A"},"value":0.006823},{"measurand":"Current.Import","phase":"L2","unitOfMeasure":{"unit":"A"},"value":0.014182},{"measurand":"Current.Import","phase":"L3","unitOfMeasure":{"unit":"A"},"value":0.04566},{"measurand":"Power.Active.Import","unitOfMeasure":{"unit":"W"},"value":15.364765},{"measurand":"Power.Factor","phase":"L1","value":0.167825},{"measurand":"Power.Factor","phase":"L2","value":0.210523},{"measurand":"Power.Factor","phase":"L3","value":0.0}],"timestamp":"2023-03-29T09:38:23Z"}],"seqNo":10,"timestamp":"2023-03-29T09:38:23Z","transactionInfo":{"customData":{"timeSpentConnected":189,"vendorId":"com.chargepoint"},"timeSpentCharging":0,"transactionId":"6519450883396284070"},"triggerReason":"MeterValuePeriodic"}]
INFO:Ocpp_Server:RabbitMQ SENDING Message: {"destination": null, "origin": "Ocpp_Server", "method": "TransactionEvent", "type": "ocpp_log", "content": {"event_type": "Updated", "evse": {"connector_id": 1, "id": 1}, "meter_value": [{"sampled_value": [{"measurand": "Energy.Active.Import.Register", "unit_of_measure": {"unit": "Wh"}, "value": 545.144261}, {"measurand": "Voltage", "unit_of_measure": {"unit": "V"}, "value": 230.478394}, {"measurand": "Voltage", "phase": "L1", "unit_of_measure": {"unit": "V"}, "value": 230.477707}, {"measurand": "Voltage", "phase": "L2", "unit_of_measure": {"unit": "V"}, "value": 230.477798}, {"measurand": "Voltage", "phase": "L3", "unit_of_measure": {"unit": "V"}, "value": 230.478394}, {"measurand": "Current.Import", "unit_of_measure": {"unit": "A"}, "value": 0.066665}, {"measurand": "Current.Import", "phase": "L1", "unit_of_measure": {"unit": "A"}, "value": 0.006823}, {"measurand": "Current.Import", "phase": "L2", "unit_of_measure": {"unit": "A"}, "value": 0.014182}, {"measurand": "Current.Import", "phase": "L3", "unit_of_measure": {"unit": "A"}, "value": 0.04566}, {"measurand": "Power.Active.Import", "unit_of_measure": {"unit": "W"}, "value": 15.364765}, {"measurand": "Power.Factor", "phase": "L1", "value": 0.167825}, {"measurand": "Power.Factor", "phase": "L2", "value": 0.210523}, {"measurand": "Power.Factor", "phase": "L3", "value": 0.0}], "timestamp": "2023-03-29T09:38:23Z"}], "seq_no": 10, "timestamp": "2023-03-29T09:38:23Z", "transaction_info": {"custom_data": {"time_spent_connected": 189, "vendor_id": "com.chargepoint"}, "time_spent_charging": 0, "transaction_id": "6519450883396284070"}, "trigger_reason": "MeterValuePeriodic"}, "cp_id": "cp6k", "status": null}
INFO:ocpp:cp6k: send [3,"366d975fd0249ce0d56d92a2c3b93787",{}]
API - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'TransactionEvent', 'type': 'ocpp_log', 'content': {'event_type': 'Updated', 'evse': {'connector_id': 1, 'id': 1}, 'meter_value': [{'sampled_value': [{'measurand': 'Energy.Active.Import.Register', 'unit_of_measure': {'unit': 'Wh'}, 'value': 545.144261}, {'measurand': 'Voltage', 'unit_of_measure': {'unit': 'V'}, 'value': 230.478394}, {'measurand': 'Voltage', 'phase': 'L1', 'unit_of_measure': {'unit': 'V'}, 'value': 230.477707}, {'measurand': 'Voltage', 'phase': 'L2', 'unit_of_measure': {'unit': 'V'}, 'value': 230.477798}, {'measurand': 'Voltage', 'phase': 'L3', 'unit_of_measure': {'unit': 'V'}, 'value': 230.478394}, {'measurand': 'Current.Import', 'unit_of_measure': {'unit': 'A'}, 'value': 0.066665}, {'measurand': 'Current.Import', 'phase': 'L1', 'unit_of_measure': {'unit': 'A'}, 'value': 0.006823}, {'measurand': 'Current.Import', 'phase': 'L2', 'unit_of_measure': {'unit': 'A'}, 'value': 0.014182}, {'measurand': 'Current.Import', 'phase': 'L3', 'unit_of_measure': {'unit': 'A'}, 'value': 0.04566}, {'measurand': 'Power.Active.Import', 'unit_of_measure': {'unit': 'W'}, 'value': 15.364765}, {'measurand': 'Power.Factor', 'phase': 'L1', 'value': 0.167825}, {'measurand': 'Power.Factor', 'phase': 'L2', 'value': 0.210523}, {'measurand': 'Power.Factor', 'phase': 'L3', 'value': 0.0}], 'timestamp': '2023-03-29T09:38:23Z'}], 'seq_no': 10, 'timestamp': '2023-03-29T09:38:23Z', 'transaction_info': {'custom_data': {'time_spent_connected': 189, 'vendor_id': 'com.chargepoint'}, 'time_spent_charging': 0, 'transaction_id': '6519450883396284070'}, 'trigger_reason': 'MeterValuePeriodic'}, 'cp_id': 'cp6k', 'status': None}
SQL_DB - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'TransactionEvent', 'type': 'ocpp_log', 'content': {'event_type': 'Updated', 'evse': {'connector_id': 1, 'id': 1}, 'meter_value': [{'sampled_value': [{'measurand': 'Energy.Active.Import.Register', 'unit_of_measure': {'unit': 'Wh'}, 'value': 545.144261}, {'measurand': 'Voltage', 'unit_of_measure': {'unit': 'V'}, 'value': 230.478394}, {'measurand': 'Voltage', 'phase': 'L1', 'unit_of_measure': {'unit': 'V'}, 'value': 230.477707}, {'measurand': 'Voltage', 'phase': 'L2', 'unit_of_measure': {'unit': 'V'}, 'value': 230.477798}, {'measurand': 'Voltage', 'phase': 'L3', 'unit_of_measure': {'unit': 'V'}, 'value': 230.478394}, {'measurand': 'Current.Import', 'unit_of_measure': {'unit': 'A'}, 'value': 0.066665}, {'measurand': 'Current.Import', 'phase': 'L1', 'unit_of_measure': {'unit': 'A'}, 'value': 0.006823}, {'measurand': 'Current.Import', 'phase': 'L2', 'unit_of_measure': {'unit': 'A'}, 'value': 0.014182}, {'measurand': 'Current.Import', 'phase': 'L3', 'unit_of_measure': {'unit': 'A'}, 'value': 0.04566}, {'measurand': 'Power.Active.Import', 'unit_of_measure': {'unit': 'W'}, 'value': 15.364765}, {'measurand': 'Power.Factor', 'phase': 'L1', 'value': 0.167825}, {'measurand': 'Power.Factor', 'phase': 'L2', 'value': 0.210523}, {'measurand': 'Power.Factor', 'phase': 'L3', 'value': 0.0}], 'timestamp': '2023-03-29T09:38:23Z'}], 'seq_no': 10, 'timestamp': '2023-03-29T09:38:23Z', 'transaction_info': {'custom_data': {'time_spent_connected': 189, 'vendor_id': 'com.chargepoint'}, 'time_spent_charging': 0, 'transaction_id': '6519450883396284070'}, 'trigger_reason': 'MeterValuePeriodic'}, 'cp_id': 'cp6k', 'status': None}
SQL_DB - ERROR - Traceback (most recent call last):
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/rabbit_mq/rabbit_handler.py", line 122, in on_request
    response_content = await self.handle_request(request)
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/CSMS/db/db.py", line 78, in on_db_request
    raise e
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/CSMS/db/db.py", line 70, in on_db_request
    toReturn = method(cp_id=request.cp_id, **request.content)
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/CSMS/db/db.py", line 308, in TransactionEvent
    transaction = Transaction(**transaction_info)
  File "<string>", line 4, in __init__
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/orm/state.py", line 481, in _initialize_instance
    with util.safe_reraise():
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/util/compat.py", line 208, in raise_
    raise exception
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/orm/state.py", line 479, in _initialize_instance
    return manager.original_init(*mixed[1:], **kwargs)
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/CSMS/db/database_Base.py", line 29, in __init__
    super().__init__(**kwargs)
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/orm/decl_base.py", line 1197, in _declarative_constructor
    raise TypeError(
TypeError: 'custom_data' is an invalid keyword argument for Transaction

API - INFO - RabbitMQ SENDING Message: {"destination": "Ocpp_Server", "origin": "API", "method": "requestStopTransaction", "type": "request", "content": {"transaction_id": "6519450883396284070"}, "cp_id": "cp6k", "status": null}
INFO:Ocpp_Server:RECEIVED: {'destination': 'Ocpp_Server', 'origin': 'API', 'method': 'requestStopTransaction', 'type': 'request', 'content': {'transaction_id': '6519450883396284070'}, 'cp_id': 'cp6k', 'status': None}
INFO:ocpp:cp6k: send [2,"4395f48f-ecc2-4183-ae58-c46acd27c638","RequestStopTransaction",{"transactionId":"6519450883396284070"}]
INFO:ocpp:cp6k: receive message [2,"1957ad26b0f35debce0aefe527eeeb07","TransactionEvent",{"eventType":"Updated","evse":{"connectorId":1,"id":1},"seqNo":11,"timestamp":"2023-03-29T09:38:23Z","transactionInfo":{"chargingState":"SuspendedEVSE","customData":{"timeSpentConnected":190,"vendorId":"com.chargepoint"},"timeSpentCharging":0,"transactionId":"6519450883396284070"},"triggerReason":"ChargingStateChanged"}]
INFO:Ocpp_Server:RabbitMQ SENDING Message: {"destination": null, "origin": "Ocpp_Server", "method": "TransactionEvent", "type": "ocpp_log", "content": {"event_type": "Updated", "evse": {"connector_id": 1, "id": 1}, "seq_no": 11, "timestamp": "2023-03-29T09:38:23Z", "transaction_info": {"charging_state": "SuspendedEVSE", "custom_data": {"time_spent_connected": 190, "vendor_id": "com.chargepoint"}, "time_spent_charging": 0, "transaction_id": "6519450883396284070"}, "trigger_reason": "ChargingStateChanged"}, "cp_id": "cp6k", "status": null}
INFO:ocpp:cp6k: send [3,"1957ad26b0f35debce0aefe527eeeb07",{}]
API - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'TransactionEvent', 'type': 'ocpp_log', 'content': {'event_type': 'Updated', 'evse': {'connector_id': 1, 'id': 1}, 'seq_no': 11, 'timestamp': '2023-03-29T09:38:23Z', 'transaction_info': {'charging_state': 'SuspendedEVSE', 'custom_data': {'time_spent_connected': 190, 'vendor_id': 'com.chargepoint'}, 'time_spent_charging': 0, 'transaction_id': '6519450883396284070'}, 'trigger_reason': 'ChargingStateChanged'}, 'cp_id': 'cp6k', 'status': None}
SQL_DB - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'TransactionEvent', 'type': 'ocpp_log', 'content': {'event_type': 'Updated', 'evse': {'connector_id': 1, 'id': 1}, 'seq_no': 11, 'timestamp': '2023-03-29T09:38:23Z', 'transaction_info': {'charging_state': 'SuspendedEVSE', 'custom_data': {'time_spent_connected': 190, 'vendor_id': 'com.chargepoint'}, 'time_spent_charging': 0, 'transaction_id': '6519450883396284070'}, 'trigger_reason': 'ChargingStateChanged'}, 'cp_id': 'cp6k', 'status': None}
SQL_DB - ERROR - Traceback (most recent call last):
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/rabbit_mq/rabbit_handler.py", line 122, in on_request
    response_content = await self.handle_request(request)
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/CSMS/db/db.py", line 78, in on_db_request
    raise e
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/CSMS/db/db.py", line 70, in on_db_request
    toReturn = method(cp_id=request.cp_id, **request.content)
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/CSMS/db/db.py", line 308, in TransactionEvent
    transaction = Transaction(**transaction_info)
  File "<string>", line 4, in __init__
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/orm/state.py", line 481, in _initialize_instance
    with util.safe_reraise():
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/util/compat.py", line 208, in raise_
    raise exception
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/orm/state.py", line 479, in _initialize_instance
    return manager.original_init(*mixed[1:], **kwargs)
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/CSMS/db/database_Base.py", line 29, in __init__
    super().__init__(**kwargs)
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/orm/decl_base.py", line 1197, in _declarative_constructor
    raise TypeError(
TypeError: 'custom_data' is an invalid keyword argument for Transaction

INFO:ocpp:cp6k: receive message [3,"4395f48f-ecc2-4183-ae58-c46acd27c638",{"status":"Accepted"}]
INFO:Ocpp_Server:RabbitMQ SENDING Message: {"destination": "API", "origin": "Ocpp_Server", "method": "requestStopTransaction", "type": "response", "content": {"status": "Accepted", "status_info": null}, "cp_id": "cp6k", "status": "OK"}
API - INFO - RESPONSE: {'destination': 'API', 'origin': 'Ocpp_Server', 'method': 'requestStopTransaction', 'type': 'response', 'content': {'status': 'Accepted', 'status_info': None}, 'cp_id': 'cp6k', 'status': 'OK'}
INFO:     127.0.0.1:60834 - "POST /charge/stop?transaction_id=6519450883396284070 HTTP/1.1" 200 OK
INFO:ocpp:cp6k: receive message [2,"749df1da886c7885957b4d004e0de884","TransactionEvent",{"eventType":"Updated","evse":{"connectorId":1,"id":1},"meterValue":[{"sampledValue":[{"measurand":"Energy.Active.Import.Register","unitOfMeasure":{"unit":"Wh"},"value":545.145765},{"measurand":"Voltage","unitOfMeasure":{"unit":"V"},"value":230.215988},{"measurand":"Voltage","phase":"L1","unitOfMeasure":{"unit":"V"},"value":16.171396},{"measurand":"Voltage","phase":"L2","unitOfMeasure":{"unit":"V"},"value":5.238431},{"measurand":"Voltage","phase":"L3","unitOfMeasure":{"unit":"V"},"value":230.215988},{"measurand":"Current.Import","unitOfMeasure":{"unit":"A"},"value":0.0},{"measurand":"Current.Import","phase":"L1","unitOfMeasure":{"unit":"A"},"value":0.0},{"measurand":"Current.Import","phase":"L2","unitOfMeasure":{"unit":"A"},"value":0.0},{"measurand":"Current.Import","phase":"L3","unitOfMeasure":{"unit":"A"},"value":0.0},{"measurand":"Power.Active.Import","unitOfMeasure":{"unit":"W"},"value":0.0},{"measurand":"Power.Factor","phase":"L1","value":0.167825},{"measurand":"Power.Factor","phase":"L2","value":0.210523},{"measurand":"Power.Factor","phase":"L3","value":0.0}],"timestamp":"2023-03-29T09:38:43Z"}],"seqNo":12,"timestamp":"2023-03-29T09:38:43Z","transactionInfo":{"customData":{"timeSpentConnected":209,"vendorId":"com.chargepoint"},"timeSpentCharging":0,"transactionId":"6519450883396284070"},"triggerReason":"MeterValuePeriodic"}]
INFO:Ocpp_Server:RabbitMQ SENDING Message: {"destination": null, "origin": "Ocpp_Server", "method": "TransactionEvent", "type": "ocpp_log", "content": {"event_type": "Updated", "evse": {"connector_id": 1, "id": 1}, "meter_value": [{"sampled_value": [{"measurand": "Energy.Active.Import.Register", "unit_of_measure": {"unit": "Wh"}, "value": 545.145765}, {"measurand": "Voltage", "unit_of_measure": {"unit": "V"}, "value": 230.215988}, {"measurand": "Voltage", "phase": "L1", "unit_of_measure": {"unit": "V"}, "value": 16.171396}, {"measurand": "Voltage", "phase": "L2", "unit_of_measure": {"unit": "V"}, "value": 5.238431}, {"measurand": "Voltage", "phase": "L3", "unit_of_measure": {"unit": "V"}, "value": 230.215988}, {"measurand": "Current.Import", "unit_of_measure": {"unit": "A"}, "value": 0.0}, {"measurand": "Current.Import", "phase": "L1", "unit_of_measure": {"unit": "A"}, "value": 0.0}, {"measurand": "Current.Import", "phase": "L2", "unit_of_measure": {"unit": "A"}, "value": 0.0}, {"measurand": "Current.Import", "phase": "L3", "unit_of_measure": {"unit": "A"}, "value": 0.0}, {"measurand": "Power.Active.Import", "unit_of_measure": {"unit": "W"}, "value": 0.0}, {"measurand": "Power.Factor", "phase": "L1", "value": 0.167825}, {"measurand": "Power.Factor", "phase": "L2", "value": 0.210523}, {"measurand": "Power.Factor", "phase": "L3", "value": 0.0}], "timestamp": "2023-03-29T09:38:43Z"}], "seq_no": 12, "timestamp": "2023-03-29T09:38:43Z", "transaction_info": {"custom_data": {"time_spent_connected": 209, "vendor_id": "com.chargepoint"}, "time_spent_charging": 0, "transaction_id": "6519450883396284070"}, "trigger_reason": "MeterValuePeriodic"}, "cp_id": "cp6k", "status": null}
INFO:ocpp:cp6k: send [3,"749df1da886c7885957b4d004e0de884",{}]
API - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'TransactionEvent', 'type': 'ocpp_log', 'content': {'event_type': 'Updated', 'evse': {'connector_id': 1, 'id': 1}, 'meter_value': [{'sampled_value': [{'measurand': 'Energy.Active.Import.Register', 'unit_of_measure': {'unit': 'Wh'}, 'value': 545.145765}, {'measurand': 'Voltage', 'unit_of_measure': {'unit': 'V'}, 'value': 230.215988}, {'measurand': 'Voltage', 'phase': 'L1', 'unit_of_measure': {'unit': 'V'}, 'value': 16.171396}, {'measurand': 'Voltage', 'phase': 'L2', 'unit_of_measure': {'unit': 'V'}, 'value': 5.238431}, {'measurand': 'Voltage', 'phase': 'L3', 'unit_of_measure': {'unit': 'V'}, 'value': 230.215988}, {'measurand': 'Current.Import', 'unit_of_measure': {'unit': 'A'}, 'value': 0.0}, {'measurand': 'Current.Import', 'phase': 'L1', 'unit_of_measure': {'unit': 'A'}, 'value': 0.0}, {'measurand': 'Current.Import', 'phase': 'L2', 'unit_of_measure': {'unit': 'A'}, 'value': 0.0}, {'measurand': 'Current.Import', 'phase': 'L3', 'unit_of_measure': {'unit': 'A'}, 'value': 0.0}, {'measurand': 'Power.Active.Import', 'unit_of_measure': {'unit': 'W'}, 'value': 0.0}, {'measurand': 'Power.Factor', 'phase': 'L1', 'value': 0.167825}, {'measurand': 'Power.Factor', 'phase': 'L2', 'value': 0.210523}, {'measurand': 'Power.Factor', 'phase': 'L3', 'value': 0.0}], 'timestamp': '2023-03-29T09:38:43Z'}], 'seq_no': 12, 'timestamp': '2023-03-29T09:38:43Z', 'transaction_info': {'custom_data': {'time_spent_connected': 209, 'vendor_id': 'com.chargepoint'}, 'time_spent_charging': 0, 'transaction_id': '6519450883396284070'}, 'trigger_reason': 'MeterValuePeriodic'}, 'cp_id': 'cp6k', 'status': None}
SQL_DB - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'TransactionEvent', 'type': 'ocpp_log', 'content': {'event_type': 'Updated', 'evse': {'connector_id': 1, 'id': 1}, 'meter_value': [{'sampled_value': [{'measurand': 'Energy.Active.Import.Register', 'unit_of_measure': {'unit': 'Wh'}, 'value': 545.145765}, {'measurand': 'Voltage', 'unit_of_measure': {'unit': 'V'}, 'value': 230.215988}, {'measurand': 'Voltage', 'phase': 'L1', 'unit_of_measure': {'unit': 'V'}, 'value': 16.171396}, {'measurand': 'Voltage', 'phase': 'L2', 'unit_of_measure': {'unit': 'V'}, 'value': 5.238431}, {'measurand': 'Voltage', 'phase': 'L3', 'unit_of_measure': {'unit': 'V'}, 'value': 230.215988}, {'measurand': 'Current.Import', 'unit_of_measure': {'unit': 'A'}, 'value': 0.0}, {'measurand': 'Current.Import', 'phase': 'L1', 'unit_of_measure': {'unit': 'A'}, 'value': 0.0}, {'measurand': 'Current.Import', 'phase': 'L2', 'unit_of_measure': {'unit': 'A'}, 'value': 0.0}, {'measurand': 'Current.Import', 'phase': 'L3', 'unit_of_measure': {'unit': 'A'}, 'value': 0.0}, {'measurand': 'Power.Active.Import', 'unit_of_measure': {'unit': 'W'}, 'value': 0.0}, {'measurand': 'Power.Factor', 'phase': 'L1', 'value': 0.167825}, {'measurand': 'Power.Factor', 'phase': 'L2', 'value': 0.210523}, {'measurand': 'Power.Factor', 'phase': 'L3', 'value': 0.0}], 'timestamp': '2023-03-29T09:38:43Z'}], 'seq_no': 12, 'timestamp': '2023-03-29T09:38:43Z', 'transaction_info': {'custom_data': {'time_spent_connected': 209, 'vendor_id': 'com.chargepoint'}, 'time_spent_charging': 0, 'transaction_id': '6519450883396284070'}, 'trigger_reason': 'MeterValuePeriodic'}, 'cp_id': 'cp6k', 'status': None}
SQL_DB - ERROR - Traceback (most recent call last):
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/rabbit_mq/rabbit_handler.py", line 122, in on_request
    response_content = await self.handle_request(request)
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/CSMS/db/db.py", line 78, in on_db_request
    raise e
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/CSMS/db/db.py", line 70, in on_db_request
    toReturn = method(cp_id=request.cp_id, **request.content)
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/CSMS/db/db.py", line 308, in TransactionEvent
    transaction = Transaction(**transaction_info)
  File "<string>", line 4, in __init__
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/orm/state.py", line 481, in _initialize_instance
    with util.safe_reraise():
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/util/compat.py", line 208, in raise_
    raise exception
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/orm/state.py", line 479, in _initialize_instance
    return manager.original_init(*mixed[1:], **kwargs)
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/CSMS/db/database_Base.py", line 29, in __init__
    super().__init__(**kwargs)
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/orm/decl_base.py", line 1197, in _declarative_constructor
    raise TypeError(
TypeError: 'custom_data' is an invalid keyword argument for Transaction

INFO:ocpp:cp6k: receive message [2,"8c11f246ac2c7718e6bc8d392ec8bc49","Heartbeat",{"customData":{"rsrp":-93.0,"rsrq":-9.0,"rssi":-63.0,"snr":6.4,"vendorId":"com.chargepoint"}}]
INFO:ocpp:cp6k: send [3,"8c11f246ac2c7718e6bc8d392ec8bc49",{"currentTime":"2023-03-29T09:38:56.639574"}]
INFO:ocpp:cp6k: receive message [2,"1abfbb105825e15b6b922beee4bdb6ab","TransactionEvent",{"eventType":"Ended","evse":{"connectorId":1,"id":1},"meterValue":[{"sampledValue":[{"context":"Transaction.End","measurand":"Energy.Active.Import.Register","unitOfMeasure":{"unit":"Wh"},"value":545.1}],"timestamp":"2023-03-29T09:39:01Z"}],"seqNo":13,"timestamp":"2023-03-29T09:39:01Z","transactionInfo":{"chargingState":"EVConnected","customData":{"timeSpentConnected":228,"vendorId":"com.chargepoint"},"stoppedReason":"Remote","timeSpentCharging":0,"transactionId":"6519450883396284070"},"triggerReason":"ChargingStateChanged"}]
INFO:Ocpp_Server:RabbitMQ SENDING Message: {"destination": null, "origin": "Ocpp_Server", "method": "TransactionEvent", "type": "ocpp_log", "content": {"event_type": "Ended", "evse": {"connector_id": 1, "id": 1}, "meter_value": [{"sampled_value": [{"context": "Transaction.End", "measurand": "Energy.Active.Import.Register", "unit_of_measure": {"unit": "Wh"}, "value": 545.1}], "timestamp": "2023-03-29T09:39:01Z"}], "seq_no": 13, "timestamp": "2023-03-29T09:39:01Z", "transaction_info": {"charging_state": "EVConnected", "custom_data": {"time_spent_connected": 228, "vendor_id": "com.chargepoint"}, "stopped_reason": "Remote", "time_spent_charging": 0, "transaction_id": "6519450883396284070"}, "trigger_reason": "ChargingStateChanged"}, "cp_id": "cp6k", "status": null}
INFO:ocpp:cp6k: send [3,"1abfbb105825e15b6b922beee4bdb6ab",{}]
INFO:Ocpp_Server:RabbitMQ SENDING Message: {"destination": "SQL_DB", "origin": "Ocpp_Server", "method": "remove", "type": "ocpp_log", "content": {"table": "ChargingProfile", "filters": {"transaction_id": "6519450883396284070"}}, "cp_id": "cp6k", "status": null}
API - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'TransactionEvent', 'type': 'ocpp_log', 'content': {'event_type': 'Ended', 'evse': {'connector_id': 1, 'id': 1}, 'meter_value': [{'sampled_value': [{'context': 'Transaction.End', 'measurand': 'Energy.Active.Import.Register', 'unit_of_measure': {'unit': 'Wh'}, 'value': 545.1}], 'timestamp': '2023-03-29T09:39:01Z'}], 'seq_no': 13, 'timestamp': '2023-03-29T09:39:01Z', 'transaction_info': {'charging_state': 'EVConnected', 'custom_data': {'time_spent_connected': 228, 'vendor_id': 'com.chargepoint'}, 'stopped_reason': 'Remote', 'time_spent_charging': 0, 'transaction_id': '6519450883396284070'}, 'trigger_reason': 'ChargingStateChanged'}, 'cp_id': 'cp6k', 'status': None}
SQL_DB - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'TransactionEvent', 'type': 'ocpp_log', 'content': {'event_type': 'Ended', 'evse': {'connector_id': 1, 'id': 1}, 'meter_value': [{'sampled_value': [{'context': 'Transaction.End', 'measurand': 'Energy.Active.Import.Register', 'unit_of_measure': {'unit': 'Wh'}, 'value': 545.1}], 'timestamp': '2023-03-29T09:39:01Z'}], 'seq_no': 13, 'timestamp': '2023-03-29T09:39:01Z', 'transaction_info': {'charging_state': 'EVConnected', 'custom_data': {'time_spent_connected': 228, 'vendor_id': 'com.chargepoint'}, 'stopped_reason': 'Remote', 'time_spent_charging': 0, 'transaction_id': '6519450883396284070'}, 'trigger_reason': 'ChargingStateChanged'}, 'cp_id': 'cp6k', 'status': None}
INFO:ocpp:cp6k: send [2,"4b82555e-5d1b-4003-83f4-53768319ce63","GetTransactionStatus",{"transactionId":"6519450883396284070"}]
API - INFO - RECEIVED: {'destination': 'SQL_DB', 'origin': 'Ocpp_Server', 'method': 'remove', 'type': 'ocpp_log', 'content': {'table': 'ChargingProfile', 'filters': {'transaction_id': '6519450883396284070'}}, 'cp_id': 'cp6k', 'status': None}
SQL_DB - ERROR - Traceback (most recent call last):
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/rabbit_mq/rabbit_handler.py", line 122, in on_request
    response_content = await self.handle_request(request)
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/CSMS/db/db.py", line 78, in on_db_request
    raise e
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/CSMS/db/db.py", line 70, in on_db_request
    toReturn = method(cp_id=request.cp_id, **request.content)
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/CSMS/db/db.py", line 308, in TransactionEvent
    transaction = Transaction(**transaction_info)
  File "<string>", line 4, in __init__
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/orm/state.py", line 481, in _initialize_instance
    with util.safe_reraise():
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/util/compat.py", line 208, in raise_
    raise exception
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/orm/state.py", line 479, in _initialize_instance
    return manager.original_init(*mixed[1:], **kwargs)
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/CSMS/db/database_Base.py", line 29, in __init__
    super().__init__(**kwargs)
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/orm/decl_base.py", line 1197, in _declarative_constructor
    raise TypeError(
TypeError: 'custom_data' is an invalid keyword argument for Transaction

SQL_DB - INFO - RECEIVED: {'destination': 'SQL_DB', 'origin': 'Ocpp_Server', 'method': 'remove', 'type': 'ocpp_log', 'content': {'table': 'ChargingProfile', 'filters': {'transaction_id': '6519450883396284070'}}, 'cp_id': 'cp6k', 'status': None}
INFO:ocpp:cp6k: receive message [4,"4b82555e-5d1b-4003-83f4-53768319ce63","NotImplemented","GetTransactionStatusRequest handler not available",{}]
WARNING:ocpp:Received a CALLError: <CallError - unique_id=4b82555e-5d1b-4003-83f4-53768319ce63, error_code=NotImplemented, error_description=GetTransactionStatusRequest handler not available, error_details={}>'
ERROR:asyncio:Task exception was never retrieved
future: <Task finished name='Task-177' coro=<ChargePoint.after_TransactionEvent() done, defined at /home/it2s/Desktop/joao_csms/IT_CSMS/src/CSMS/ocpp_server/chargePointRepr.py:723> exception=<NotImplementedError - description=GetTransactionStatusRequest handler not available, details={}>>
Traceback (most recent call last):
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/CSMS/ocpp_server/chargePointRepr.py", line 747, in after_TransactionEvent
    transaction_status = await self.getTransactionStatus(transaction_id=transaction_id)
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/CSMS/ocpp_server/chargePointRepr.py", line 335, in getTransactionStatus
    return await self.call(request, suppress=False)
  File "/home/it2s/.local/lib/python3.10/site-packages/ocpp/charge_point.py", line 286, in call
    raise response.to_exception()
ocpp.exceptions.NotImplementedError: NotImplementedError: GetTransactionStatusRequest handler not available, {}
INFO:ocpp:cp6k: receive message [2,"2f57fee7b6e0d9468cd4b7fb8fa53d32","StatusNotification",{"connectorId":1,"connectorStatus":"Available","evseId":1,"timestamp":"2023-03-29T09:39:04Z"}]
INFO:Ocpp_Server:RabbitMQ SENDING Message: {"destination": null, "origin": "Ocpp_Server", "method": "StatusNotification", "type": "ocpp_log", "content": {"connector_id": 1, "connector_status": "Available", "evse_id": 1, "timestamp": "2023-03-29T09:39:04Z"}, "cp_id": "cp6k", "status": null}
INFO:ocpp:cp6k: send [3,"2f57fee7b6e0d9468cd4b7fb8fa53d32",{}]
SQL_DB - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'StatusNotification', 'type': 'ocpp_log', 'content': {'connector_id': 1, 'connector_status': 'Available', 'evse_id': 1, 'timestamp': '2023-03-29T09:39:04Z'}, 'cp_id': 'cp6k', 'status': None}
API - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'StatusNotification', 'type': 'ocpp_log', 'content': {'connector_id': 1, 'connector_status': 'Available', 'evse_id': 1, 'timestamp': '2023-03-29T09:39:04Z'}, 'cp_id': 'cp6k', 'status': None}
INFO:ocpp:cp6k: receive message [2,"5da1eb6fec49c5037daef8235d8fadec","NotifyEvent",{"eventData":[{"actualValue":"Available","component":{"evse":{"id":1},"name":"EVSE"},"eventId":0,"eventNotificationType":"HardWiredMonitor","timestamp":"2023-03-29T09:39:02Z","trigger":"Delta","variable":{"name":"AvailabilityState"}}],"generatedAt":"2023-03-29T09:39:07Z","seqNo":0}]
INFO:Ocpp_Server:RabbitMQ SENDING Message: {"destination": null, "origin": "Ocpp_Server", "method": "NotifyEvent", "type": "ocpp_log", "content": {"event_data": [{"actual_value": "Available", "component": {"evse": {"id": 1}, "name": "EVSE"}, "event_id": 0, "event_notification_type": "HardWiredMonitor", "timestamp": "2023-03-29T09:39:02Z", "trigger": "Delta", "variable": {"name": "AvailabilityState"}}], "generated_at": "2023-03-29T09:39:07Z", "seq_no": 0}, "cp_id": "cp6k", "status": null}
INFO:ocpp:cp6k: send [3,"5da1eb6fec49c5037daef8235d8fadec",{}]
API - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'NotifyEvent', 'type': 'ocpp_log', 'content': {'event_data': [{'actual_value': 'Available', 'component': {'evse': {'id': 1}, 'name': 'EVSE'}, 'event_id': 0, 'event_notification_type': 'HardWiredMonitor', 'timestamp': '2023-03-29T09:39:02Z', 'trigger': 'Delta', 'variable': {'name': 'AvailabilityState'}}], 'generated_at': '2023-03-29T09:39:07Z', 'seq_no': 0}, 'cp_id': 'cp6k', 'status': None}
SQL_DB - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'NotifyEvent', 'type': 'ocpp_log', 'content': {'event_data': [{'actual_value': 'Available', 'component': {'evse': {'id': 1}, 'name': 'EVSE'}, 'event_id': 0, 'event_notification_type': 'HardWiredMonitor', 'timestamp': '2023-03-29T09:39:02Z', 'trigger': 'Delta', 'variable': {'name': 'AvailabilityState'}}], 'generated_at': '2023-03-29T09:39:07Z', 'seq_no': 0}, 'cp_id': 'cp6k', 'status': None}
API - INFO - RabbitMQ SENDING Message: {"destination": "Ocpp_Server", "origin": "API", "method": "requestStartTransaction", "type": "request", "content": {"id_token": {"id_token": "1dee35d6-ed03-4882-9762-86197f258a74", "type": "ISO14443", "additional_info": null}, "remote_start_id": null, "evse_id": 1, "group_id_token": null, "charging_profile": null}, "cp_id": "cp6k", "status": null}
INFO:Ocpp_Server:RECEIVED: {'destination': 'Ocpp_Server', 'origin': 'API', 'method': 'requestStartTransaction', 'type': 'request', 'content': {'id_token': {'id_token': '1dee35d6-ed03-4882-9762-86197f258a74', 'type': 'ISO14443', 'additional_info': None}, 'remote_start_id': None, 'evse_id': 1, 'group_id_token': None, 'charging_profile': None}, 'cp_id': 'cp6k', 'status': None}
INFO:ocpp:cp6k: send [2,"0dfde578-04a3-4547-8600-e7cfab54ad64","RequestStartTransaction",{"idToken":{"idToken":"1dee35d6-ed03-4882-9762-86197f258a74","type":"ISO14443"},"remoteStartId":87,"evseId":1}]
INFO:ocpp:cp6k: receive message [3,"0dfde578-04a3-4547-8600-e7cfab54ad64",{"status":"Accepted","transactionId":"7743786178216125306"}]
INFO:Ocpp_Server:RabbitMQ SENDING Message: {"destination": "API", "origin": "Ocpp_Server", "method": "requestStartTransaction", "type": "response", "content": {"status": "Accepted", "status_info": null, "transaction_id": "7743786178216125306"}, "cp_id": "cp6k", "status": "OK"}
API - INFO - RESPONSE: {'destination': 'API', 'origin': 'Ocpp_Server', 'method': 'requestStartTransaction', 'type': 'response', 'content': {'status': 'Accepted', 'status_info': None, 'transaction_id': '7743786178216125306'}, 'cp_id': 'cp6k', 'status': 'OK'}
INFO:     127.0.0.1:40434 - "POST /charge/start?evse_id=1&cp_id=cp6k HTTP/1.1" 200 OK
INFO:ocpp:cp6k: receive message [2,"5a2b742f4d054751046b3afe262f4d9a","Heartbeat",{"customData":{"rsrp":-93.0,"rsrq":-9.0,"rssi":-62.0,"snr":9.600000000000001,"vendorId":"com.chargepoint"}}]
INFO:ocpp:cp6k: send [3,"5a2b742f4d054751046b3afe262f4d9a",{"currentTime":"2023-03-29T09:39:23.664601"}]
INFO:ocpp:cp6k: receive message [2,"e9cc43381b74d8233cf1814e32fb4e00","TransactionEvent",{"eventType":"Started","evse":{"connectorId":1,"id":1},"idToken":{"idToken":"1dee35d6-ed03-4882-9762-86197f258a74","type":"Central"},"meterValue":[{"sampledValue":[{"context":"Transaction.Begin","measurand":"Energy.Active.Import.Register","unitOfMeasure":{"unit":"Wh"},"value":545.1},{"context":"Transaction.Begin","measurand":"Voltage","unitOfMeasure":{"unit":"V"},"value":230.38649},{"context":"Transaction.Begin","measurand":"Voltage","phase":"L1","unitOfMeasure":{"unit":"V"},"value":16.167543},{"context":"Transaction.Begin","measurand":"Voltage","phase":"L2","unitOfMeasure":{"unit":"V"},"value":5.233463},{"context":"Transaction.Begin","measurand":"Voltage","phase":"L3","unitOfMeasure":{"unit":"V"},"value":230.38649},{"context":"Transaction.Begin","measurand":"Current.Import","unitOfMeasure":{"unit":"A"},"value":0.0},{"context":"Transaction.Begin","measurand":"Current.Import","phase":"L1","unitOfMeasure":{"unit":"A"},"value":0.0},{"context":"Transaction.Begin","measurand":"Current.Import","phase":"L2","unitOfMeasure":{"unit":"A"},"value":0.0},{"context":"Transaction.Begin","measurand":"Current.Import","phase":"L3","unitOfMeasure":{"unit":"A"},"value":0.0},{"context":"Transaction.Begin","measurand":"Power.Active.Import","unitOfMeasure":{"unit":"W"},"value":0.0},{"context":"Transaction.Begin","measurand":"Power.Factor","phase":"L1","value":1.0},{"context":"Transaction.Begin","measurand":"Power.Factor","phase":"L2","value":1.0},{"context":"Transaction.Begin","measurand":"Power.Factor","phase":"L3","value":1.0}],"timestamp":"2023-03-29T09:39:23Z"}],"seqNo":0,"timestamp":"2023-03-29T09:39:23Z","transactionInfo":{"chargingState":"EVConnected","customData":{"timeSpentConnected":0,"vendorId":"com.chargepoint"},"remoteStartId":87,"transactionId":"7743786178216125306"},"triggerReason":"ChargingStateChanged"}]
INFO:Ocpp_Server:RabbitMQ SENDING Message: {"destination": null, "origin": "Ocpp_Server", "method": "TransactionEvent", "type": "ocpp_log", "content": {"event_type": "Started", "evse": {"connector_id": 1, "id": 1}, "id_token": {"id_token": "1dee35d6-ed03-4882-9762-86197f258a74", "type": "Central"}, "meter_value": [{"sampled_value": [{"context": "Transaction.Begin", "measurand": "Energy.Active.Import.Register", "unit_of_measure": {"unit": "Wh"}, "value": 545.1}, {"context": "Transaction.Begin", "measurand": "Voltage", "unit_of_measure": {"unit": "V"}, "value": 230.38649}, {"context": "Transaction.Begin", "measurand": "Voltage", "phase": "L1", "unit_of_measure": {"unit": "V"}, "value": 16.167543}, {"context": "Transaction.Begin", "measurand": "Voltage", "phase": "L2", "unit_of_measure": {"unit": "V"}, "value": 5.233463}, {"context": "Transaction.Begin", "measurand": "Voltage", "phase": "L3", "unit_of_measure": {"unit": "V"}, "value": 230.38649}, {"context": "Transaction.Begin", "measurand": "Current.Import", "unit_of_measure": {"unit": "A"}, "value": 0.0}, {"context": "Transaction.Begin", "measurand": "Current.Import", "phase": "L1", "unit_of_measure": {"unit": "A"}, "value": 0.0}, {"context": "Transaction.Begin", "measurand": "Current.Import", "phase": "L2", "unit_of_measure": {"unit": "A"}, "value": 0.0}, {"context": "Transaction.Begin", "measurand": "Current.Import", "phase": "L3", "unit_of_measure": {"unit": "A"}, "value": 0.0}, {"context": "Transaction.Begin", "measurand": "Power.Active.Import", "unit_of_measure": {"unit": "W"}, "value": 0.0}, {"context": "Transaction.Begin", "measurand": "Power.Factor", "phase": "L1", "value": 1.0}, {"context": "Transaction.Begin", "measurand": "Power.Factor", "phase": "L2", "value": 1.0}, {"context": "Transaction.Begin", "measurand": "Power.Factor", "phase": "L3", "value": 1.0}], "timestamp": "2023-03-29T09:39:23Z"}], "seq_no": 0, "timestamp": "2023-03-29T09:39:23Z", "transaction_info": {"charging_state": "EVConnected", "custom_data": {"time_spent_connected": 0, "vendor_id": "com.chargepoint"}, "remote_start_id": 87, "transaction_id": "7743786178216125306"}, "trigger_reason": "ChargingStateChanged"}, "cp_id": "cp6k", "status": null}
INFO:Ocpp_Server:RabbitMQ SENDING Message: {"destination": "SQL_DB", "origin": "Ocpp_Server", "method": "select", "type": "request", "content": {"table": "IdToken", "filters": {"id_token": "1dee35d6-ed03-4882-9762-86197f258a74"}, "mode": {"id_token_info": {"group_id_token": {}, "evse": {}}}}, "cp_id": "cp6k", "status": null}
API - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'TransactionEvent', 'type': 'ocpp_log', 'content': {'event_type': 'Started', 'evse': {'connector_id': 1, 'id': 1}, 'id_token': {'id_token': '1dee35d6-ed03-4882-9762-86197f258a74', 'type': 'Central'}, 'meter_value': [{'sampled_value': [{'context': 'Transaction.Begin', 'measurand': 'Energy.Active.Import.Register', 'unit_of_measure': {'unit': 'Wh'}, 'value': 545.1}, {'context': 'Transaction.Begin', 'measurand': 'Voltage', 'unit_of_measure': {'unit': 'V'}, 'value': 230.38649}, {'context': 'Transaction.Begin', 'measurand': 'Voltage', 'phase': 'L1', 'unit_of_measure': {'unit': 'V'}, 'value': 16.167543}, {'context': 'Transaction.Begin', 'measurand': 'Voltage', 'phase': 'L2', 'unit_of_measure': {'unit': 'V'}, 'value': 5.233463}, {'context': 'Transaction.Begin', 'measurand': 'Voltage', 'phase': 'L3', 'unit_of_measure': {'unit': 'V'}, 'value': 230.38649}, {'context': 'Transaction.Begin', 'measurand': 'Current.Import', 'unit_of_measure': {'unit': 'A'}, 'value': 0.0}, {'context': 'Transaction.Begin', 'measurand': 'Current.Import', 'phase': 'L1', 'unit_of_measure': {'unit': 'A'}, 'value': 0.0}, {'context': 'Transaction.Begin', 'measurand': 'Current.Import', 'phase': 'L2', 'unit_of_measure': {'unit': 'A'}, 'value': 0.0}, {'context': 'Transaction.Begin', 'measurand': 'Current.Import', 'phase': 'L3', 'unit_of_measure': {'unit': 'A'}, 'value': 0.0}, {'context': 'Transaction.Begin', 'measurand': 'Power.Active.Import', 'unit_of_measure': {'unit': 'W'}, 'value': 0.0}, {'context': 'Transaction.Begin', 'measurand': 'Power.Factor', 'phase': 'L1', 'value': 1.0}, {'context': 'Transaction.Begin', 'measurand': 'Power.Factor', 'phase': 'L2', 'value': 1.0}, {'context': 'Transaction.Begin', 'measurand': 'Power.Factor', 'phase': 'L3', 'value': 1.0}], 'timestamp': '2023-03-29T09:39:23Z'}], 'seq_no': 0, 'timestamp': '2023-03-29T09:39:23Z', 'transaction_info': {'charging_state': 'EVConnected', 'custom_data': {'time_spent_connected': 0, 'vendor_id': 'com.chargepoint'}, 'remote_start_id': 87, 'transaction_id': '7743786178216125306'}, 'trigger_reason': 'ChargingStateChanged'}, 'cp_id': 'cp6k', 'status': None}
SQL_DB - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'TransactionEvent', 'type': 'ocpp_log', 'content': {'event_type': 'Started', 'evse': {'connector_id': 1, 'id': 1}, 'id_token': {'id_token': '1dee35d6-ed03-4882-9762-86197f258a74', 'type': 'Central'}, 'meter_value': [{'sampled_value': [{'context': 'Transaction.Begin', 'measurand': 'Energy.Active.Import.Register', 'unit_of_measure': {'unit': 'Wh'}, 'value': 545.1}, {'context': 'Transaction.Begin', 'measurand': 'Voltage', 'unit_of_measure': {'unit': 'V'}, 'value': 230.38649}, {'context': 'Transaction.Begin', 'measurand': 'Voltage', 'phase': 'L1', 'unit_of_measure': {'unit': 'V'}, 'value': 16.167543}, {'context': 'Transaction.Begin', 'measurand': 'Voltage', 'phase': 'L2', 'unit_of_measure': {'unit': 'V'}, 'value': 5.233463}, {'context': 'Transaction.Begin', 'measurand': 'Voltage', 'phase': 'L3', 'unit_of_measure': {'unit': 'V'}, 'value': 230.38649}, {'context': 'Transaction.Begin', 'measurand': 'Current.Import', 'unit_of_measure': {'unit': 'A'}, 'value': 0.0}, {'context': 'Transaction.Begin', 'measurand': 'Current.Import', 'phase': 'L1', 'unit_of_measure': {'unit': 'A'}, 'value': 0.0}, {'context': 'Transaction.Begin', 'measurand': 'Current.Import', 'phase': 'L2', 'unit_of_measure': {'unit': 'A'}, 'value': 0.0}, {'context': 'Transaction.Begin', 'measurand': 'Current.Import', 'phase': 'L3', 'unit_of_measure': {'unit': 'A'}, 'value': 0.0}, {'context': 'Transaction.Begin', 'measurand': 'Power.Active.Import', 'unit_of_measure': {'unit': 'W'}, 'value': 0.0}, {'context': 'Transaction.Begin', 'measurand': 'Power.Factor', 'phase': 'L1', 'value': 1.0}, {'context': 'Transaction.Begin', 'measurand': 'Power.Factor', 'phase': 'L2', 'value': 1.0}, {'context': 'Transaction.Begin', 'measurand': 'Power.Factor', 'phase': 'L3', 'value': 1.0}], 'timestamp': '2023-03-29T09:39:23Z'}], 'seq_no': 0, 'timestamp': '2023-03-29T09:39:23Z', 'transaction_info': {'charging_state': 'EVConnected', 'custom_data': {'time_spent_connected': 0, 'vendor_id': 'com.chargepoint'}, 'remote_start_id': 87, 'transaction_id': '7743786178216125306'}, 'trigger_reason': 'ChargingStateChanged'}, 'cp_id': 'cp6k', 'status': None}
SQL_DB - ERROR - Traceback (most recent call last):
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/rabbit_mq/rabbit_handler.py", line 122, in on_request
    response_content = await self.handle_request(request)
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/CSMS/db/db.py", line 78, in on_db_request
    raise e
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/CSMS/db/db.py", line 70, in on_db_request
    toReturn = method(cp_id=request.cp_id, **request.content)
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/CSMS/db/db.py", line 308, in TransactionEvent
    transaction = Transaction(**transaction_info)
  File "<string>", line 4, in __init__
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/orm/state.py", line 481, in _initialize_instance
    with util.safe_reraise():
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/util/compat.py", line 208, in raise_
    raise exception
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/orm/state.py", line 479, in _initialize_instance
    return manager.original_init(*mixed[1:], **kwargs)
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/CSMS/db/database_Base.py", line 29, in __init__
    super().__init__(**kwargs)
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/orm/decl_base.py", line 1197, in _declarative_constructor
    raise TypeError(
TypeError: 'custom_data' is an invalid keyword argument for Transaction

SQL_DB - INFO - RECEIVED: {'destination': 'SQL_DB', 'origin': 'Ocpp_Server', 'method': 'select', 'type': 'request', 'content': {'table': 'IdToken', 'filters': {'id_token': '1dee35d6-ed03-4882-9762-86197f258a74'}, 'mode': {'id_token_info': {'group_id_token': {}, 'evse': {}}}}, 'cp_id': 'cp6k', 'status': None}
SQL_DB - INFO - RabbitMQ SENDING Message: {"destination": "Ocpp_Server", "origin": "SQL_DB", "method": "select", "type": "response", "content": [{"id_token": "1dee35d6-ed03-4882-9762-86197f258a74", "type": "ISO14443", "id_token_info": {"cache_expiry_date_time": null, "language1": "PT", "valid": true, "charging_priority": null, "language2": null, "group_id_token": null, "evse": [1, 2]}}], "cp_id": "cp6k", "status": "OK"}
INFO:Ocpp_Server:RESPONSE: {'destination': 'Ocpp_Server', 'origin': 'SQL_DB', 'method': 'select', 'type': 'response', 'content': [{'id_token': '1dee35d6-ed03-4882-9762-86197f258a74', 'type': 'ISO14443', 'id_token_info': {'cache_expiry_date_time': None, 'language1': 'PT', 'valid': True, 'charging_priority': None, 'language2': None, 'group_id_token': None, 'evse': [1, 2]}}], 'cp_id': 'cp6k', 'status': 'OK'}
INFO:Ocpp_Server:RabbitMQ SENDING Message: {"destination": "SQL_DB", "origin": "Ocpp_Server", "method": "select", "type": "request", "content": {"table": "EVSE", "filters": {"cp_id": "cp6k"}}, "cp_id": "cp6k", "status": null}
SQL_DB - INFO - RECEIVED: {'destination': 'SQL_DB', 'origin': 'Ocpp_Server', 'method': 'select', 'type': 'request', 'content': {'table': 'EVSE', 'filters': {'cp_id': 'cp6k'}}, 'cp_id': 'cp6k', 'status': None}
SQL_DB - INFO - RabbitMQ SENDING Message: {"destination": "Ocpp_Server", "origin": "SQL_DB", "method": "select", "type": "response", "content": [{"cp_id": "cp6k", "evse_id": 1}, {"cp_id": "cp6k", "evse_id": 2}, {"cp_id": "cp6k", "evse_id": 3}], "cp_id": "cp6k", "status": "OK"}
INFO:Ocpp_Server:RESPONSE: {'destination': 'Ocpp_Server', 'origin': 'SQL_DB', 'method': 'select', 'type': 'response', 'content': [{'cp_id': 'cp6k', 'evse_id': 1}, {'cp_id': 'cp6k', 'evse_id': 2}, {'cp_id': 'cp6k', 'evse_id': 3}], 'cp_id': 'cp6k', 'status': 'OK'}
INFO:ocpp:cp6k: send [3,"e9cc43381b74d8233cf1814e32fb4e00",{"idTokenInfo":{"language1":"PT","evseId":[1,2],"status":"Accepted"}}]
INFO:ocpp:cp6k: receive message [2,"d9791aeb55cbba224bffd0df5fd613a8","StatusNotification",{"connectorId":1,"connectorStatus":"Occupied","evseId":1,"timestamp":"2023-03-29T09:39:26Z"}]
INFO:Ocpp_Server:RabbitMQ SENDING Message: {"destination": null, "origin": "Ocpp_Server", "method": "StatusNotification", "type": "ocpp_log", "content": {"connector_id": 1, "connector_status": "Occupied", "evse_id": 1, "timestamp": "2023-03-29T09:39:26Z"}, "cp_id": "cp6k", "status": null}
INFO:ocpp:cp6k: send [3,"d9791aeb55cbba224bffd0df5fd613a8",{}]
SQL_DB - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'StatusNotification', 'type': 'ocpp_log', 'content': {'connector_id': 1, 'connector_status': 'Occupied', 'evse_id': 1, 'timestamp': '2023-03-29T09:39:26Z'}, 'cp_id': 'cp6k', 'status': None}
API - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'StatusNotification', 'type': 'ocpp_log', 'content': {'connector_id': 1, 'connector_status': 'Occupied', 'evse_id': 1, 'timestamp': '2023-03-29T09:39:26Z'}, 'cp_id': 'cp6k', 'status': None}
INFO:ocpp:cp6k: receive message [2,"bfe030d82fcfba16f4788b27da117e76","TransactionEvent",{"eventType":"Updated","evse":{"connectorId":1,"id":1},"seqNo":1,"timestamp":"2023-03-29T09:39:27Z","transactionInfo":{"chargingState":"Charging","customData":{"timeSpentConnected":4,"vendorId":"com.chargepoint"},"timeSpentCharging":0,"transactionId":"7743786178216125306"},"triggerReason":"ChargingStateChanged"}]
INFO:Ocpp_Server:RabbitMQ SENDING Message: {"destination": null, "origin": "Ocpp_Server", "method": "TransactionEvent", "type": "ocpp_log", "content": {"event_type": "Updated", "evse": {"connector_id": 1, "id": 1}, "seq_no": 1, "timestamp": "2023-03-29T09:39:27Z", "transaction_info": {"charging_state": "Charging", "custom_data": {"time_spent_connected": 4, "vendor_id": "com.chargepoint"}, "time_spent_charging": 0, "transaction_id": "7743786178216125306"}, "trigger_reason": "ChargingStateChanged"}, "cp_id": "cp6k", "status": null}
INFO:ocpp:cp6k: send [3,"bfe030d82fcfba16f4788b27da117e76",{}]
API - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'TransactionEvent', 'type': 'ocpp_log', 'content': {'event_type': 'Updated', 'evse': {'connector_id': 1, 'id': 1}, 'seq_no': 1, 'timestamp': '2023-03-29T09:39:27Z', 'transaction_info': {'charging_state': 'Charging', 'custom_data': {'time_spent_connected': 4, 'vendor_id': 'com.chargepoint'}, 'time_spent_charging': 0, 'transaction_id': '7743786178216125306'}, 'trigger_reason': 'ChargingStateChanged'}, 'cp_id': 'cp6k', 'status': None}
SQL_DB - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'TransactionEvent', 'type': 'ocpp_log', 'content': {'event_type': 'Updated', 'evse': {'connector_id': 1, 'id': 1}, 'seq_no': 1, 'timestamp': '2023-03-29T09:39:27Z', 'transaction_info': {'charging_state': 'Charging', 'custom_data': {'time_spent_connected': 4, 'vendor_id': 'com.chargepoint'}, 'time_spent_charging': 0, 'transaction_id': '7743786178216125306'}, 'trigger_reason': 'ChargingStateChanged'}, 'cp_id': 'cp6k', 'status': None}
SQL_DB - ERROR - Traceback (most recent call last):
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/rabbit_mq/rabbit_handler.py", line 122, in on_request
    response_content = await self.handle_request(request)
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/CSMS/db/db.py", line 78, in on_db_request
    raise e
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/CSMS/db/db.py", line 70, in on_db_request
    toReturn = method(cp_id=request.cp_id, **request.content)
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/CSMS/db/db.py", line 308, in TransactionEvent
    transaction = Transaction(**transaction_info)
  File "<string>", line 4, in __init__
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/orm/state.py", line 481, in _initialize_instance
    with util.safe_reraise():
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/util/compat.py", line 208, in raise_
    raise exception
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/orm/state.py", line 479, in _initialize_instance
    return manager.original_init(*mixed[1:], **kwargs)
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/CSMS/db/database_Base.py", line 29, in __init__
    super().__init__(**kwargs)
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/orm/decl_base.py", line 1197, in _declarative_constructor
    raise TypeError(
TypeError: 'custom_data' is an invalid keyword argument for Transaction

INFO:ocpp:cp6k: receive message [2,"3df0426ad970b6c21749f07f91711ce4","NotifyEvent",{"eventData":[{"actualValue":"Occupied","component":{"evse":{"id":1},"name":"EVSE"},"eventId":0,"eventNotificationType":"HardWiredMonitor","timestamp":"2023-03-29T09:39:24Z","trigger":"Delta","variable":{"name":"AvailabilityState"}}],"generatedAt":"2023-03-29T09:39:29Z","seqNo":0}]
INFO:Ocpp_Server:RabbitMQ SENDING Message: {"destination": null, "origin": "Ocpp_Server", "method": "NotifyEvent", "type": "ocpp_log", "content": {"event_data": [{"actual_value": "Occupied", "component": {"evse": {"id": 1}, "name": "EVSE"}, "event_id": 0, "event_notification_type": "HardWiredMonitor", "timestamp": "2023-03-29T09:39:24Z", "trigger": "Delta", "variable": {"name": "AvailabilityState"}}], "generated_at": "2023-03-29T09:39:29Z", "seq_no": 0}, "cp_id": "cp6k", "status": null}
INFO:ocpp:cp6k: send [3,"3df0426ad970b6c21749f07f91711ce4",{}]
API - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'NotifyEvent', 'type': 'ocpp_log', 'content': {'event_data': [{'actual_value': 'Occupied', 'component': {'evse': {'id': 1}, 'name': 'EVSE'}, 'event_id': 0, 'event_notification_type': 'HardWiredMonitor', 'timestamp': '2023-03-29T09:39:24Z', 'trigger': 'Delta', 'variable': {'name': 'AvailabilityState'}}], 'generated_at': '2023-03-29T09:39:29Z', 'seq_no': 0}, 'cp_id': 'cp6k', 'status': None}
SQL_DB - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'NotifyEvent', 'type': 'ocpp_log', 'content': {'event_data': [{'actual_value': 'Occupied', 'component': {'evse': {'id': 1}, 'name': 'EVSE'}, 'event_id': 0, 'event_notification_type': 'HardWiredMonitor', 'timestamp': '2023-03-29T09:39:24Z', 'trigger': 'Delta', 'variable': {'name': 'AvailabilityState'}}], 'generated_at': '2023-03-29T09:39:29Z', 'seq_no': 0}, 'cp_id': 'cp6k', 'status': None}
INFO:ocpp:cp6k: receive message [2,"835ff47113d4cdf6a72078aa6d24d967","TransactionEvent",{"eventType":"Updated","evse":{"connectorId":1,"id":1},"seqNo":2,"timestamp":"2023-03-29T09:39:42Z","transactionInfo":{"chargingState":"SuspendedEVSE","customData":{"timeSpentConnected":18,"vendorId":"com.chargepoint"},"timeSpentCharging":0,"transactionId":"7743786178216125306"},"triggerReason":"EVCommunicationLost"}]
INFO:Ocpp_Server:RabbitMQ SENDING Message: {"destination": null, "origin": "Ocpp_Server", "method": "TransactionEvent", "type": "ocpp_log", "content": {"event_type": "Updated", "evse": {"connector_id": 1, "id": 1}, "seq_no": 2, "timestamp": "2023-03-29T09:39:42Z", "transaction_info": {"charging_state": "SuspendedEVSE", "custom_data": {"time_spent_connected": 18, "vendor_id": "com.chargepoint"}, "time_spent_charging": 0, "transaction_id": "7743786178216125306"}, "trigger_reason": "EVCommunicationLost"}, "cp_id": "cp6k", "status": null}
INFO:ocpp:cp6k: send [3,"835ff47113d4cdf6a72078aa6d24d967",{}]
API - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'TransactionEvent', 'type': 'ocpp_log', 'content': {'event_type': 'Updated', 'evse': {'connector_id': 1, 'id': 1}, 'seq_no': 2, 'timestamp': '2023-03-29T09:39:42Z', 'transaction_info': {'charging_state': 'SuspendedEVSE', 'custom_data': {'time_spent_connected': 18, 'vendor_id': 'com.chargepoint'}, 'time_spent_charging': 0, 'transaction_id': '7743786178216125306'}, 'trigger_reason': 'EVCommunicationLost'}, 'cp_id': 'cp6k', 'status': None}
SQL_DB - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'TransactionEvent', 'type': 'ocpp_log', 'content': {'event_type': 'Updated', 'evse': {'connector_id': 1, 'id': 1}, 'seq_no': 2, 'timestamp': '2023-03-29T09:39:42Z', 'transaction_info': {'charging_state': 'SuspendedEVSE', 'custom_data': {'time_spent_connected': 18, 'vendor_id': 'com.chargepoint'}, 'time_spent_charging': 0, 'transaction_id': '7743786178216125306'}, 'trigger_reason': 'EVCommunicationLost'}, 'cp_id': 'cp6k', 'status': None}
SQL_DB - ERROR - Traceback (most recent call last):
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/rabbit_mq/rabbit_handler.py", line 122, in on_request
    response_content = await self.handle_request(request)
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/CSMS/db/db.py", line 78, in on_db_request
    raise e
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/CSMS/db/db.py", line 70, in on_db_request
    toReturn = method(cp_id=request.cp_id, **request.content)
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/CSMS/db/db.py", line 308, in TransactionEvent
    transaction = Transaction(**transaction_info)
  File "<string>", line 4, in __init__
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/orm/state.py", line 481, in _initialize_instance
    with util.safe_reraise():
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/util/compat.py", line 208, in raise_
    raise exception
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/orm/state.py", line 479, in _initialize_instance
    return manager.original_init(*mixed[1:], **kwargs)
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/CSMS/db/database_Base.py", line 29, in __init__
    super().__init__(**kwargs)
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/orm/decl_base.py", line 1197, in _declarative_constructor
    raise TypeError(
TypeError: 'custom_data' is an invalid keyword argument for Transaction

INFO:ocpp:cp6k: receive message [2,"6ea136867982501986d1eee3e5f00fbd","TransactionEvent",{"eventType":"Ended","evse":{"connectorId":1,"id":1},"meterValue":[{"sampledValue":[{"context":"Transaction.End","measurand":"Energy.Active.Import.Register","unitOfMeasure":{"unit":"Wh"},"value":545.2}],"timestamp":"2023-03-29T09:39:42Z"}],"seqNo":3,"timestamp":"2023-03-29T09:39:42Z","transactionInfo":{"chargingState":"Idle","customData":{"timeSpentConnected":19,"vendorId":"com.chargepoint"},"stoppedReason":"EVDisconnected","timeSpentCharging":0,"transactionId":"7743786178216125306"},"triggerReason":"ChargingStateChanged"}]
INFO:Ocpp_Server:RabbitMQ SENDING Message: {"destination": null, "origin": "Ocpp_Server", "method": "TransactionEvent", "type": "ocpp_log", "content": {"event_type": "Ended", "evse": {"connector_id": 1, "id": 1}, "meter_value": [{"sampled_value": [{"context": "Transaction.End", "measurand": "Energy.Active.Import.Register", "unit_of_measure": {"unit": "Wh"}, "value": 545.2}], "timestamp": "2023-03-29T09:39:42Z"}], "seq_no": 3, "timestamp": "2023-03-29T09:39:42Z", "transaction_info": {"charging_state": "Idle", "custom_data": {"time_spent_connected": 19, "vendor_id": "com.chargepoint"}, "stopped_reason": "EVDisconnected", "time_spent_charging": 0, "transaction_id": "7743786178216125306"}, "trigger_reason": "ChargingStateChanged"}, "cp_id": "cp6k", "status": null}
INFO:ocpp:cp6k: send [3,"6ea136867982501986d1eee3e5f00fbd",{}]
INFO:Ocpp_Server:RabbitMQ SENDING Message: {"destination": "SQL_DB", "origin": "Ocpp_Server", "method": "remove", "type": "ocpp_log", "content": {"table": "ChargingProfile", "filters": {"transaction_id": "7743786178216125306"}}, "cp_id": "cp6k", "status": null}
API - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'TransactionEvent', 'type': 'ocpp_log', 'content': {'event_type': 'Ended', 'evse': {'connector_id': 1, 'id': 1}, 'meter_value': [{'sampled_value': [{'context': 'Transaction.End', 'measurand': 'Energy.Active.Import.Register', 'unit_of_measure': {'unit': 'Wh'}, 'value': 545.2}], 'timestamp': '2023-03-29T09:39:42Z'}], 'seq_no': 3, 'timestamp': '2023-03-29T09:39:42Z', 'transaction_info': {'charging_state': 'Idle', 'custom_data': {'time_spent_connected': 19, 'vendor_id': 'com.chargepoint'}, 'stopped_reason': 'EVDisconnected', 'time_spent_charging': 0, 'transaction_id': '7743786178216125306'}, 'trigger_reason': 'ChargingStateChanged'}, 'cp_id': 'cp6k', 'status': None}
SQL_DB - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'TransactionEvent', 'type': 'ocpp_log', 'content': {'event_type': 'Ended', 'evse': {'connector_id': 1, 'id': 1}, 'meter_value': [{'sampled_value': [{'context': 'Transaction.End', 'measurand': 'Energy.Active.Import.Register', 'unit_of_measure': {'unit': 'Wh'}, 'value': 545.2}], 'timestamp': '2023-03-29T09:39:42Z'}], 'seq_no': 3, 'timestamp': '2023-03-29T09:39:42Z', 'transaction_info': {'charging_state': 'Idle', 'custom_data': {'time_spent_connected': 19, 'vendor_id': 'com.chargepoint'}, 'stopped_reason': 'EVDisconnected', 'time_spent_charging': 0, 'transaction_id': '7743786178216125306'}, 'trigger_reason': 'ChargingStateChanged'}, 'cp_id': 'cp6k', 'status': None}
INFO:ocpp:cp6k: send [2,"f4f12c5d-fc4f-42f1-a850-6ba025cb1527","GetTransactionStatus",{"transactionId":"7743786178216125306"}]
API - INFO - RECEIVED: {'destination': 'SQL_DB', 'origin': 'Ocpp_Server', 'method': 'remove', 'type': 'ocpp_log', 'content': {'table': 'ChargingProfile', 'filters': {'transaction_id': '7743786178216125306'}}, 'cp_id': 'cp6k', 'status': None}
SQL_DB - ERROR - Traceback (most recent call last):
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/rabbit_mq/rabbit_handler.py", line 122, in on_request
    response_content = await self.handle_request(request)
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/CSMS/db/db.py", line 78, in on_db_request
    raise e
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/CSMS/db/db.py", line 70, in on_db_request
    toReturn = method(cp_id=request.cp_id, **request.content)
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/CSMS/db/db.py", line 308, in TransactionEvent
    transaction = Transaction(**transaction_info)
  File "<string>", line 4, in __init__
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/orm/state.py", line 481, in _initialize_instance
    with util.safe_reraise():
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/util/compat.py", line 208, in raise_
    raise exception
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/orm/state.py", line 479, in _initialize_instance
    return manager.original_init(*mixed[1:], **kwargs)
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/CSMS/db/database_Base.py", line 29, in __init__
    super().__init__(**kwargs)
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/orm/decl_base.py", line 1197, in _declarative_constructor
    raise TypeError(
TypeError: 'custom_data' is an invalid keyword argument for Transaction

SQL_DB - INFO - RECEIVED: {'destination': 'SQL_DB', 'origin': 'Ocpp_Server', 'method': 'remove', 'type': 'ocpp_log', 'content': {'table': 'ChargingProfile', 'filters': {'transaction_id': '7743786178216125306'}}, 'cp_id': 'cp6k', 'status': None}
INFO:ocpp:cp6k: receive message [2,"4886329ea2b30e4d7b4cf7cd870f909e","StatusNotification",{"connectorId":1,"connectorStatus":"Available","evseId":1,"timestamp":"2023-03-29T09:39:45Z"}]
INFO:Ocpp_Server:RabbitMQ SENDING Message: {"destination": null, "origin": "Ocpp_Server", "method": "StatusNotification", "type": "ocpp_log", "content": {"connector_id": 1, "connector_status": "Available", "evse_id": 1, "timestamp": "2023-03-29T09:39:45Z"}, "cp_id": "cp6k", "status": null}
INFO:ocpp:cp6k: send [3,"4886329ea2b30e4d7b4cf7cd870f909e",{}]
INFO:ocpp:cp6k: receive message [4,"f4f12c5d-fc4f-42f1-a850-6ba025cb1527","NotImplemented","GetTransactionStatusRequest handler not available",{}]
WARNING:ocpp:Received a CALLError: <CallError - unique_id=f4f12c5d-fc4f-42f1-a850-6ba025cb1527, error_code=NotImplemented, error_description=GetTransactionStatusRequest handler not available, error_details={}>'
ERROR:asyncio:Task exception was never retrieved
future: <Task finished name='Task-298' coro=<ChargePoint.after_TransactionEvent() done, defined at /home/it2s/Desktop/joao_csms/IT_CSMS/src/CSMS/ocpp_server/chargePointRepr.py:723> exception=<NotImplementedError - description=GetTransactionStatusRequest handler not available, details={}>>
Traceback (most recent call last):
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/CSMS/ocpp_server/chargePointRepr.py", line 747, in after_TransactionEvent
    transaction_status = await self.getTransactionStatus(transaction_id=transaction_id)
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/CSMS/ocpp_server/chargePointRepr.py", line 335, in getTransactionStatus
    return await self.call(request, suppress=False)
  File "/home/it2s/.local/lib/python3.10/site-packages/ocpp/charge_point.py", line 286, in call
    raise response.to_exception()
ocpp.exceptions.NotImplementedError: NotImplementedError: GetTransactionStatusRequest handler not available, {}
API - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'StatusNotification', 'type': 'ocpp_log', 'content': {'connector_id': 1, 'connector_status': 'Available', 'evse_id': 1, 'timestamp': '2023-03-29T09:39:45Z'}, 'cp_id': 'cp6k', 'status': None}
SQL_DB - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'StatusNotification', 'type': 'ocpp_log', 'content': {'connector_id': 1, 'connector_status': 'Available', 'evse_id': 1, 'timestamp': '2023-03-29T09:39:45Z'}, 'cp_id': 'cp6k', 'status': None}
INFO:ocpp:cp6k: receive message [2,"92bc4f7e471f181f6e8556b32dea6259","NotifyEvent",{"eventData":[{"actualValue":"Available","component":{"evse":{"id":1},"name":"EVSE"},"eventId":0,"eventNotificationType":"HardWiredMonitor","timestamp":"2023-03-29T09:39:43Z","trigger":"Delta","variable":{"name":"AvailabilityState"}}],"generatedAt":"2023-03-29T09:39:48Z","seqNo":0}]
INFO:Ocpp_Server:RabbitMQ SENDING Message: {"destination": null, "origin": "Ocpp_Server", "method": "NotifyEvent", "type": "ocpp_log", "content": {"event_data": [{"actual_value": "Available", "component": {"evse": {"id": 1}, "name": "EVSE"}, "event_id": 0, "event_notification_type": "HardWiredMonitor", "timestamp": "2023-03-29T09:39:43Z", "trigger": "Delta", "variable": {"name": "AvailabilityState"}}], "generated_at": "2023-03-29T09:39:48Z", "seq_no": 0}, "cp_id": "cp6k", "status": null}
INFO:ocpp:cp6k: send [3,"92bc4f7e471f181f6e8556b32dea6259",{}]
API - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'NotifyEvent', 'type': 'ocpp_log', 'content': {'event_data': [{'actual_value': 'Available', 'component': {'evse': {'id': 1}, 'name': 'EVSE'}, 'event_id': 0, 'event_notification_type': 'HardWiredMonitor', 'timestamp': '2023-03-29T09:39:43Z', 'trigger': 'Delta', 'variable': {'name': 'AvailabilityState'}}], 'generated_at': '2023-03-29T09:39:48Z', 'seq_no': 0}, 'cp_id': 'cp6k', 'status': None}
SQL_DB - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'NotifyEvent', 'type': 'ocpp_log', 'content': {'event_data': [{'actual_value': 'Available', 'component': {'evse': {'id': 1}, 'name': 'EVSE'}, 'event_id': 0, 'event_notification_type': 'HardWiredMonitor', 'timestamp': '2023-03-29T09:39:43Z', 'trigger': 'Delta', 'variable': {'name': 'AvailabilityState'}}], 'generated_at': '2023-03-29T09:39:48Z', 'seq_no': 0}, 'cp_id': 'cp6k', 'status': None}
INFO:ocpp:cp6k: receive message [2,"a4898abd71c3c93decbb42fe416d1c61","Heartbeat",{"customData":{"rsrp":-93.0,"rsrq":-14.0,"rssi":-56.0,"snr":13.0,"vendorId":"com.chargepoint"}}]
INFO:ocpp:cp6k: send [3,"a4898abd71c3c93decbb42fe416d1c61",{"currentTime":"2023-03-29T09:39:53.772970"}]
API - INFO - RabbitMQ SENDING Message: {"destination": "Ocpp_Server", "origin": "API", "method": "requestStartTransaction", "type": "request", "content": {"id_token": {"id_token": "1dee35d6-ed03-4882-9762-86197f258a74", "type": "ISO14443", "additional_info": null}, "remote_start_id": null, "evse_id": 1, "group_id_token": null, "charging_profile": null}, "cp_id": "cp6k", "status": null}
INFO:Ocpp_Server:RECEIVED: {'destination': 'Ocpp_Server', 'origin': 'API', 'method': 'requestStartTransaction', 'type': 'request', 'content': {'id_token': {'id_token': '1dee35d6-ed03-4882-9762-86197f258a74', 'type': 'ISO14443', 'additional_info': None}, 'remote_start_id': None, 'evse_id': 1, 'group_id_token': None, 'charging_profile': None}, 'cp_id': 'cp6k', 'status': None}
INFO:ocpp:cp6k: send [2,"f905e383-cd03-44ec-a41c-105596733f39","RequestStartTransaction",{"idToken":{"idToken":"1dee35d6-ed03-4882-9762-86197f258a74","type":"ISO14443"},"remoteStartId":88,"evseId":1}]
INFO:ocpp:cp6k: receive message [3,"f905e383-cd03-44ec-a41c-105596733f39",{"status":"Accepted","transactionId":"7279714639592604433"}]
INFO:Ocpp_Server:RabbitMQ SENDING Message: {"destination": "API", "origin": "Ocpp_Server", "method": "requestStartTransaction", "type": "response", "content": {"status": "Accepted", "status_info": null, "transaction_id": "7279714639592604433"}, "cp_id": "cp6k", "status": "OK"}
API - INFO - RESPONSE: {'destination': 'API', 'origin': 'Ocpp_Server', 'method': 'requestStartTransaction', 'type': 'response', 'content': {'status': 'Accepted', 'status_info': None, 'transaction_id': '7279714639592604433'}, 'cp_id': 'cp6k', 'status': 'OK'}
INFO:     127.0.0.1:58628 - "POST /charge/start?evse_id=1&cp_id=cp6k HTTP/1.1" 200 OK
INFO:ocpp:cp6k: receive message [2,"a622cd9d55497dfb5147f9ca53a22e01","TransactionEvent",{"eventType":"Started","evse":{"connectorId":1,"id":1},"idToken":{"idToken":"1dee35d6-ed03-4882-9762-86197f258a74","type":"Central"},"meterValue":[{"sampledValue":[{"context":"Transaction.Begin","measurand":"Energy.Active.Import.Register","unitOfMeasure":{"unit":"Wh"},"value":545.2},{"context":"Transaction.Begin","measurand":"Voltage","unitOfMeasure":{"unit":"V"},"value":230.068481},{"context":"Transaction.Begin","measurand":"Voltage","phase":"L1","unitOfMeasure":{"unit":"V"},"value":16.140886},{"context":"Transaction.Begin","measurand":"Voltage","phase":"L2","unitOfMeasure":{"unit":"V"},"value":5.221781},{"context":"Transaction.Begin","measurand":"Voltage","phase":"L3","unitOfMeasure":{"unit":"V"},"value":230.068481},{"context":"Transaction.Begin","measurand":"Current.Import","unitOfMeasure":{"unit":"A"},"value":0.0},{"context":"Transaction.Begin","measurand":"Current.Import","phase":"L1","unitOfMeasure":{"unit":"A"},"value":0.0},{"context":"Transaction.Begin","measurand":"Current.Import","phase":"L2","unitOfMeasure":{"unit":"A"},"value":0.0},{"context":"Transaction.Begin","measurand":"Current.Import","phase":"L3","unitOfMeasure":{"unit":"A"},"value":0.0},{"context":"Transaction.Begin","measurand":"Power.Active.Import","unitOfMeasure":{"unit":"W"},"value":0.0},{"context":"Transaction.Begin","measurand":"Power.Factor","phase":"L1","value":1.0},{"context":"Transaction.Begin","measurand":"Power.Factor","phase":"L2","value":1.0},{"context":"Transaction.Begin","measurand":"Power.Factor","phase":"L3","value":1.0}],"timestamp":"2023-03-29T09:40:09Z"}],"seqNo":0,"timestamp":"2023-03-29T09:40:09Z","transactionInfo":{"chargingState":"EVConnected","customData":{"timeSpentConnected":0,"vendorId":"com.chargepoint"},"remoteStartId":88,"transactionId":"7279714639592604433"},"triggerReason":"ChargingStateChanged"}]
INFO:Ocpp_Server:RabbitMQ SENDING Message: {"destination": null, "origin": "Ocpp_Server", "method": "TransactionEvent", "type": "ocpp_log", "content": {"event_type": "Started", "evse": {"connector_id": 1, "id": 1}, "id_token": {"id_token": "1dee35d6-ed03-4882-9762-86197f258a74", "type": "Central"}, "meter_value": [{"sampled_value": [{"context": "Transaction.Begin", "measurand": "Energy.Active.Import.Register", "unit_of_measure": {"unit": "Wh"}, "value": 545.2}, {"context": "Transaction.Begin", "measurand": "Voltage", "unit_of_measure": {"unit": "V"}, "value": 230.068481}, {"context": "Transaction.Begin", "measurand": "Voltage", "phase": "L1", "unit_of_measure": {"unit": "V"}, "value": 16.140886}, {"context": "Transaction.Begin", "measurand": "Voltage", "phase": "L2", "unit_of_measure": {"unit": "V"}, "value": 5.221781}, {"context": "Transaction.Begin", "measurand": "Voltage", "phase": "L3", "unit_of_measure": {"unit": "V"}, "value": 230.068481}, {"context": "Transaction.Begin", "measurand": "Current.Import", "unit_of_measure": {"unit": "A"}, "value": 0.0}, {"context": "Transaction.Begin", "measurand": "Current.Import", "phase": "L1", "unit_of_measure": {"unit": "A"}, "value": 0.0}, {"context": "Transaction.Begin", "measurand": "Current.Import", "phase": "L2", "unit_of_measure": {"unit": "A"}, "value": 0.0}, {"context": "Transaction.Begin", "measurand": "Current.Import", "phase": "L3", "unit_of_measure": {"unit": "A"}, "value": 0.0}, {"context": "Transaction.Begin", "measurand": "Power.Active.Import", "unit_of_measure": {"unit": "W"}, "value": 0.0}, {"context": "Transaction.Begin", "measurand": "Power.Factor", "phase": "L1", "value": 1.0}, {"context": "Transaction.Begin", "measurand": "Power.Factor", "phase": "L2", "value": 1.0}, {"context": "Transaction.Begin", "measurand": "Power.Factor", "phase": "L3", "value": 1.0}], "timestamp": "2023-03-29T09:40:09Z"}], "seq_no": 0, "timestamp": "2023-03-29T09:40:09Z", "transaction_info": {"charging_state": "EVConnected", "custom_data": {"time_spent_connected": 0, "vendor_id": "com.chargepoint"}, "remote_start_id": 88, "transaction_id": "7279714639592604433"}, "trigger_reason": "ChargingStateChanged"}, "cp_id": "cp6k", "status": null}
INFO:Ocpp_Server:RabbitMQ SENDING Message: {"destination": "SQL_DB", "origin": "Ocpp_Server", "method": "select", "type": "request", "content": {"table": "IdToken", "filters": {"id_token": "1dee35d6-ed03-4882-9762-86197f258a74"}, "mode": {"id_token_info": {"group_id_token": {}, "evse": {}}}}, "cp_id": "cp6k", "status": null}
API - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'TransactionEvent', 'type': 'ocpp_log', 'content': {'event_type': 'Started', 'evse': {'connector_id': 1, 'id': 1}, 'id_token': {'id_token': '1dee35d6-ed03-4882-9762-86197f258a74', 'type': 'Central'}, 'meter_value': [{'sampled_value': [{'context': 'Transaction.Begin', 'measurand': 'Energy.Active.Import.Register', 'unit_of_measure': {'unit': 'Wh'}, 'value': 545.2}, {'context': 'Transaction.Begin', 'measurand': 'Voltage', 'unit_of_measure': {'unit': 'V'}, 'value': 230.068481}, {'context': 'Transaction.Begin', 'measurand': 'Voltage', 'phase': 'L1', 'unit_of_measure': {'unit': 'V'}, 'value': 16.140886}, {'context': 'Transaction.Begin', 'measurand': 'Voltage', 'phase': 'L2', 'unit_of_measure': {'unit': 'V'}, 'value': 5.221781}, {'context': 'Transaction.Begin', 'measurand': 'Voltage', 'phase': 'L3', 'unit_of_measure': {'unit': 'V'}, 'value': 230.068481}, {'context': 'Transaction.Begin', 'measurand': 'Current.Import', 'unit_of_measure': {'unit': 'A'}, 'value': 0.0}, {'context': 'Transaction.Begin', 'measurand': 'Current.Import', 'phase': 'L1', 'unit_of_measure': {'unit': 'A'}, 'value': 0.0}, {'context': 'Transaction.Begin', 'measurand': 'Current.Import', 'phase': 'L2', 'unit_of_measure': {'unit': 'A'}, 'value': 0.0}, {'context': 'Transaction.Begin', 'measurand': 'Current.Import', 'phase': 'L3', 'unit_of_measure': {'unit': 'A'}, 'value': 0.0}, {'context': 'Transaction.Begin', 'measurand': 'Power.Active.Import', 'unit_of_measure': {'unit': 'W'}, 'value': 0.0}, {'context': 'Transaction.Begin', 'measurand': 'Power.Factor', 'phase': 'L1', 'value': 1.0}, {'context': 'Transaction.Begin', 'measurand': 'Power.Factor', 'phase': 'L2', 'value': 1.0}, {'context': 'Transaction.Begin', 'measurand': 'Power.Factor', 'phase': 'L3', 'value': 1.0}], 'timestamp': '2023-03-29T09:40:09Z'}], 'seq_no': 0, 'timestamp': '2023-03-29T09:40:09Z', 'transaction_info': {'charging_state': 'EVConnected', 'custom_data': {'time_spent_connected': 0, 'vendor_id': 'com.chargepoint'}, 'remote_start_id': 88, 'transaction_id': '7279714639592604433'}, 'trigger_reason': 'ChargingStateChanged'}, 'cp_id': 'cp6k', 'status': None}
SQL_DB - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'TransactionEvent', 'type': 'ocpp_log', 'content': {'event_type': 'Started', 'evse': {'connector_id': 1, 'id': 1}, 'id_token': {'id_token': '1dee35d6-ed03-4882-9762-86197f258a74', 'type': 'Central'}, 'meter_value': [{'sampled_value': [{'context': 'Transaction.Begin', 'measurand': 'Energy.Active.Import.Register', 'unit_of_measure': {'unit': 'Wh'}, 'value': 545.2}, {'context': 'Transaction.Begin', 'measurand': 'Voltage', 'unit_of_measure': {'unit': 'V'}, 'value': 230.068481}, {'context': 'Transaction.Begin', 'measurand': 'Voltage', 'phase': 'L1', 'unit_of_measure': {'unit': 'V'}, 'value': 16.140886}, {'context': 'Transaction.Begin', 'measurand': 'Voltage', 'phase': 'L2', 'unit_of_measure': {'unit': 'V'}, 'value': 5.221781}, {'context': 'Transaction.Begin', 'measurand': 'Voltage', 'phase': 'L3', 'unit_of_measure': {'unit': 'V'}, 'value': 230.068481}, {'context': 'Transaction.Begin', 'measurand': 'Current.Import', 'unit_of_measure': {'unit': 'A'}, 'value': 0.0}, {'context': 'Transaction.Begin', 'measurand': 'Current.Import', 'phase': 'L1', 'unit_of_measure': {'unit': 'A'}, 'value': 0.0}, {'context': 'Transaction.Begin', 'measurand': 'Current.Import', 'phase': 'L2', 'unit_of_measure': {'unit': 'A'}, 'value': 0.0}, {'context': 'Transaction.Begin', 'measurand': 'Current.Import', 'phase': 'L3', 'unit_of_measure': {'unit': 'A'}, 'value': 0.0}, {'context': 'Transaction.Begin', 'measurand': 'Power.Active.Import', 'unit_of_measure': {'unit': 'W'}, 'value': 0.0}, {'context': 'Transaction.Begin', 'measurand': 'Power.Factor', 'phase': 'L1', 'value': 1.0}, {'context': 'Transaction.Begin', 'measurand': 'Power.Factor', 'phase': 'L2', 'value': 1.0}, {'context': 'Transaction.Begin', 'measurand': 'Power.Factor', 'phase': 'L3', 'value': 1.0}], 'timestamp': '2023-03-29T09:40:09Z'}], 'seq_no': 0, 'timestamp': '2023-03-29T09:40:09Z', 'transaction_info': {'charging_state': 'EVConnected', 'custom_data': {'time_spent_connected': 0, 'vendor_id': 'com.chargepoint'}, 'remote_start_id': 88, 'transaction_id': '7279714639592604433'}, 'trigger_reason': 'ChargingStateChanged'}, 'cp_id': 'cp6k', 'status': None}
SQL_DB - ERROR - Traceback (most recent call last):
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/rabbit_mq/rabbit_handler.py", line 122, in on_request
    response_content = await self.handle_request(request)
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/CSMS/db/db.py", line 78, in on_db_request
    raise e
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/CSMS/db/db.py", line 70, in on_db_request
    toReturn = method(cp_id=request.cp_id, **request.content)
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/CSMS/db/db.py", line 308, in TransactionEvent
    transaction = Transaction(**transaction_info)
  File "<string>", line 4, in __init__
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/orm/state.py", line 481, in _initialize_instance
    with util.safe_reraise():
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/util/compat.py", line 208, in raise_
    raise exception
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/orm/state.py", line 479, in _initialize_instance
    return manager.original_init(*mixed[1:], **kwargs)
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/CSMS/db/database_Base.py", line 29, in __init__
    super().__init__(**kwargs)
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/orm/decl_base.py", line 1197, in _declarative_constructor
    raise TypeError(
TypeError: 'custom_data' is an invalid keyword argument for Transaction

SQL_DB - INFO - RECEIVED: {'destination': 'SQL_DB', 'origin': 'Ocpp_Server', 'method': 'select', 'type': 'request', 'content': {'table': 'IdToken', 'filters': {'id_token': '1dee35d6-ed03-4882-9762-86197f258a74'}, 'mode': {'id_token_info': {'group_id_token': {}, 'evse': {}}}}, 'cp_id': 'cp6k', 'status': None}
SQL_DB - INFO - RabbitMQ SENDING Message: {"destination": "Ocpp_Server", "origin": "SQL_DB", "method": "select", "type": "response", "content": [{"id_token": "1dee35d6-ed03-4882-9762-86197f258a74", "type": "ISO14443", "id_token_info": {"cache_expiry_date_time": null, "language1": "PT", "valid": true, "charging_priority": null, "language2": null, "group_id_token": null, "evse": [1, 2]}}], "cp_id": "cp6k", "status": "OK"}
INFO:Ocpp_Server:RESPONSE: {'destination': 'Ocpp_Server', 'origin': 'SQL_DB', 'method': 'select', 'type': 'response', 'content': [{'id_token': '1dee35d6-ed03-4882-9762-86197f258a74', 'type': 'ISO14443', 'id_token_info': {'cache_expiry_date_time': None, 'language1': 'PT', 'valid': True, 'charging_priority': None, 'language2': None, 'group_id_token': None, 'evse': [1, 2]}}], 'cp_id': 'cp6k', 'status': 'OK'}
INFO:Ocpp_Server:RabbitMQ SENDING Message: {"destination": "SQL_DB", "origin": "Ocpp_Server", "method": "select", "type": "request", "content": {"table": "EVSE", "filters": {"cp_id": "cp6k"}}, "cp_id": "cp6k", "status": null}
SQL_DB - INFO - RECEIVED: {'destination': 'SQL_DB', 'origin': 'Ocpp_Server', 'method': 'select', 'type': 'request', 'content': {'table': 'EVSE', 'filters': {'cp_id': 'cp6k'}}, 'cp_id': 'cp6k', 'status': None}
SQL_DB - INFO - RabbitMQ SENDING Message: {"destination": "Ocpp_Server", "origin": "SQL_DB", "method": "select", "type": "response", "content": [{"cp_id": "cp6k", "evse_id": 1}, {"cp_id": "cp6k", "evse_id": 2}, {"cp_id": "cp6k", "evse_id": 3}], "cp_id": "cp6k", "status": "OK"}
INFO:Ocpp_Server:RESPONSE: {'destination': 'Ocpp_Server', 'origin': 'SQL_DB', 'method': 'select', 'type': 'response', 'content': [{'cp_id': 'cp6k', 'evse_id': 1}, {'cp_id': 'cp6k', 'evse_id': 2}, {'cp_id': 'cp6k', 'evse_id': 3}], 'cp_id': 'cp6k', 'status': 'OK'}
INFO:ocpp:cp6k: send [3,"a622cd9d55497dfb5147f9ca53a22e01",{"idTokenInfo":{"language1":"PT","evseId":[1,2],"status":"Accepted"}}]
INFO:ocpp:cp6k: receive message [2,"479058208cd36ae5cb4e56535ad50faa","StatusNotification",{"connectorId":1,"connectorStatus":"Occupied","evseId":1,"timestamp":"2023-03-29T09:40:12Z"}]
INFO:Ocpp_Server:RabbitMQ SENDING Message: {"destination": null, "origin": "Ocpp_Server", "method": "StatusNotification", "type": "ocpp_log", "content": {"connector_id": 1, "connector_status": "Occupied", "evse_id": 1, "timestamp": "2023-03-29T09:40:12Z"}, "cp_id": "cp6k", "status": null}
INFO:ocpp:cp6k: send [3,"479058208cd36ae5cb4e56535ad50faa",{}]
API - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'StatusNotification', 'type': 'ocpp_log', 'content': {'connector_id': 1, 'connector_status': 'Occupied', 'evse_id': 1, 'timestamp': '2023-03-29T09:40:12Z'}, 'cp_id': 'cp6k', 'status': None}
SQL_DB - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'StatusNotification', 'type': 'ocpp_log', 'content': {'connector_id': 1, 'connector_status': 'Occupied', 'evse_id': 1, 'timestamp': '2023-03-29T09:40:12Z'}, 'cp_id': 'cp6k', 'status': None}
INFO:ocpp:cp6k: receive message [2,"ca48f1a34cbfa2185222b216ff2a9a7e","TransactionEvent",{"eventType":"Updated","evse":{"connectorId":1,"id":1},"seqNo":1,"timestamp":"2023-03-29T09:40:14Z","transactionInfo":{"chargingState":"Charging","customData":{"timeSpentConnected":4,"vendorId":"com.chargepoint"},"timeSpentCharging":0,"transactionId":"7279714639592604433"},"triggerReason":"ChargingStateChanged"}]
INFO:Ocpp_Server:RabbitMQ SENDING Message: {"destination": null, "origin": "Ocpp_Server", "method": "TransactionEvent", "type": "ocpp_log", "content": {"event_type": "Updated", "evse": {"connector_id": 1, "id": 1}, "seq_no": 1, "timestamp": "2023-03-29T09:40:14Z", "transaction_info": {"charging_state": "Charging", "custom_data": {"time_spent_connected": 4, "vendor_id": "com.chargepoint"}, "time_spent_charging": 0, "transaction_id": "7279714639592604433"}, "trigger_reason": "ChargingStateChanged"}, "cp_id": "cp6k", "status": null}
INFO:ocpp:cp6k: send [3,"ca48f1a34cbfa2185222b216ff2a9a7e",{}]
SQL_DB - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'TransactionEvent', 'type': 'ocpp_log', 'content': {'event_type': 'Updated', 'evse': {'connector_id': 1, 'id': 1}, 'seq_no': 1, 'timestamp': '2023-03-29T09:40:14Z', 'transaction_info': {'charging_state': 'Charging', 'custom_data': {'time_spent_connected': 4, 'vendor_id': 'com.chargepoint'}, 'time_spent_charging': 0, 'transaction_id': '7279714639592604433'}, 'trigger_reason': 'ChargingStateChanged'}, 'cp_id': 'cp6k', 'status': None}
API - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'TransactionEvent', 'type': 'ocpp_log', 'content': {'event_type': 'Updated', 'evse': {'connector_id': 1, 'id': 1}, 'seq_no': 1, 'timestamp': '2023-03-29T09:40:14Z', 'transaction_info': {'charging_state': 'Charging', 'custom_data': {'time_spent_connected': 4, 'vendor_id': 'com.chargepoint'}, 'time_spent_charging': 0, 'transaction_id': '7279714639592604433'}, 'trigger_reason': 'ChargingStateChanged'}, 'cp_id': 'cp6k', 'status': None}
SQL_DB - ERROR - Traceback (most recent call last):
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/rabbit_mq/rabbit_handler.py", line 122, in on_request
    response_content = await self.handle_request(request)
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/CSMS/db/db.py", line 78, in on_db_request
    raise e
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/CSMS/db/db.py", line 70, in on_db_request
    toReturn = method(cp_id=request.cp_id, **request.content)
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/CSMS/db/db.py", line 308, in TransactionEvent
    transaction = Transaction(**transaction_info)
  File "<string>", line 4, in __init__
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/orm/state.py", line 481, in _initialize_instance
    with util.safe_reraise():
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/util/compat.py", line 208, in raise_
    raise exception
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/orm/state.py", line 479, in _initialize_instance
    return manager.original_init(*mixed[1:], **kwargs)
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/CSMS/db/database_Base.py", line 29, in __init__
    super().__init__(**kwargs)
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/orm/decl_base.py", line 1197, in _declarative_constructor
    raise TypeError(
TypeError: 'custom_data' is an invalid keyword argument for Transaction

INFO:ocpp:cp6k: receive message [2,"dd00a541b6c3fe42f1566a79fb7afef3","NotifyEvent",{"eventData":[{"actualValue":"Occupied","component":{"evse":{"id":1},"name":"EVSE"},"eventId":0,"eventNotificationType":"HardWiredMonitor","timestamp":"2023-03-29T09:40:10Z","trigger":"Delta","variable":{"name":"AvailabilityState"}}],"generatedAt":"2023-03-29T09:40:15Z","seqNo":0}]
INFO:Ocpp_Server:RabbitMQ SENDING Message: {"destination": null, "origin": "Ocpp_Server", "method": "NotifyEvent", "type": "ocpp_log", "content": {"event_data": [{"actual_value": "Occupied", "component": {"evse": {"id": 1}, "name": "EVSE"}, "event_id": 0, "event_notification_type": "HardWiredMonitor", "timestamp": "2023-03-29T09:40:10Z", "trigger": "Delta", "variable": {"name": "AvailabilityState"}}], "generated_at": "2023-03-29T09:40:15Z", "seq_no": 0}, "cp_id": "cp6k", "status": null}
INFO:ocpp:cp6k: send [3,"dd00a541b6c3fe42f1566a79fb7afef3",{}]
API - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'NotifyEvent', 'type': 'ocpp_log', 'content': {'event_data': [{'actual_value': 'Occupied', 'component': {'evse': {'id': 1}, 'name': 'EVSE'}, 'event_id': 0, 'event_notification_type': 'HardWiredMonitor', 'timestamp': '2023-03-29T09:40:10Z', 'trigger': 'Delta', 'variable': {'name': 'AvailabilityState'}}], 'generated_at': '2023-03-29T09:40:15Z', 'seq_no': 0}, 'cp_id': 'cp6k', 'status': None}
SQL_DB - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'NotifyEvent', 'type': 'ocpp_log', 'content': {'event_data': [{'actual_value': 'Occupied', 'component': {'evse': {'id': 1}, 'name': 'EVSE'}, 'event_id': 0, 'event_notification_type': 'HardWiredMonitor', 'timestamp': '2023-03-29T09:40:10Z', 'trigger': 'Delta', 'variable': {'name': 'AvailabilityState'}}], 'generated_at': '2023-03-29T09:40:15Z', 'seq_no': 0}, 'cp_id': 'cp6k', 'status': None}
INFO:ocpp:cp6k: receive message [2,"894d8f6160ccaf1048089a733986ceb9","Heartbeat",{"customData":{"rsrp":-93.0,"rsrq":-9.0,"rssi":-64.0,"snr":11.8,"vendorId":"com.chargepoint"}}]
INFO:ocpp:cp6k: send [3,"894d8f6160ccaf1048089a733986ceb9",{"currentTime":"2023-03-29T09:40:23.570354"}]
INFO:ocpp:cp6k: receive message [2,"458d9f06935199516f8709dd5716ed2b","TransactionEvent",{"eventType":"Updated","evse":{"connectorId":1,"id":1},"meterValue":[{"sampledValue":[{"measurand":"Energy.Active.Import.Register","unitOfMeasure":{"unit":"Wh"},"value":545.188098},{"measurand":"Voltage","unitOfMeasure":{"unit":"V"},"value":228.536301},{"measurand":"Voltage","phase":"L1","unitOfMeasure":{"unit":"V"},"value":228.53537},{"measurand":"Voltage","phase":"L2","unitOfMeasure":{"unit":"V"},"value":228.535645},{"measurand":"Voltage","phase":"L3","unitOfMeasure":{"unit":"V"},"value":228.536301},{"measurand":"Current.Import","unitOfMeasure":{"unit":"A"},"value":0.066826},{"measurand":"Current.Import","phase":"L1","unitOfMeasure":{"unit":"A"},"value":0.006849},{"measurand":"Current.Import","phase":"L2","unitOfMeasure":{"unit":"A"},"value":0.014123},{"measurand":"Current.Import","phase":"L3","unitOfMeasure":{"unit":"A"},"value":0.045855},{"measurand":"Power.Active.Import","unitOfMeasure":{"unit":"W"},"value":15.272265},{"measurand":"Power.Factor","phase":"L1","value":0.125805},{"measurand":"Power.Factor","phase":"L2","value":0.166895},{"measurand":"Power.Factor","phase":"L3","value":0.0}],"timestamp":"2023-03-29T09:40:29Z"}],"seqNo":2,"timestamp":"2023-03-29T09:40:29Z","transactionInfo":{"customData":{"timeSpentConnected":20,"vendorId":"com.chargepoint"},"timeSpentCharging":0,"transactionId":"7279714639592604433"},"triggerReason":"MeterValuePeriodic"}]
INFO:Ocpp_Server:RabbitMQ SENDING Message: {"destination": null, "origin": "Ocpp_Server", "method": "TransactionEvent", "type": "ocpp_log", "content": {"event_type": "Updated", "evse": {"connector_id": 1, "id": 1}, "meter_value": [{"sampled_value": [{"measurand": "Energy.Active.Import.Register", "unit_of_measure": {"unit": "Wh"}, "value": 545.188098}, {"measurand": "Voltage", "unit_of_measure": {"unit": "V"}, "value": 228.536301}, {"measurand": "Voltage", "phase": "L1", "unit_of_measure": {"unit": "V"}, "value": 228.53537}, {"measurand": "Voltage", "phase": "L2", "unit_of_measure": {"unit": "V"}, "value": 228.535645}, {"measurand": "Voltage", "phase": "L3", "unit_of_measure": {"unit": "V"}, "value": 228.536301}, {"measurand": "Current.Import", "unit_of_measure": {"unit": "A"}, "value": 0.066826}, {"measurand": "Current.Import", "phase": "L1", "unit_of_measure": {"unit": "A"}, "value": 0.006849}, {"measurand": "Current.Import", "phase": "L2", "unit_of_measure": {"unit": "A"}, "value": 0.014123}, {"measurand": "Current.Import", "phase": "L3", "unit_of_measure": {"unit": "A"}, "value": 0.045855}, {"measurand": "Power.Active.Import", "unit_of_measure": {"unit": "W"}, "value": 15.272265}, {"measurand": "Power.Factor", "phase": "L1", "value": 0.125805}, {"measurand": "Power.Factor", "phase": "L2", "value": 0.166895}, {"measurand": "Power.Factor", "phase": "L3", "value": 0.0}], "timestamp": "2023-03-29T09:40:29Z"}], "seq_no": 2, "timestamp": "2023-03-29T09:40:29Z", "transaction_info": {"custom_data": {"time_spent_connected": 20, "vendor_id": "com.chargepoint"}, "time_spent_charging": 0, "transaction_id": "7279714639592604433"}, "trigger_reason": "MeterValuePeriodic"}, "cp_id": "cp6k", "status": null}
INFO:ocpp:cp6k: send [3,"458d9f06935199516f8709dd5716ed2b",{}]
SQL_DB - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'TransactionEvent', 'type': 'ocpp_log', 'content': {'event_type': 'Updated', 'evse': {'connector_id': 1, 'id': 1}, 'meter_value': [{'sampled_value': [{'measurand': 'Energy.Active.Import.Register', 'unit_of_measure': {'unit': 'Wh'}, 'value': 545.188098}, {'measurand': 'Voltage', 'unit_of_measure': {'unit': 'V'}, 'value': 228.536301}, {'measurand': 'Voltage', 'phase': 'L1', 'unit_of_measure': {'unit': 'V'}, 'value': 228.53537}, {'measurand': 'Voltage', 'phase': 'L2', 'unit_of_measure': {'unit': 'V'}, 'value': 228.535645}, {'measurand': 'Voltage', 'phase': 'L3', 'unit_of_measure': {'unit': 'V'}, 'value': 228.536301}, {'measurand': 'Current.Import', 'unit_of_measure': {'unit': 'A'}, 'value': 0.066826}, {'measurand': 'Current.Import', 'phase': 'L1', 'unit_of_measure': {'unit': 'A'}, 'value': 0.006849}, {'measurand': 'Current.Import', 'phase': 'L2', 'unit_of_measure': {'unit': 'A'}, 'value': 0.014123}, {'measurand': 'Current.Import', 'phase': 'L3', 'unit_of_measure': {'unit': 'A'}, 'value': 0.045855}, {'measurand': 'Power.Active.Import', 'unit_of_measure': {'unit': 'W'}, 'value': 15.272265}, {'measurand': 'Power.Factor', 'phase': 'L1', 'value': 0.125805}, {'measurand': 'Power.Factor', 'phase': 'L2', 'value': 0.166895}, {'measurand': 'Power.Factor', 'phase': 'L3', 'value': 0.0}], 'timestamp': '2023-03-29T09:40:29Z'}], 'seq_no': 2, 'timestamp': '2023-03-29T09:40:29Z', 'transaction_info': {'custom_data': {'time_spent_connected': 20, 'vendor_id': 'com.chargepoint'}, 'time_spent_charging': 0, 'transaction_id': '7279714639592604433'}, 'trigger_reason': 'MeterValuePeriodic'}, 'cp_id': 'cp6k', 'status': None}
API - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'TransactionEvent', 'type': 'ocpp_log', 'content': {'event_type': 'Updated', 'evse': {'connector_id': 1, 'id': 1}, 'meter_value': [{'sampled_value': [{'measurand': 'Energy.Active.Import.Register', 'unit_of_measure': {'unit': 'Wh'}, 'value': 545.188098}, {'measurand': 'Voltage', 'unit_of_measure': {'unit': 'V'}, 'value': 228.536301}, {'measurand': 'Voltage', 'phase': 'L1', 'unit_of_measure': {'unit': 'V'}, 'value': 228.53537}, {'measurand': 'Voltage', 'phase': 'L2', 'unit_of_measure': {'unit': 'V'}, 'value': 228.535645}, {'measurand': 'Voltage', 'phase': 'L3', 'unit_of_measure': {'unit': 'V'}, 'value': 228.536301}, {'measurand': 'Current.Import', 'unit_of_measure': {'unit': 'A'}, 'value': 0.066826}, {'measurand': 'Current.Import', 'phase': 'L1', 'unit_of_measure': {'unit': 'A'}, 'value': 0.006849}, {'measurand': 'Current.Import', 'phase': 'L2', 'unit_of_measure': {'unit': 'A'}, 'value': 0.014123}, {'measurand': 'Current.Import', 'phase': 'L3', 'unit_of_measure': {'unit': 'A'}, 'value': 0.045855}, {'measurand': 'Power.Active.Import', 'unit_of_measure': {'unit': 'W'}, 'value': 15.272265}, {'measurand': 'Power.Factor', 'phase': 'L1', 'value': 0.125805}, {'measurand': 'Power.Factor', 'phase': 'L2', 'value': 0.166895}, {'measurand': 'Power.Factor', 'phase': 'L3', 'value': 0.0}], 'timestamp': '2023-03-29T09:40:29Z'}], 'seq_no': 2, 'timestamp': '2023-03-29T09:40:29Z', 'transaction_info': {'custom_data': {'time_spent_connected': 20, 'vendor_id': 'com.chargepoint'}, 'time_spent_charging': 0, 'transaction_id': '7279714639592604433'}, 'trigger_reason': 'MeterValuePeriodic'}, 'cp_id': 'cp6k', 'status': None}
SQL_DB - ERROR - Traceback (most recent call last):
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/rabbit_mq/rabbit_handler.py", line 122, in on_request
    response_content = await self.handle_request(request)
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/CSMS/db/db.py", line 78, in on_db_request
    raise e
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/CSMS/db/db.py", line 70, in on_db_request
    toReturn = method(cp_id=request.cp_id, **request.content)
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/CSMS/db/db.py", line 308, in TransactionEvent
    transaction = Transaction(**transaction_info)
  File "<string>", line 4, in __init__
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/orm/state.py", line 481, in _initialize_instance
    with util.safe_reraise():
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/util/compat.py", line 208, in raise_
    raise exception
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/orm/state.py", line 479, in _initialize_instance
    return manager.original_init(*mixed[1:], **kwargs)
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/CSMS/db/database_Base.py", line 29, in __init__
    super().__init__(**kwargs)
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/orm/decl_base.py", line 1197, in _declarative_constructor
    raise TypeError(
TypeError: 'custom_data' is an invalid keyword argument for Transaction

API - INFO - RabbitMQ SENDING Message: {"destination": "Ocpp_Server", "origin": "API", "method": "requestStopTransaction", "type": "request", "content": {"transaction_id": "7279714639592604433"}, "cp_id": "cp6k", "status": null}
INFO:Ocpp_Server:RECEIVED: {'destination': 'Ocpp_Server', 'origin': 'API', 'method': 'requestStopTransaction', 'type': 'request', 'content': {'transaction_id': '7279714639592604433'}, 'cp_id': 'cp6k', 'status': None}
INFO:ocpp:cp6k: send [2,"d52299fd-da97-416f-9857-99982a112e41","RequestStopTransaction",{"transactionId":"7279714639592604433"}]
INFO:ocpp:cp6k: receive message [2,"a77f2fee004d5dcb3393fa1ca1c399f0","TransactionEvent",{"eventType":"Updated","evse":{"connectorId":1,"id":1},"seqNo":3,"timestamp":"2023-03-29T09:40:40Z","transactionInfo":{"chargingState":"SuspendedEVSE","customData":{"timeSpentConnected":31,"vendorId":"com.chargepoint"},"timeSpentCharging":0,"transactionId":"7279714639592604433"},"triggerReason":"ChargingStateChanged"}]
INFO:Ocpp_Server:RabbitMQ SENDING Message: {"destination": null, "origin": "Ocpp_Server", "method": "TransactionEvent", "type": "ocpp_log", "content": {"event_type": "Updated", "evse": {"connector_id": 1, "id": 1}, "seq_no": 3, "timestamp": "2023-03-29T09:40:40Z", "transaction_info": {"charging_state": "SuspendedEVSE", "custom_data": {"time_spent_connected": 31, "vendor_id": "com.chargepoint"}, "time_spent_charging": 0, "transaction_id": "7279714639592604433"}, "trigger_reason": "ChargingStateChanged"}, "cp_id": "cp6k", "status": null}
INFO:ocpp:cp6k: send [3,"a77f2fee004d5dcb3393fa1ca1c399f0",{}]
INFO:ocpp:cp6k: receive message [3,"d52299fd-da97-416f-9857-99982a112e41",{"status":"Accepted"}]
API - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'TransactionEvent', 'type': 'ocpp_log', 'content': {'event_type': 'Updated', 'evse': {'connector_id': 1, 'id': 1}, 'seq_no': 3, 'timestamp': '2023-03-29T09:40:40Z', 'transaction_info': {'charging_state': 'SuspendedEVSE', 'custom_data': {'time_spent_connected': 31, 'vendor_id': 'com.chargepoint'}, 'time_spent_charging': 0, 'transaction_id': '7279714639592604433'}, 'trigger_reason': 'ChargingStateChanged'}, 'cp_id': 'cp6k', 'status': None}
INFO:Ocpp_Server:RabbitMQ SENDING Message: {"destination": "API", "origin": "Ocpp_Server", "method": "requestStopTransaction", "type": "response", "content": {"status": "Accepted", "status_info": null}, "cp_id": "cp6k", "status": "OK"}
SQL_DB - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'TransactionEvent', 'type': 'ocpp_log', 'content': {'event_type': 'Updated', 'evse': {'connector_id': 1, 'id': 1}, 'seq_no': 3, 'timestamp': '2023-03-29T09:40:40Z', 'transaction_info': {'charging_state': 'SuspendedEVSE', 'custom_data': {'time_spent_connected': 31, 'vendor_id': 'com.chargepoint'}, 'time_spent_charging': 0, 'transaction_id': '7279714639592604433'}, 'trigger_reason': 'ChargingStateChanged'}, 'cp_id': 'cp6k', 'status': None}
API - INFO - RESPONSE: {'destination': 'API', 'origin': 'Ocpp_Server', 'method': 'requestStopTransaction', 'type': 'response', 'content': {'status': 'Accepted', 'status_info': None}, 'cp_id': 'cp6k', 'status': 'OK'}
INFO:     127.0.0.1:59602 - "POST /charge/stop?transaction_id=7279714639592604433 HTTP/1.1" 200 OK
SQL_DB - ERROR - Traceback (most recent call last):
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/rabbit_mq/rabbit_handler.py", line 122, in on_request
    response_content = await self.handle_request(request)
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/CSMS/db/db.py", line 78, in on_db_request
    raise e
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/CSMS/db/db.py", line 70, in on_db_request
    toReturn = method(cp_id=request.cp_id, **request.content)
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/CSMS/db/db.py", line 308, in TransactionEvent
    transaction = Transaction(**transaction_info)
  File "<string>", line 4, in __init__
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/orm/state.py", line 481, in _initialize_instance
    with util.safe_reraise():
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/util/compat.py", line 208, in raise_
    raise exception
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/orm/state.py", line 479, in _initialize_instance
    return manager.original_init(*mixed[1:], **kwargs)
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/CSMS/db/database_Base.py", line 29, in __init__
    super().__init__(**kwargs)
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/orm/decl_base.py", line 1197, in _declarative_constructor
    raise TypeError(
TypeError: 'custom_data' is an invalid keyword argument for Transaction

INFO:ocpp:cp6k: receive message [2,"268a53cc6cde89713094a7d99cdd867f","TransactionEvent",{"eventType":"Ended","evse":{"connectorId":1,"id":1},"meterValue":[{"sampledValue":[{"context":"Transaction.End","measurand":"Energy.Active.Import.Register","unitOfMeasure":{"unit":"Wh"},"value":545.2}],"timestamp":"2023-03-29T09:40:48Z"}],"seqNo":4,"timestamp":"2023-03-29T09:40:48Z","transactionInfo":{"chargingState":"Idle","customData":{"timeSpentConnected":39,"vendorId":"com.chargepoint"},"stoppedReason":"Remote","timeSpentCharging":0,"transactionId":"7279714639592604433"},"triggerReason":"ChargingStateChanged"}]
INFO:Ocpp_Server:RabbitMQ SENDING Message: {"destination": null, "origin": "Ocpp_Server", "method": "TransactionEvent", "type": "ocpp_log", "content": {"event_type": "Ended", "evse": {"connector_id": 1, "id": 1}, "meter_value": [{"sampled_value": [{"context": "Transaction.End", "measurand": "Energy.Active.Import.Register", "unit_of_measure": {"unit": "Wh"}, "value": 545.2}], "timestamp": "2023-03-29T09:40:48Z"}], "seq_no": 4, "timestamp": "2023-03-29T09:40:48Z", "transaction_info": {"charging_state": "Idle", "custom_data": {"time_spent_connected": 39, "vendor_id": "com.chargepoint"}, "stopped_reason": "Remote", "time_spent_charging": 0, "transaction_id": "7279714639592604433"}, "trigger_reason": "ChargingStateChanged"}, "cp_id": "cp6k", "status": null}
INFO:ocpp:cp6k: send [3,"268a53cc6cde89713094a7d99cdd867f",{}]
INFO:Ocpp_Server:RabbitMQ SENDING Message: {"destination": "SQL_DB", "origin": "Ocpp_Server", "method": "remove", "type": "ocpp_log", "content": {"table": "ChargingProfile", "filters": {"transaction_id": "7279714639592604433"}}, "cp_id": "cp6k", "status": null}
SQL_DB - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'TransactionEvent', 'type': 'ocpp_log', 'content': {'event_type': 'Ended', 'evse': {'connector_id': 1, 'id': 1}, 'meter_value': [{'sampled_value': [{'context': 'Transaction.End', 'measurand': 'Energy.Active.Import.Register', 'unit_of_measure': {'unit': 'Wh'}, 'value': 545.2}], 'timestamp': '2023-03-29T09:40:48Z'}], 'seq_no': 4, 'timestamp': '2023-03-29T09:40:48Z', 'transaction_info': {'charging_state': 'Idle', 'custom_data': {'time_spent_connected': 39, 'vendor_id': 'com.chargepoint'}, 'stopped_reason': 'Remote', 'time_spent_charging': 0, 'transaction_id': '7279714639592604433'}, 'trigger_reason': 'ChargingStateChanged'}, 'cp_id': 'cp6k', 'status': None}
API - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'TransactionEvent', 'type': 'ocpp_log', 'content': {'event_type': 'Ended', 'evse': {'connector_id': 1, 'id': 1}, 'meter_value': [{'sampled_value': [{'context': 'Transaction.End', 'measurand': 'Energy.Active.Import.Register', 'unit_of_measure': {'unit': 'Wh'}, 'value': 545.2}], 'timestamp': '2023-03-29T09:40:48Z'}], 'seq_no': 4, 'timestamp': '2023-03-29T09:40:48Z', 'transaction_info': {'charging_state': 'Idle', 'custom_data': {'time_spent_connected': 39, 'vendor_id': 'com.chargepoint'}, 'stopped_reason': 'Remote', 'time_spent_charging': 0, 'transaction_id': '7279714639592604433'}, 'trigger_reason': 'ChargingStateChanged'}, 'cp_id': 'cp6k', 'status': None}
INFO:ocpp:cp6k: send [2,"ed00f2fd-185c-4eca-acba-a4d8d5131d43","GetTransactionStatus",{"transactionId":"7279714639592604433"}]
API - INFO - RECEIVED: {'destination': 'SQL_DB', 'origin': 'Ocpp_Server', 'method': 'remove', 'type': 'ocpp_log', 'content': {'table': 'ChargingProfile', 'filters': {'transaction_id': '7279714639592604433'}}, 'cp_id': 'cp6k', 'status': None}
SQL_DB - ERROR - Traceback (most recent call last):
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/rabbit_mq/rabbit_handler.py", line 122, in on_request
    response_content = await self.handle_request(request)
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/CSMS/db/db.py", line 78, in on_db_request
    raise e
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/CSMS/db/db.py", line 70, in on_db_request
    toReturn = method(cp_id=request.cp_id, **request.content)
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/CSMS/db/db.py", line 308, in TransactionEvent
    transaction = Transaction(**transaction_info)
  File "<string>", line 4, in __init__
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/orm/state.py", line 481, in _initialize_instance
    with util.safe_reraise():
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/util/compat.py", line 208, in raise_
    raise exception
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/orm/state.py", line 479, in _initialize_instance
    return manager.original_init(*mixed[1:], **kwargs)
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/CSMS/db/database_Base.py", line 29, in __init__
    super().__init__(**kwargs)
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/orm/decl_base.py", line 1197, in _declarative_constructor
    raise TypeError(
TypeError: 'custom_data' is an invalid keyword argument for Transaction

SQL_DB - INFO - RECEIVED: {'destination': 'SQL_DB', 'origin': 'Ocpp_Server', 'method': 'remove', 'type': 'ocpp_log', 'content': {'table': 'ChargingProfile', 'filters': {'transaction_id': '7279714639592604433'}}, 'cp_id': 'cp6k', 'status': None}
INFO:ocpp:cp6k: receive message [4,"ed00f2fd-185c-4eca-acba-a4d8d5131d43","NotImplemented","GetTransactionStatusRequest handler not available",{}]
WARNING:ocpp:Received a CALLError: <CallError - unique_id=ed00f2fd-185c-4eca-acba-a4d8d5131d43, error_code=NotImplemented, error_description=GetTransactionStatusRequest handler not available, error_details={}>'
ERROR:asyncio:Task exception was never retrieved
future: <Task finished name='Task-450' coro=<ChargePoint.after_TransactionEvent() done, defined at /home/it2s/Desktop/joao_csms/IT_CSMS/src/CSMS/ocpp_server/chargePointRepr.py:723> exception=<NotImplementedError - description=GetTransactionStatusRequest handler not available, details={}>>
Traceback (most recent call last):
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/CSMS/ocpp_server/chargePointRepr.py", line 747, in after_TransactionEvent
    transaction_status = await self.getTransactionStatus(transaction_id=transaction_id)
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/CSMS/ocpp_server/chargePointRepr.py", line 335, in getTransactionStatus
    return await self.call(request, suppress=False)
  File "/home/it2s/.local/lib/python3.10/site-packages/ocpp/charge_point.py", line 286, in call
    raise response.to_exception()
ocpp.exceptions.NotImplementedError: NotImplementedError: GetTransactionStatusRequest handler not available, {}
INFO:ocpp:cp6k: receive message [2,"e0afca35e74d8c919bd487cc4cef51ff","StatusNotification",{"connectorId":1,"connectorStatus":"Available","evseId":1,"timestamp":"2023-03-29T09:40:50Z"}]
INFO:Ocpp_Server:RabbitMQ SENDING Message: {"destination": null, "origin": "Ocpp_Server", "method": "StatusNotification", "type": "ocpp_log", "content": {"connector_id": 1, "connector_status": "Available", "evse_id": 1, "timestamp": "2023-03-29T09:40:50Z"}, "cp_id": "cp6k", "status": null}
INFO:ocpp:cp6k: send [3,"e0afca35e74d8c919bd487cc4cef51ff",{}]
API - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'StatusNotification', 'type': 'ocpp_log', 'content': {'connector_id': 1, 'connector_status': 'Available', 'evse_id': 1, 'timestamp': '2023-03-29T09:40:50Z'}, 'cp_id': 'cp6k', 'status': None}
SQL_DB - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'StatusNotification', 'type': 'ocpp_log', 'content': {'connector_id': 1, 'connector_status': 'Available', 'evse_id': 1, 'timestamp': '2023-03-29T09:40:50Z'}, 'cp_id': 'cp6k', 'status': None}
INFO:ocpp:cp6k: receive message [2,"2d0cb21084ca9bc633f35d5d8d208e1c","Heartbeat",{"customData":{"rsrp":-93.0,"rsrq":-9.0,"rssi":-57.0,"snr":10.200000000000001,"vendorId":"com.chargepoint"}}]
INFO:ocpp:cp6k: send [3,"2d0cb21084ca9bc633f35d5d8d208e1c",{"currentTime":"2023-03-29T09:40:53.662791"}]
INFO:ocpp:cp6k: receive message [2,"21d435375e932ce4e53a6f6da9ecfb6a","NotifyEvent",{"eventData":[{"actualValue":"Available","component":{"evse":{"id":1},"name":"EVSE"},"eventId":0,"eventNotificationType":"HardWiredMonitor","timestamp":"2023-03-29T09:40:48Z","trigger":"Delta","variable":{"name":"AvailabilityState"}}],"generatedAt":"2023-03-29T09:40:53Z","seqNo":0}]
INFO:Ocpp_Server:RabbitMQ SENDING Message: {"destination": null, "origin": "Ocpp_Server", "method": "NotifyEvent", "type": "ocpp_log", "content": {"event_data": [{"actual_value": "Available", "component": {"evse": {"id": 1}, "name": "EVSE"}, "event_id": 0, "event_notification_type": "HardWiredMonitor", "timestamp": "2023-03-29T09:40:48Z", "trigger": "Delta", "variable": {"name": "AvailabilityState"}}], "generated_at": "2023-03-29T09:40:53Z", "seq_no": 0}, "cp_id": "cp6k", "status": null}
INFO:ocpp:cp6k: send [3,"21d435375e932ce4e53a6f6da9ecfb6a",{}]
SQL_DB - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'NotifyEvent', 'type': 'ocpp_log', 'content': {'event_data': [{'actual_value': 'Available', 'component': {'evse': {'id': 1}, 'name': 'EVSE'}, 'event_id': 0, 'event_notification_type': 'HardWiredMonitor', 'timestamp': '2023-03-29T09:40:48Z', 'trigger': 'Delta', 'variable': {'name': 'AvailabilityState'}}], 'generated_at': '2023-03-29T09:40:53Z', 'seq_no': 0}, 'cp_id': 'cp6k', 'status': None}
API - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'NotifyEvent', 'type': 'ocpp_log', 'content': {'event_data': [{'actual_value': 'Available', 'component': {'evse': {'id': 1}, 'name': 'EVSE'}, 'event_id': 0, 'event_notification_type': 'HardWiredMonitor', 'timestamp': '2023-03-29T09:40:48Z', 'trigger': 'Delta', 'variable': {'name': 'AvailabilityState'}}], 'generated_at': '2023-03-29T09:40:53Z', 'seq_no': 0}, 'cp_id': 'cp6k', 'status': None}
INFO:ocpp:cp6k: receive message [2,"09d37f289134c6ef3b720ec30c86cda3","Heartbeat",{"customData":{"rsrp":-93.0,"rsrq":-9.0,"rssi":-65.0,"snr":11.4,"vendorId":"com.chargepoint"}}]
INFO:ocpp:cp6k: send [3,"09d37f289134c6ef3b720ec30c86cda3",{"currentTime":"2023-03-29T09:41:23.477330"}]
API - INFO - RabbitMQ SENDING Message: {"destination": "SQL_DB", "origin": "API", "method": "select", "type": "request", "content": {"table": "IdToken", "filters": {"id_token": "1dee35d6-ed03-4882-9762-86197f258a74"}}, "cp_id": "cp6k", "status": null}
SQL_DB - INFO - RECEIVED: {'destination': 'SQL_DB', 'origin': 'API', 'method': 'select', 'type': 'request', 'content': {'table': 'IdToken', 'filters': {'id_token': '1dee35d6-ed03-4882-9762-86197f258a74'}}, 'cp_id': 'cp6k', 'status': None}
SQL_DB - INFO - RabbitMQ SENDING Message: {"destination": "API", "origin": "SQL_DB", "method": "select", "type": "response", "content": [{"id_token": "1dee35d6-ed03-4882-9762-86197f258a74", "type": "ISO14443"}], "cp_id": "cp6k", "status": "OK"}
API - INFO - RESPONSE: {'destination': 'API', 'origin': 'SQL_DB', 'method': 'select', 'type': 'response', 'content': [{'id_token': '1dee35d6-ed03-4882-9762-86197f258a74', 'type': 'ISO14443'}], 'cp_id': 'cp6k', 'status': 'OK'}
API - INFO - RabbitMQ SENDING Message: {"destination": "Ocpp_Server", "origin": "API", "method": "reserveNow", "type": "request", "content": {"evse_id": 1, "id_token": {"id_token": "1dee35d6-ed03-4882-9762-86197f258a74", "type": "ISO14443"}, "expiry_date_time": "2023-03-29 10:41:52"}, "cp_id": "cp6k", "status": null}
INFO:Ocpp_Server:RECEIVED: {'destination': 'Ocpp_Server', 'origin': 'API', 'method': 'reserveNow', 'type': 'request', 'content': {'evse_id': 1, 'id_token': {'id_token': '1dee35d6-ed03-4882-9762-86197f258a74', 'type': 'ISO14443'}, 'expiry_date_time': '2023-03-29 10:41:52'}, 'cp_id': 'cp6k', 'status': None}
INFO:ocpp:cp6k: send [2,"b169fd89-4fbf-4ef3-9d60-e8b4192d3357","ReserveNow",{"id":89,"expiryDateTime":"2023-03-29 10:41:52","idToken":{"idToken":"1dee35d6-ed03-4882-9762-86197f258a74","type":"ISO14443"},"evseId":1}]
INFO:ocpp:cp6k: receive message [4,"b169fd89-4fbf-4ef3-9d60-e8b4192d3357","InternalError","ReserveNowRequest handler failed: unsupported date format",{}]
WARNING:ocpp:Received a CALLError: <CallError - unique_id=b169fd89-4fbf-4ef3-9d60-e8b4192d3357, error_code=InternalError, error_description=ReserveNowRequest handler failed: unsupported date format, error_details={}>'
INFO:Ocpp_Server:RabbitMQ SENDING Message: {"destination": "API", "origin": "Ocpp_Server", "method": "reserveNow", "type": "response", "content": "Ocpp Comunication Error", "cp_id": "cp6k", "status": "Error"}
API - INFO - RESPONSE: {'destination': 'API', 'origin': 'Ocpp_Server', 'method': 'reserveNow', 'type': 'response', 'content': 'Ocpp Comunication Error', 'cp_id': 'cp6k', 'status': 'Error'}
INFO:     127.0.0.1:35056 - "POST /ReserveNow?cp_id=cp6k&evse_id=1 HTTP/1.1" 500 Internal Server Error
INFO:ocpp:cp6k: receive message [2,"c0a10c8817fa8d63735e8b12ba80ab13","Heartbeat",{"customData":{"rsrp":-93.0,"rsrq":-9.0,"rssi":-57.0,"snr":11.4,"vendorId":"com.chargepoint"}}]
INFO:ocpp:cp6k: send [3,"c0a10c8817fa8d63735e8b12ba80ab13",{"currentTime":"2023-03-29T09:41:53.561514"}]
INFO:ocpp:cp6k: receive message [2,"e4214c787bc580783c3f366cc320439a","Heartbeat",{"customData":{"rsrp":-93.0,"rsrq":-9.0,"rssi":-64.0,"snr":12.0,"vendorId":"com.chargepoint"}}]
INFO:ocpp:cp6k: send [3,"e4214c787bc580783c3f366cc320439a",{"currentTime":"2023-03-29T09:42:23.674596"}]
INFO:ocpp:cp6k: receive message [2,"e04ee7c4b76c448401813fc813000b01","Heartbeat",{"customData":{"rsrp":-93.0,"rsrq":-9.0,"rssi":-64.0,"snr":12.0,"vendorId":"com.chargepoint"}}]
INFO:ocpp:cp6k: send [3,"e04ee7c4b76c448401813fc813000b01",{"currentTime":"2023-03-29T09:42:53.482975"}]
INFO:ocpp:cp6k: receive message [2,"66e05f990dc89efeaa51ec34278f9eec","Heartbeat",{"customData":{"rsrp":-93.0,"rsrq":-13.0,"rssi":-64.0,"snr":12.200000000000001,"vendorId":"com.chargepoint"}}]
INFO:ocpp:cp6k: send [3,"66e05f990dc89efeaa51ec34278f9eec",{"currentTime":"2023-03-29T09:43:23.579679"}]
INFO:ocpp:cp6k: receive message [2,"3eeba97747d7e6e1b04e261d741adf0f","Heartbeat",{"customData":{"rsrp":-93.0,"rsrq":-13.0,"rssi":-57.0,"snr":8.8,"vendorId":"com.chargepoint"}}]
INFO:ocpp:cp6k: send [3,"3eeba97747d7e6e1b04e261d741adf0f",{"currentTime":"2023-03-29T09:43:55.562091"}]
INFO:ocpp:cp6k: receive message [2,"2804185829a4bdc711afed97a36f8815","Heartbeat",{"customData":{"rsrp":-93.0,"rsrq":-8.0,"rssi":-63.0,"snr":7.6000000000000005,"vendorId":"com.chargepoint"}}]
INFO:ocpp:cp6k: send [3,"2804185829a4bdc711afed97a36f8815",{"currentTime":"2023-03-29T09:44:23.491542"}]
INFO:ocpp:cp6k: receive message [2,"96c7d96d5a0a485b97347d2f113da339","Heartbeat",{"customData":{"rsrp":-93.0,"rsrq":-14.0,"rssi":-57.0,"snr":9.4,"vendorId":"com.chargepoint"}}]
INFO:ocpp:cp6k: send [3,"96c7d96d5a0a485b97347d2f113da339",{"currentTime":"2023-03-29T09:44:53.594673"}]
INFO:ocpp:cp6k: receive message [2,"90f5e4eabb3a8b84ba4d5269eb88dced","Heartbeat",{"customData":{"rsrp":-93.0,"rsrq":-14.0,"rssi":-63.0,"snr":6.2,"vendorId":"com.chargepoint"}}]
INFO:ocpp:cp6k: send [3,"90f5e4eabb3a8b84ba4d5269eb88dced",{"currentTime":"2023-03-29T09:45:23.393190"}]
INFO:     127.0.0.1:45616 - "POST /ChangeAvailability/cp6k HTTP/1.1" 401 Unauthorized
API - INFO - RabbitMQ SENDING Message: {"destination": "SQL_DB", "origin": "API", "method": "login", "type": "request", "content": {"email": "admin", "password": "admin"}, "cp_id": null, "status": null}
SQL_DB - INFO - RECEIVED: {'destination': 'SQL_DB', 'origin': 'API', 'method': 'login', 'type': 'request', 'content': {'email': 'admin', 'password': 'admin'}, 'cp_id': None, 'status': None}
SQL_DB - INFO - RabbitMQ SENDING Message: {"destination": "API", "origin": "SQL_DB", "method": "login", "type": "response", "content": {"id": 2, "permission_level": 2, "id_token": null}, "cp_id": null, "status": "OK"}
API - INFO - RESPONSE: {'destination': 'API', 'origin': 'SQL_DB', 'method': 'login', 'type': 'response', 'content': {'id': 2, 'permission_level': 2, 'id_token': None}, 'cp_id': None, 'status': 'OK'}
INFO:     127.0.0.1:34886 - "GET /login?email=admin&password=admin HTTP/1.1" 200 OK
INFO:ocpp:cp6k: receive message [2,"18541b30923a081f03f8f6068bdcb71a","Heartbeat",{"customData":{"rsrp":-93.0,"rsrq":-9.0,"rssi":-63.0,"snr":11.200000000000001,"vendorId":"com.chargepoint"}}]
INFO:ocpp:cp6k: send [3,"18541b30923a081f03f8f6068bdcb71a",{"currentTime":"2023-03-29T09:45:53.499109"}]
API - INFO - RabbitMQ SENDING Message: {"destination": "Ocpp_Server", "origin": "API", "method": "changeAvailability", "type": "request", "content": {"operational_status": "Inoperative", "evse": {"id": 1, "connector_id": 0}}, "cp_id": "cp6k", "status": null}
INFO:Ocpp_Server:RECEIVED: {'destination': 'Ocpp_Server', 'origin': 'API', 'method': 'changeAvailability', 'type': 'request', 'content': {'operational_status': 'Inoperative', 'evse': {'id': 1, 'connector_id': 0}}, 'cp_id': 'cp6k', 'status': None}
INFO:ocpp:cp6k: send [2,"bb581a22-77d7-4981-86c5-725297946ee1","ChangeAvailability",{"operationalStatus":"Inoperative","evse":{"id":1,"connectorId":0}}]
INFO:ocpp:cp6k: receive message [3,"bb581a22-77d7-4981-86c5-725297946ee1",{"status":"Accepted"}]
INFO:Ocpp_Server:RabbitMQ SENDING Message: {"destination": "API", "origin": "Ocpp_Server", "method": "changeAvailability", "type": "response", "content": {"status": "Accepted", "status_info": null}, "cp_id": "cp6k", "status": "OK"}
API - INFO - RESPONSE: {'destination': 'API', 'origin': 'Ocpp_Server', 'method': 'changeAvailability', 'type': 'response', 'content': {'status': 'Accepted', 'status_info': None}, 'cp_id': 'cp6k', 'status': 'OK'}
INFO:     127.0.0.1:47884 - "POST /ChangeAvailability/cp6k HTTP/1.1" 200 OK
INFO:ocpp:cp6k: receive message [2,"b1c0be3c8312b681e29fbaef3ed810ad","StatusNotification",{"connectorId":1,"connectorStatus":"Unavailable","evseId":1,"timestamp":"2023-03-29T09:46:05Z"}]
INFO:Ocpp_Server:RabbitMQ SENDING Message: {"destination": null, "origin": "Ocpp_Server", "method": "StatusNotification", "type": "ocpp_log", "content": {"connector_id": 1, "connector_status": "Unavailable", "evse_id": 1, "timestamp": "2023-03-29T09:46:05Z"}, "cp_id": "cp6k", "status": null}
INFO:ocpp:cp6k: send [3,"b1c0be3c8312b681e29fbaef3ed810ad",{}]
SQL_DB - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'StatusNotification', 'type': 'ocpp_log', 'content': {'connector_id': 1, 'connector_status': 'Unavailable', 'evse_id': 1, 'timestamp': '2023-03-29T09:46:05Z'}, 'cp_id': 'cp6k', 'status': None}
API - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'StatusNotification', 'type': 'ocpp_log', 'content': {'connector_id': 1, 'connector_status': 'Unavailable', 'evse_id': 1, 'timestamp': '2023-03-29T09:46:05Z'}, 'cp_id': 'cp6k', 'status': None}
INFO:ocpp:cp6k: receive message [2,"f74b190069844b7068ebf19d10d8e23f","NotifyEvent",{"eventData":[{"actualValue":"Unavailable","component":{"evse":{"id":1},"name":"EVSE"},"eventId":0,"eventNotificationType":"HardWiredMonitor","timestamp":"2023-03-29T09:46:03Z","trigger":"Delta","variable":{"name":"AvailabilityState"}}],"generatedAt":"2023-03-29T09:46:08Z","seqNo":0}]
INFO:Ocpp_Server:RabbitMQ SENDING Message: {"destination": null, "origin": "Ocpp_Server", "method": "NotifyEvent", "type": "ocpp_log", "content": {"event_data": [{"actual_value": "Unavailable", "component": {"evse": {"id": 1}, "name": "EVSE"}, "event_id": 0, "event_notification_type": "HardWiredMonitor", "timestamp": "2023-03-29T09:46:03Z", "trigger": "Delta", "variable": {"name": "AvailabilityState"}}], "generated_at": "2023-03-29T09:46:08Z", "seq_no": 0}, "cp_id": "cp6k", "status": null}
INFO:ocpp:cp6k: send [3,"f74b190069844b7068ebf19d10d8e23f",{}]
API - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'NotifyEvent', 'type': 'ocpp_log', 'content': {'event_data': [{'actual_value': 'Unavailable', 'component': {'evse': {'id': 1}, 'name': 'EVSE'}, 'event_id': 0, 'event_notification_type': 'HardWiredMonitor', 'timestamp': '2023-03-29T09:46:03Z', 'trigger': 'Delta', 'variable': {'name': 'AvailabilityState'}}], 'generated_at': '2023-03-29T09:46:08Z', 'seq_no': 0}, 'cp_id': 'cp6k', 'status': None}
SQL_DB - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'NotifyEvent', 'type': 'ocpp_log', 'content': {'event_data': [{'actual_value': 'Unavailable', 'component': {'evse': {'id': 1}, 'name': 'EVSE'}, 'event_id': 0, 'event_notification_type': 'HardWiredMonitor', 'timestamp': '2023-03-29T09:46:03Z', 'trigger': 'Delta', 'variable': {'name': 'AvailabilityState'}}], 'generated_at': '2023-03-29T09:46:08Z', 'seq_no': 0}, 'cp_id': 'cp6k', 'status': None}
INFO:ocpp:cp6k: receive message [2,"c6f7509411bc635ba5801c62e59152eb","Heartbeat",{"customData":{"rsrp":-93.0,"rsrq":-14.0,"rssi":-63.0,"snr":9.200000000000001,"vendorId":"com.chargepoint"}}]
INFO:ocpp:cp6k: send [3,"c6f7509411bc635ba5801c62e59152eb",{"currentTime":"2023-03-29T09:46:23.684843"}]
API - INFO - RabbitMQ SENDING Message: {"destination": "Ocpp_Server", "origin": "API", "method": "changeAvailability", "type": "request", "content": {"operational_status": "Inoperative", "evse": {"id": 2, "connector_id": 0}}, "cp_id": "cp6k", "status": null}
INFO:Ocpp_Server:RECEIVED: {'destination': 'Ocpp_Server', 'origin': 'API', 'method': 'changeAvailability', 'type': 'request', 'content': {'operational_status': 'Inoperative', 'evse': {'id': 2, 'connector_id': 0}}, 'cp_id': 'cp6k', 'status': None}
INFO:ocpp:cp6k: send [2,"6f7a0a5b-1c65-417d-8ade-2ab3a4bd4278","ChangeAvailability",{"operationalStatus":"Inoperative","evse":{"id":2,"connectorId":0}}]
INFO:ocpp:cp6k: receive message [3,"6f7a0a5b-1c65-417d-8ade-2ab3a4bd4278",{"status":"Accepted"}]
INFO:Ocpp_Server:RabbitMQ SENDING Message: {"destination": "API", "origin": "Ocpp_Server", "method": "changeAvailability", "type": "response", "content": {"status": "Accepted", "status_info": null}, "cp_id": "cp6k", "status": "OK"}
API - INFO - RESPONSE: {'destination': 'API', 'origin': 'Ocpp_Server', 'method': 'changeAvailability', 'type': 'response', 'content': {'status': 'Accepted', 'status_info': None}, 'cp_id': 'cp6k', 'status': 'OK'}
INFO:     127.0.0.1:40832 - "POST /ChangeAvailability/cp6k HTTP/1.1" 200 OK
INFO:ocpp:cp6k: receive message [2,"570002d2a77429d4a8e95c27bd9f945d","StatusNotification",{"connectorId":1,"connectorStatus":"Unavailable","evseId":2,"timestamp":"2023-03-29T09:46:51Z"}]
INFO:Ocpp_Server:RabbitMQ SENDING Message: {"destination": null, "origin": "Ocpp_Server", "method": "StatusNotification", "type": "ocpp_log", "content": {"connector_id": 1, "connector_status": "Unavailable", "evse_id": 2, "timestamp": "2023-03-29T09:46:51Z"}, "cp_id": "cp6k", "status": null}
INFO:ocpp:cp6k: send [3,"570002d2a77429d4a8e95c27bd9f945d",{}]
SQL_DB - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'StatusNotification', 'type': 'ocpp_log', 'content': {'connector_id': 1, 'connector_status': 'Unavailable', 'evse_id': 2, 'timestamp': '2023-03-29T09:46:51Z'}, 'cp_id': 'cp6k', 'status': None}
API - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'StatusNotification', 'type': 'ocpp_log', 'content': {'connector_id': 1, 'connector_status': 'Unavailable', 'evse_id': 2, 'timestamp': '2023-03-29T09:46:51Z'}, 'cp_id': 'cp6k', 'status': None}
INFO:ocpp:cp6k: receive message [2,"5a074f30c3a45a1b7ae411a3baf5cbb4","Heartbeat",{"customData":{"rsrp":-93.0,"rsrq":-9.0,"rssi":-63.0,"snr":8.8,"vendorId":"com.chargepoint"}}]
INFO:ocpp:cp6k: send [3,"5a074f30c3a45a1b7ae411a3baf5cbb4",{"currentTime":"2023-03-29T09:46:53.429913"}]
INFO:ocpp:cp6k: receive message [2,"520fb9614469d57434050bac9e6f5e04","NotifyEvent",{"eventData":[{"actualValue":"Unavailable","component":{"evse":{"id":2},"name":"EVSE"},"eventId":0,"eventNotificationType":"HardWiredMonitor","timestamp":"2023-03-29T09:46:49Z","trigger":"Delta","variable":{"name":"AvailabilityState"}},{"actualValue":"Unavailable","component":{"name":"ChargingStation"},"eventId":0,"eventNotificationType":"HardWiredMonitor","timestamp":"2023-03-29T09:46:49Z","trigger":"Delta","variable":{"name":"AvailabilityState"}}],"generatedAt":"2023-03-29T09:46:54Z","seqNo":0}]
INFO:Ocpp_Server:RabbitMQ SENDING Message: {"destination": null, "origin": "Ocpp_Server", "method": "NotifyEvent", "type": "ocpp_log", "content": {"event_data": [{"actual_value": "Unavailable", "component": {"evse": {"id": 2}, "name": "EVSE"}, "event_id": 0, "event_notification_type": "HardWiredMonitor", "timestamp": "2023-03-29T09:46:49Z", "trigger": "Delta", "variable": {"name": "AvailabilityState"}}, {"actual_value": "Unavailable", "component": {"name": "ChargingStation"}, "event_id": 0, "event_notification_type": "HardWiredMonitor", "timestamp": "2023-03-29T09:46:49Z", "trigger": "Delta", "variable": {"name": "AvailabilityState"}}], "generated_at": "2023-03-29T09:46:54Z", "seq_no": 0}, "cp_id": "cp6k", "status": null}
INFO:ocpp:cp6k: send [3,"520fb9614469d57434050bac9e6f5e04",{}]
API - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'NotifyEvent', 'type': 'ocpp_log', 'content': {'event_data': [{'actual_value': 'Unavailable', 'component': {'evse': {'id': 2}, 'name': 'EVSE'}, 'event_id': 0, 'event_notification_type': 'HardWiredMonitor', 'timestamp': '2023-03-29T09:46:49Z', 'trigger': 'Delta', 'variable': {'name': 'AvailabilityState'}}, {'actual_value': 'Unavailable', 'component': {'name': 'ChargingStation'}, 'event_id': 0, 'event_notification_type': 'HardWiredMonitor', 'timestamp': '2023-03-29T09:46:49Z', 'trigger': 'Delta', 'variable': {'name': 'AvailabilityState'}}], 'generated_at': '2023-03-29T09:46:54Z', 'seq_no': 0}, 'cp_id': 'cp6k', 'status': None}
SQL_DB - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'NotifyEvent', 'type': 'ocpp_log', 'content': {'event_data': [{'actual_value': 'Unavailable', 'component': {'evse': {'id': 2}, 'name': 'EVSE'}, 'event_id': 0, 'event_notification_type': 'HardWiredMonitor', 'timestamp': '2023-03-29T09:46:49Z', 'trigger': 'Delta', 'variable': {'name': 'AvailabilityState'}}, {'actual_value': 'Unavailable', 'component': {'name': 'ChargingStation'}, 'event_id': 0, 'event_notification_type': 'HardWiredMonitor', 'timestamp': '2023-03-29T09:46:49Z', 'trigger': 'Delta', 'variable': {'name': 'AvailabilityState'}}], 'generated_at': '2023-03-29T09:46:54Z', 'seq_no': 0}, 'cp_id': 'cp6k', 'status': None}
INFO:ocpp:cp6k: receive message [2,"f3d5574aa75a27470bf8924128b1d7b7","Heartbeat",{"customData":{"rsrp":-93.0,"rsrq":-9.0,"rssi":-63.0,"snr":5.800000000000001,"vendorId":"com.chargepoint"}}]
INFO:ocpp:cp6k: send [3,"f3d5574aa75a27470bf8924128b1d7b7",{"currentTime":"2023-03-29T09:47:23.522868"}]
API - INFO - RabbitMQ SENDING Message: {"destination": "Ocpp_Server", "origin": "API", "method": "changeAvailability", "type": "request", "content": {"operational_status": "Operative", "evse": {"id": 0, "connector_id": 0}}, "cp_id": "cp6k", "status": null}
INFO:Ocpp_Server:RECEIVED: {'destination': 'Ocpp_Server', 'origin': 'API', 'method': 'changeAvailability', 'type': 'request', 'content': {'operational_status': 'Operative', 'evse': {'id': 0, 'connector_id': 0}}, 'cp_id': 'cp6k', 'status': None}
INFO:ocpp:cp6k: send [2,"44ae96bc-55bb-4a63-93d5-1b3b809acb69","ChangeAvailability",{"operationalStatus":"Operative","evse":{"id":0,"connectorId":0}}]
INFO:ocpp:cp6k: receive message [3,"44ae96bc-55bb-4a63-93d5-1b3b809acb69",{"status":"Accepted"}]
INFO:Ocpp_Server:RabbitMQ SENDING Message: {"destination": "API", "origin": "Ocpp_Server", "method": "changeAvailability", "type": "response", "content": {"status": "Accepted", "status_info": null}, "cp_id": "cp6k", "status": "OK"}
API - INFO - RESPONSE: {'destination': 'API', 'origin': 'Ocpp_Server', 'method': 'changeAvailability', 'type': 'response', 'content': {'status': 'Accepted', 'status_info': None}, 'cp_id': 'cp6k', 'status': 'OK'}
INFO:     127.0.0.1:55188 - "POST /ChangeAvailability/cp6k HTTP/1.1" 200 OK
INFO:ocpp:cp6k: receive message [2,"cdd616bb8d87e852e0e60e403bce9752","Heartbeat",{"customData":{"rsrp":-93.0,"rsrq":-9.0,"rssi":-63.0,"snr":8.8,"vendorId":"com.chargepoint"}}]
INFO:ocpp:cp6k: send [3,"cdd616bb8d87e852e0e60e403bce9752",{"currentTime":"2023-03-29T09:47:54.563674"}]
API - INFO - RabbitMQ SENDING Message: {"destination": "Ocpp_Server", "origin": "API", "method": "changeAvailability", "type": "request", "content": {"operational_status": "Operative", "evse": {"id": 1, "connector_id": 0}}, "cp_id": "cp6k", "status": null}
INFO:Ocpp_Server:RECEIVED: {'destination': 'Ocpp_Server', 'origin': 'API', 'method': 'changeAvailability', 'type': 'request', 'content': {'operational_status': 'Operative', 'evse': {'id': 1, 'connector_id': 0}}, 'cp_id': 'cp6k', 'status': None}
INFO:ocpp:cp6k: send [2,"b863ea9e-a8fe-4c1f-aa2a-e9d8915e50d1","ChangeAvailability",{"operationalStatus":"Operative","evse":{"id":1,"connectorId":0}}]
INFO:ocpp:cp6k: receive message [3,"b863ea9e-a8fe-4c1f-aa2a-e9d8915e50d1",{"status":"Accepted"}]
INFO:Ocpp_Server:RabbitMQ SENDING Message: {"destination": "API", "origin": "Ocpp_Server", "method": "changeAvailability", "type": "response", "content": {"status": "Accepted", "status_info": null}, "cp_id": "cp6k", "status": "OK"}
API - INFO - RESPONSE: {'destination': 'API', 'origin': 'Ocpp_Server', 'method': 'changeAvailability', 'type': 'response', 'content': {'status': 'Accepted', 'status_info': None}, 'cp_id': 'cp6k', 'status': 'OK'}
INFO:     127.0.0.1:46974 - "POST /ChangeAvailability/cp6k HTTP/1.1" 200 OK
INFO:ocpp:cp6k: receive message [2,"d225ffd930eb67c5709b192d6ab94b66","StatusNotification",{"connectorId":1,"connectorStatus":"Available","evseId":1,"timestamp":"2023-03-29T09:48:00Z"}]
INFO:Ocpp_Server:RabbitMQ SENDING Message: {"destination": null, "origin": "Ocpp_Server", "method": "StatusNotification", "type": "ocpp_log", "content": {"connector_id": 1, "connector_status": "Available", "evse_id": 1, "timestamp": "2023-03-29T09:48:00Z"}, "cp_id": "cp6k", "status": null}
INFO:ocpp:cp6k: send [3,"d225ffd930eb67c5709b192d6ab94b66",{}]
API - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'StatusNotification', 'type': 'ocpp_log', 'content': {'connector_id': 1, 'connector_status': 'Available', 'evse_id': 1, 'timestamp': '2023-03-29T09:48:00Z'}, 'cp_id': 'cp6k', 'status': None}
SQL_DB - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'StatusNotification', 'type': 'ocpp_log', 'content': {'connector_id': 1, 'connector_status': 'Available', 'evse_id': 1, 'timestamp': '2023-03-29T09:48:00Z'}, 'cp_id': 'cp6k', 'status': None}
INFO:ocpp:cp6k: receive message [2,"3eca82604741d519bc6682ba6a8a07d9","NotifyEvent",{"eventData":[{"actualValue":"Available","component":{"evse":{"id":1},"name":"EVSE"},"eventId":0,"eventNotificationType":"HardWiredMonitor","timestamp":"2023-03-29T09:47:58Z","trigger":"Delta","variable":{"name":"AvailabilityState"}},{"actualValue":"Available","component":{"name":"ChargingStation"},"eventId":0,"eventNotificationType":"HardWiredMonitor","timestamp":"2023-03-29T09:47:58Z","trigger":"Delta","variable":{"name":"AvailabilityState"}}],"generatedAt":"2023-03-29T09:48:03Z","seqNo":0}]
INFO:Ocpp_Server:RabbitMQ SENDING Message: {"destination": null, "origin": "Ocpp_Server", "method": "NotifyEvent", "type": "ocpp_log", "content": {"event_data": [{"actual_value": "Available", "component": {"evse": {"id": 1}, "name": "EVSE"}, "event_id": 0, "event_notification_type": "HardWiredMonitor", "timestamp": "2023-03-29T09:47:58Z", "trigger": "Delta", "variable": {"name": "AvailabilityState"}}, {"actual_value": "Available", "component": {"name": "ChargingStation"}, "event_id": 0, "event_notification_type": "HardWiredMonitor", "timestamp": "2023-03-29T09:47:58Z", "trigger": "Delta", "variable": {"name": "AvailabilityState"}}], "generated_at": "2023-03-29T09:48:03Z", "seq_no": 0}, "cp_id": "cp6k", "status": null}
INFO:ocpp:cp6k: send [3,"3eca82604741d519bc6682ba6a8a07d9",{}]
SQL_DB - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'NotifyEvent', 'type': 'ocpp_log', 'content': {'event_data': [{'actual_value': 'Available', 'component': {'evse': {'id': 1}, 'name': 'EVSE'}, 'event_id': 0, 'event_notification_type': 'HardWiredMonitor', 'timestamp': '2023-03-29T09:47:58Z', 'trigger': 'Delta', 'variable': {'name': 'AvailabilityState'}}, {'actual_value': 'Available', 'component': {'name': 'ChargingStation'}, 'event_id': 0, 'event_notification_type': 'HardWiredMonitor', 'timestamp': '2023-03-29T09:47:58Z', 'trigger': 'Delta', 'variable': {'name': 'AvailabilityState'}}], 'generated_at': '2023-03-29T09:48:03Z', 'seq_no': 0}, 'cp_id': 'cp6k', 'status': None}
API - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'NotifyEvent', 'type': 'ocpp_log', 'content': {'event_data': [{'actual_value': 'Available', 'component': {'evse': {'id': 1}, 'name': 'EVSE'}, 'event_id': 0, 'event_notification_type': 'HardWiredMonitor', 'timestamp': '2023-03-29T09:47:58Z', 'trigger': 'Delta', 'variable': {'name': 'AvailabilityState'}}, {'actual_value': 'Available', 'component': {'name': 'ChargingStation'}, 'event_id': 0, 'event_notification_type': 'HardWiredMonitor', 'timestamp': '2023-03-29T09:47:58Z', 'trigger': 'Delta', 'variable': {'name': 'AvailabilityState'}}], 'generated_at': '2023-03-29T09:48:03Z', 'seq_no': 0}, 'cp_id': 'cp6k', 'status': None}
API - INFO - RabbitMQ SENDING Message: {"destination": "Ocpp_Server", "origin": "API", "method": "changeAvailability", "type": "request", "content": {"operational_status": "Operative", "evse": {"id": 2, "connector_id": 0}}, "cp_id": "cp6k", "status": null}
INFO:Ocpp_Server:RECEIVED: {'destination': 'Ocpp_Server', 'origin': 'API', 'method': 'changeAvailability', 'type': 'request', 'content': {'operational_status': 'Operative', 'evse': {'id': 2, 'connector_id': 0}}, 'cp_id': 'cp6k', 'status': None}
INFO:ocpp:cp6k: send [2,"a25d567e-aa27-4d68-aa0e-ec723e1a622a","ChangeAvailability",{"operationalStatus":"Operative","evse":{"id":2,"connectorId":0}}]
INFO:ocpp:cp6k: receive message [3,"a25d567e-aa27-4d68-aa0e-ec723e1a622a",{"status":"Accepted"}]
INFO:Ocpp_Server:RabbitMQ SENDING Message: {"destination": "API", "origin": "Ocpp_Server", "method": "changeAvailability", "type": "response", "content": {"status": "Accepted", "status_info": null}, "cp_id": "cp6k", "status": "OK"}
API - INFO - RESPONSE: {'destination': 'API', 'origin': 'Ocpp_Server', 'method': 'changeAvailability', 'type': 'response', 'content': {'status': 'Accepted', 'status_info': None}, 'cp_id': 'cp6k', 'status': 'OK'}
INFO:     127.0.0.1:55870 - "POST /ChangeAvailability/cp6k HTTP/1.1" 200 OK
INFO:ocpp:cp6k: receive message [2,"87458c7e31016cb7bb9ce97186d35cf0","StatusNotification",{"connectorId":1,"connectorStatus":"Available","evseId":2,"timestamp":"2023-03-29T09:48:10Z"}]
INFO:Ocpp_Server:RabbitMQ SENDING Message: {"destination": null, "origin": "Ocpp_Server", "method": "StatusNotification", "type": "ocpp_log", "content": {"connector_id": 1, "connector_status": "Available", "evse_id": 2, "timestamp": "2023-03-29T09:48:10Z"}, "cp_id": "cp6k", "status": null}
INFO:ocpp:cp6k: send [3,"87458c7e31016cb7bb9ce97186d35cf0",{}]
SQL_DB - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'StatusNotification', 'type': 'ocpp_log', 'content': {'connector_id': 1, 'connector_status': 'Available', 'evse_id': 2, 'timestamp': '2023-03-29T09:48:10Z'}, 'cp_id': 'cp6k', 'status': None}
API - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'StatusNotification', 'type': 'ocpp_log', 'content': {'connector_id': 1, 'connector_status': 'Available', 'evse_id': 2, 'timestamp': '2023-03-29T09:48:10Z'}, 'cp_id': 'cp6k', 'status': None}
INFO:ocpp:cp6k: receive message [2,"359e3d5ff926980bf85d6648965a7b59","NotifyEvent",{"eventData":[{"actualValue":"Available","component":{"evse":{"id":2},"name":"EVSE"},"eventId":0,"eventNotificationType":"HardWiredMonitor","timestamp":"2023-03-29T09:48:08Z","trigger":"Delta","variable":{"name":"AvailabilityState"}}],"generatedAt":"2023-03-29T09:48:13Z","seqNo":0}]
INFO:Ocpp_Server:RabbitMQ SENDING Message: {"destination": null, "origin": "Ocpp_Server", "method": "NotifyEvent", "type": "ocpp_log", "content": {"event_data": [{"actual_value": "Available", "component": {"evse": {"id": 2}, "name": "EVSE"}, "event_id": 0, "event_notification_type": "HardWiredMonitor", "timestamp": "2023-03-29T09:48:08Z", "trigger": "Delta", "variable": {"name": "AvailabilityState"}}], "generated_at": "2023-03-29T09:48:13Z", "seq_no": 0}, "cp_id": "cp6k", "status": null}
INFO:ocpp:cp6k: send [3,"359e3d5ff926980bf85d6648965a7b59",{}]
API - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'NotifyEvent', 'type': 'ocpp_log', 'content': {'event_data': [{'actual_value': 'Available', 'component': {'evse': {'id': 2}, 'name': 'EVSE'}, 'event_id': 0, 'event_notification_type': 'HardWiredMonitor', 'timestamp': '2023-03-29T09:48:08Z', 'trigger': 'Delta', 'variable': {'name': 'AvailabilityState'}}], 'generated_at': '2023-03-29T09:48:13Z', 'seq_no': 0}, 'cp_id': 'cp6k', 'status': None}
SQL_DB - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'NotifyEvent', 'type': 'ocpp_log', 'content': {'event_data': [{'actual_value': 'Available', 'component': {'evse': {'id': 2}, 'name': 'EVSE'}, 'event_id': 0, 'event_notification_type': 'HardWiredMonitor', 'timestamp': '2023-03-29T09:48:08Z', 'trigger': 'Delta', 'variable': {'name': 'AvailabilityState'}}], 'generated_at': '2023-03-29T09:48:13Z', 'seq_no': 0}, 'cp_id': 'cp6k', 'status': None}
INFO:ocpp:cp6k: receive message [2,"74cfcbc61958f94b9dce1292911504e7","Heartbeat",{"customData":{"rsrp":-93.0,"rsrq":-14.0,"rssi":-57.0,"snr":9.0,"vendorId":"com.chargepoint"}}]
INFO:ocpp:cp6k: send [3,"74cfcbc61958f94b9dce1292911504e7",{"currentTime":"2023-03-29T09:48:23.491459"}]
INFO:ocpp:cp6k: receive message [2,"28fd5f3a00f8e21b4ce736050b7b81ec","Heartbeat",{"customData":{"rsrp":-93.0,"rsrq":-9.0,"rssi":-57.0,"snr":7.2,"vendorId":"com.chargepoint"}}]
INFO:ocpp:cp6k: send [3,"28fd5f3a00f8e21b4ce736050b7b81ec",{"currentTime":"2023-03-29T09:49:02.361568"}]
INFO:ocpp:cp6k: receive message [2,"c16642d6bbc66c5ed1a4dd8b7709d45a","Heartbeat",{"customData":{"rsrp":-93.0,"rsrq":-9.0,"rssi":-63.0,"snr":4.0,"vendorId":"com.chargepoint"}}]
INFO:ocpp:cp6k: send [3,"c16642d6bbc66c5ed1a4dd8b7709d45a",{"currentTime":"2023-03-29T09:49:23.648413"}]
API - INFO - RabbitMQ SENDING Message: {"destination": "Ocpp_Server", "origin": "API", "method": "changeAvailability", "type": "request", "content": {"operational_status": "Inoperative", "evse": null}, "cp_id": "cp6k", "status": null}
INFO:Ocpp_Server:RECEIVED: {'destination': 'Ocpp_Server', 'origin': 'API', 'method': 'changeAvailability', 'type': 'request', 'content': {'operational_status': 'Inoperative', 'evse': None}, 'cp_id': 'cp6k', 'status': None}
INFO:ocpp:cp6k: send [2,"45be8725-2ba1-4c44-b47a-b94532875616","ChangeAvailability",{"operationalStatus":"Inoperative"}]
INFO:ocpp:cp6k: receive message [3,"45be8725-2ba1-4c44-b47a-b94532875616",{"status":"Accepted"}]
INFO:Ocpp_Server:RabbitMQ SENDING Message: {"destination": "API", "origin": "Ocpp_Server", "method": "changeAvailability", "type": "response", "content": {"status": "Accepted", "status_info": null}, "cp_id": "cp6k", "status": "OK"}
API - INFO - RESPONSE: {'destination': 'API', 'origin': 'Ocpp_Server', 'method': 'changeAvailability', 'type': 'response', 'content': {'status': 'Accepted', 'status_info': None}, 'cp_id': 'cp6k', 'status': 'OK'}
INFO:     127.0.0.1:60346 - "POST /ChangeAvailability/cp6k HTTP/1.1" 200 OK
INFO:ocpp:cp6k: receive message [2,"6a50e0749e3e34781ac47069c24f19bf","StatusNotification",{"connectorId":1,"connectorStatus":"Unavailable","evseId":1,"timestamp":"2023-03-29T09:49:37Z"}]
INFO:Ocpp_Server:RabbitMQ SENDING Message: {"destination": null, "origin": "Ocpp_Server", "method": "StatusNotification", "type": "ocpp_log", "content": {"connector_id": 1, "connector_status": "Unavailable", "evse_id": 1, "timestamp": "2023-03-29T09:49:37Z"}, "cp_id": "cp6k", "status": null}
INFO:ocpp:cp6k: send [3,"6a50e0749e3e34781ac47069c24f19bf",{}]
SQL_DB - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'StatusNotification', 'type': 'ocpp_log', 'content': {'connector_id': 1, 'connector_status': 'Unavailable', 'evse_id': 1, 'timestamp': '2023-03-29T09:49:37Z'}, 'cp_id': 'cp6k', 'status': None}
API - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'StatusNotification', 'type': 'ocpp_log', 'content': {'connector_id': 1, 'connector_status': 'Unavailable', 'evse_id': 1, 'timestamp': '2023-03-29T09:49:37Z'}, 'cp_id': 'cp6k', 'status': None}
INFO:ocpp:cp6k: receive message [2,"4c661591d28d472abf8debbb7ea9e85f","StatusNotification",{"connectorId":1,"connectorStatus":"Unavailable","evseId":2,"timestamp":"2023-03-29T09:49:37Z"}]
INFO:Ocpp_Server:RabbitMQ SENDING Message: {"destination": null, "origin": "Ocpp_Server", "method": "StatusNotification", "type": "ocpp_log", "content": {"connector_id": 1, "connector_status": "Unavailable", "evse_id": 2, "timestamp": "2023-03-29T09:49:37Z"}, "cp_id": "cp6k", "status": null}
INFO:ocpp:cp6k: send [3,"4c661591d28d472abf8debbb7ea9e85f",{}]
API - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'StatusNotification', 'type': 'ocpp_log', 'content': {'connector_id': 1, 'connector_status': 'Unavailable', 'evse_id': 2, 'timestamp': '2023-03-29T09:49:37Z'}, 'cp_id': 'cp6k', 'status': None}
SQL_DB - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'StatusNotification', 'type': 'ocpp_log', 'content': {'connector_id': 1, 'connector_status': 'Unavailable', 'evse_id': 2, 'timestamp': '2023-03-29T09:49:37Z'}, 'cp_id': 'cp6k', 'status': None}
INFO:ocpp:cp6k: receive message [2,"a0534fb1f9df8f72a40f8e396248fcf2","NotifyEvent",{"eventData":[{"actualValue":"Unavailable","component":{"evse":{"id":1},"name":"EVSE"},"eventId":0,"eventNotificationType":"HardWiredMonitor","timestamp":"2023-03-29T09:49:35Z","trigger":"Delta","variable":{"name":"AvailabilityState"}},{"actualValue":"Unavailable","component":{"evse":{"id":2},"name":"EVSE"},"eventId":0,"eventNotificationType":"HardWiredMonitor","timestamp":"2023-03-29T09:49:35Z","trigger":"Delta","variable":{"name":"AvailabilityState"}},{"actualValue":"Unavailable","component":{"name":"ChargingStation"},"eventId":0,"eventNotificationType":"HardWiredMonitor","timestamp":"2023-03-29T09:49:35Z","trigger":"Delta","variable":{"name":"AvailabilityState"}}],"generatedAt":"2023-03-29T09:49:40Z","seqNo":0}]
INFO:Ocpp_Server:RabbitMQ SENDING Message: {"destination": null, "origin": "Ocpp_Server", "method": "NotifyEvent", "type": "ocpp_log", "content": {"event_data": [{"actual_value": "Unavailable", "component": {"evse": {"id": 1}, "name": "EVSE"}, "event_id": 0, "event_notification_type": "HardWiredMonitor", "timestamp": "2023-03-29T09:49:35Z", "trigger": "Delta", "variable": {"name": "AvailabilityState"}}, {"actual_value": "Unavailable", "component": {"evse": {"id": 2}, "name": "EVSE"}, "event_id": 0, "event_notification_type": "HardWiredMonitor", "timestamp": "2023-03-29T09:49:35Z", "trigger": "Delta", "variable": {"name": "AvailabilityState"}}, {"actual_value": "Unavailable", "component": {"name": "ChargingStation"}, "event_id": 0, "event_notification_type": "HardWiredMonitor", "timestamp": "2023-03-29T09:49:35Z", "trigger": "Delta", "variable": {"name": "AvailabilityState"}}], "generated_at": "2023-03-29T09:49:40Z", "seq_no": 0}, "cp_id": "cp6k", "status": null}
INFO:ocpp:cp6k: send [3,"a0534fb1f9df8f72a40f8e396248fcf2",{}]
API - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'NotifyEvent', 'type': 'ocpp_log', 'content': {'event_data': [{'actual_value': 'Unavailable', 'component': {'evse': {'id': 1}, 'name': 'EVSE'}, 'event_id': 0, 'event_notification_type': 'HardWiredMonitor', 'timestamp': '2023-03-29T09:49:35Z', 'trigger': 'Delta', 'variable': {'name': 'AvailabilityState'}}, {'actual_value': 'Unavailable', 'component': {'evse': {'id': 2}, 'name': 'EVSE'}, 'event_id': 0, 'event_notification_type': 'HardWiredMonitor', 'timestamp': '2023-03-29T09:49:35Z', 'trigger': 'Delta', 'variable': {'name': 'AvailabilityState'}}, {'actual_value': 'Unavailable', 'component': {'name': 'ChargingStation'}, 'event_id': 0, 'event_notification_type': 'HardWiredMonitor', 'timestamp': '2023-03-29T09:49:35Z', 'trigger': 'Delta', 'variable': {'name': 'AvailabilityState'}}], 'generated_at': '2023-03-29T09:49:40Z', 'seq_no': 0}, 'cp_id': 'cp6k', 'status': None}
SQL_DB - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'NotifyEvent', 'type': 'ocpp_log', 'content': {'event_data': [{'actual_value': 'Unavailable', 'component': {'evse': {'id': 1}, 'name': 'EVSE'}, 'event_id': 0, 'event_notification_type': 'HardWiredMonitor', 'timestamp': '2023-03-29T09:49:35Z', 'trigger': 'Delta', 'variable': {'name': 'AvailabilityState'}}, {'actual_value': 'Unavailable', 'component': {'evse': {'id': 2}, 'name': 'EVSE'}, 'event_id': 0, 'event_notification_type': 'HardWiredMonitor', 'timestamp': '2023-03-29T09:49:35Z', 'trigger': 'Delta', 'variable': {'name': 'AvailabilityState'}}, {'actual_value': 'Unavailable', 'component': {'name': 'ChargingStation'}, 'event_id': 0, 'event_notification_type': 'HardWiredMonitor', 'timestamp': '2023-03-29T09:49:35Z', 'trigger': 'Delta', 'variable': {'name': 'AvailabilityState'}}], 'generated_at': '2023-03-29T09:49:40Z', 'seq_no': 0}, 'cp_id': 'cp6k', 'status': None}
API - INFO - RabbitMQ SENDING Message: {"destination": "Ocpp_Server", "origin": "API", "method": "changeAvailability", "type": "request", "content": {"operational_status": "Operative", "evse": null}, "cp_id": "cp6k", "status": null}
INFO:Ocpp_Server:RECEIVED: {'destination': 'Ocpp_Server', 'origin': 'API', 'method': 'changeAvailability', 'type': 'request', 'content': {'operational_status': 'Operative', 'evse': None}, 'cp_id': 'cp6k', 'status': None}
INFO:ocpp:cp6k: send [2,"bf4ff582-c8b8-4f17-9d3d-4908b733beee","ChangeAvailability",{"operationalStatus":"Operative"}]
INFO:ocpp:cp6k: receive message [3,"bf4ff582-c8b8-4f17-9d3d-4908b733beee",{"status":"Accepted"}]
INFO:Ocpp_Server:RabbitMQ SENDING Message: {"destination": "API", "origin": "Ocpp_Server", "method": "changeAvailability", "type": "response", "content": {"status": "Accepted", "status_info": null}, "cp_id": "cp6k", "status": "OK"}
API - INFO - RESPONSE: {'destination': 'API', 'origin': 'Ocpp_Server', 'method': 'changeAvailability', 'type': 'response', 'content': {'status': 'Accepted', 'status_info': None}, 'cp_id': 'cp6k', 'status': 'OK'}
INFO:     127.0.0.1:34614 - "POST /ChangeAvailability/cp6k HTTP/1.1" 200 OK
INFO:ocpp:cp6k: receive message [2,"0e52a42b6de6076a3d6049b9838ffe5f","StatusNotification",{"connectorId":1,"connectorStatus":"Available","evseId":1,"timestamp":"2023-03-29T09:49:48Z"}]
INFO:Ocpp_Server:RabbitMQ SENDING Message: {"destination": null, "origin": "Ocpp_Server", "method": "StatusNotification", "type": "ocpp_log", "content": {"connector_id": 1, "connector_status": "Available", "evse_id": 1, "timestamp": "2023-03-29T09:49:48Z"}, "cp_id": "cp6k", "status": null}
INFO:ocpp:cp6k: send [3,"0e52a42b6de6076a3d6049b9838ffe5f",{}]
SQL_DB - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'StatusNotification', 'type': 'ocpp_log', 'content': {'connector_id': 1, 'connector_status': 'Available', 'evse_id': 1, 'timestamp': '2023-03-29T09:49:48Z'}, 'cp_id': 'cp6k', 'status': None}
API - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'StatusNotification', 'type': 'ocpp_log', 'content': {'connector_id': 1, 'connector_status': 'Available', 'evse_id': 1, 'timestamp': '2023-03-29T09:49:48Z'}, 'cp_id': 'cp6k', 'status': None}
INFO:ocpp:cp6k: receive message [2,"cad996e6fb2134551fd1c43f0a0f9b25","StatusNotification",{"connectorId":1,"connectorStatus":"Available","evseId":2,"timestamp":"2023-03-29T09:49:48Z"}]
INFO:Ocpp_Server:RabbitMQ SENDING Message: {"destination": null, "origin": "Ocpp_Server", "method": "StatusNotification", "type": "ocpp_log", "content": {"connector_id": 1, "connector_status": "Available", "evse_id": 2, "timestamp": "2023-03-29T09:49:48Z"}, "cp_id": "cp6k", "status": null}
INFO:ocpp:cp6k: send [3,"cad996e6fb2134551fd1c43f0a0f9b25",{}]
SQL_DB - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'StatusNotification', 'type': 'ocpp_log', 'content': {'connector_id': 1, 'connector_status': 'Available', 'evse_id': 2, 'timestamp': '2023-03-29T09:49:48Z'}, 'cp_id': 'cp6k', 'status': None}
API - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'StatusNotification', 'type': 'ocpp_log', 'content': {'connector_id': 1, 'connector_status': 'Available', 'evse_id': 2, 'timestamp': '2023-03-29T09:49:48Z'}, 'cp_id': 'cp6k', 'status': None}
INFO:ocpp:cp6k: receive message [2,"0a75564e111528ec14e0d71f9713a4ab","NotifyEvent",{"eventData":[{"actualValue":"Available","component":{"evse":{"id":1},"name":"EVSE"},"eventId":0,"eventNotificationType":"HardWiredMonitor","timestamp":"2023-03-29T09:49:46Z","trigger":"Delta","variable":{"name":"AvailabilityState"}},{"actualValue":"Available","component":{"evse":{"id":2},"name":"EVSE"},"eventId":0,"eventNotificationType":"HardWiredMonitor","timestamp":"2023-03-29T09:49:46Z","trigger":"Delta","variable":{"name":"AvailabilityState"}},{"actualValue":"Available","component":{"name":"ChargingStation"},"eventId":0,"eventNotificationType":"HardWiredMonitor","timestamp":"2023-03-29T09:49:46Z","trigger":"Delta","variable":{"name":"AvailabilityState"}}],"generatedAt":"2023-03-29T09:49:51Z","seqNo":0}]
INFO:Ocpp_Server:RabbitMQ SENDING Message: {"destination": null, "origin": "Ocpp_Server", "method": "NotifyEvent", "type": "ocpp_log", "content": {"event_data": [{"actual_value": "Available", "component": {"evse": {"id": 1}, "name": "EVSE"}, "event_id": 0, "event_notification_type": "HardWiredMonitor", "timestamp": "2023-03-29T09:49:46Z", "trigger": "Delta", "variable": {"name": "AvailabilityState"}}, {"actual_value": "Available", "component": {"evse": {"id": 2}, "name": "EVSE"}, "event_id": 0, "event_notification_type": "HardWiredMonitor", "timestamp": "2023-03-29T09:49:46Z", "trigger": "Delta", "variable": {"name": "AvailabilityState"}}, {"actual_value": "Available", "component": {"name": "ChargingStation"}, "event_id": 0, "event_notification_type": "HardWiredMonitor", "timestamp": "2023-03-29T09:49:46Z", "trigger": "Delta", "variable": {"name": "AvailabilityState"}}], "generated_at": "2023-03-29T09:49:51Z", "seq_no": 0}, "cp_id": "cp6k", "status": null}
INFO:ocpp:cp6k: send [3,"0a75564e111528ec14e0d71f9713a4ab",{}]
SQL_DB - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'NotifyEvent', 'type': 'ocpp_log', 'content': {'event_data': [{'actual_value': 'Available', 'component': {'evse': {'id': 1}, 'name': 'EVSE'}, 'event_id': 0, 'event_notification_type': 'HardWiredMonitor', 'timestamp': '2023-03-29T09:49:46Z', 'trigger': 'Delta', 'variable': {'name': 'AvailabilityState'}}, {'actual_value': 'Available', 'component': {'evse': {'id': 2}, 'name': 'EVSE'}, 'event_id': 0, 'event_notification_type': 'HardWiredMonitor', 'timestamp': '2023-03-29T09:49:46Z', 'trigger': 'Delta', 'variable': {'name': 'AvailabilityState'}}, {'actual_value': 'Available', 'component': {'name': 'ChargingStation'}, 'event_id': 0, 'event_notification_type': 'HardWiredMonitor', 'timestamp': '2023-03-29T09:49:46Z', 'trigger': 'Delta', 'variable': {'name': 'AvailabilityState'}}], 'generated_at': '2023-03-29T09:49:51Z', 'seq_no': 0}, 'cp_id': 'cp6k', 'status': None}
API - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'NotifyEvent', 'type': 'ocpp_log', 'content': {'event_data': [{'actual_value': 'Available', 'component': {'evse': {'id': 1}, 'name': 'EVSE'}, 'event_id': 0, 'event_notification_type': 'HardWiredMonitor', 'timestamp': '2023-03-29T09:49:46Z', 'trigger': 'Delta', 'variable': {'name': 'AvailabilityState'}}, {'actual_value': 'Available', 'component': {'evse': {'id': 2}, 'name': 'EVSE'}, 'event_id': 0, 'event_notification_type': 'HardWiredMonitor', 'timestamp': '2023-03-29T09:49:46Z', 'trigger': 'Delta', 'variable': {'name': 'AvailabilityState'}}, {'actual_value': 'Available', 'component': {'name': 'ChargingStation'}, 'event_id': 0, 'event_notification_type': 'HardWiredMonitor', 'timestamp': '2023-03-29T09:49:46Z', 'trigger': 'Delta', 'variable': {'name': 'AvailabilityState'}}], 'generated_at': '2023-03-29T09:49:51Z', 'seq_no': 0}, 'cp_id': 'cp6k', 'status': None}
INFO:ocpp:cp6k: receive message [2,"dac67116493ea4e6162b9e47ba9af134","Heartbeat",{"customData":{"rsrp":-93.0,"rsrq":-9.0,"rssi":-63.0,"snr":9.4,"vendorId":"com.chargepoint"}}]
INFO:ocpp:cp6k: send [3,"dac67116493ea4e6162b9e47ba9af134",{"currentTime":"2023-03-29T09:49:53.440614"}]
INFO:ocpp:cp6k: receive message [2,"bfe5e8719e6a58fb1f6b203366720b43","Heartbeat",{"customData":{"rsrp":-93.0,"rsrq":-14.0,"rssi":-63.0,"snr":3.4000000000000004,"vendorId":"com.chargepoint"}}]
INFO:ocpp:cp6k: send [3,"bfe5e8719e6a58fb1f6b203366720b43",{"currentTime":"2023-03-29T09:50:25.251267"}]
API - INFO - RabbitMQ SENDING Message: {"destination": "Ocpp_Server", "origin": "API", "method": "changeAvailability", "type": "request", "content": {"operational_status": "Inoperative", "evse": null}, "cp_id": "cp6k", "status": null}
INFO:Ocpp_Server:RECEIVED: {'destination': 'Ocpp_Server', 'origin': 'API', 'method': 'changeAvailability', 'type': 'request', 'content': {'operational_status': 'Inoperative', 'evse': None}, 'cp_id': 'cp6k', 'status': None}
INFO:ocpp:cp6k: send [2,"a4ec352f-b5cd-4f90-b564-23b3f28714fa","ChangeAvailability",{"operationalStatus":"Inoperative"}]
INFO:ocpp:cp6k: receive message [3,"a4ec352f-b5cd-4f90-b564-23b3f28714fa",{"status":"Accepted"}]
INFO:Ocpp_Server:RabbitMQ SENDING Message: {"destination": "API", "origin": "Ocpp_Server", "method": "changeAvailability", "type": "response", "content": {"status": "Accepted", "status_info": null}, "cp_id": "cp6k", "status": "OK"}
API - INFO - RESPONSE: {'destination': 'API', 'origin': 'Ocpp_Server', 'method': 'changeAvailability', 'type': 'response', 'content': {'status': 'Accepted', 'status_info': None}, 'cp_id': 'cp6k', 'status': 'OK'}
INFO:     127.0.0.1:59064 - "POST /ChangeAvailability/cp6k HTTP/1.1" 200 OK
INFO:ocpp:cp6k: receive message [2,"385aa9ceaf1abff07d368e609ca293b8","StatusNotification",{"connectorId":1,"connectorStatus":"Unavailable","evseId":1,"timestamp":"2023-03-29T09:50:38Z"}]
INFO:Ocpp_Server:RabbitMQ SENDING Message: {"destination": null, "origin": "Ocpp_Server", "method": "StatusNotification", "type": "ocpp_log", "content": {"connector_id": 1, "connector_status": "Unavailable", "evse_id": 1, "timestamp": "2023-03-29T09:50:38Z"}, "cp_id": "cp6k", "status": null}
INFO:ocpp:cp6k: send [3,"385aa9ceaf1abff07d368e609ca293b8",{}]
API - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'StatusNotification', 'type': 'ocpp_log', 'content': {'connector_id': 1, 'connector_status': 'Unavailable', 'evse_id': 1, 'timestamp': '2023-03-29T09:50:38Z'}, 'cp_id': 'cp6k', 'status': None}
SQL_DB - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'StatusNotification', 'type': 'ocpp_log', 'content': {'connector_id': 1, 'connector_status': 'Unavailable', 'evse_id': 1, 'timestamp': '2023-03-29T09:50:38Z'}, 'cp_id': 'cp6k', 'status': None}
API - INFO - RabbitMQ SENDING Message: {"destination": "SQL_DB", "origin": "API", "method": "login", "type": "request", "content": {"email": "user1", "password": "user1"}, "cp_id": null, "status": null}
SQL_DB - INFO - RECEIVED: {'destination': 'SQL_DB', 'origin': 'API', 'method': 'login', 'type': 'request', 'content': {'email': 'user1', 'password': 'user1'}, 'cp_id': None, 'status': None}
SQL_DB - INFO - RabbitMQ SENDING Message: {"destination": "API", "origin": "SQL_DB", "method": "login", "type": "response", "content": {"id": 1, "permission_level": 1, "id_token": {"id_token": "1dee35d6-ed03-4882-9762-86197f258a74", "type": "ISO14443"}}, "cp_id": null, "status": "OK"}
API - INFO - RESPONSE: {'destination': 'API', 'origin': 'SQL_DB', 'method': 'login', 'type': 'response', 'content': {'id': 1, 'permission_level': 1, 'id_token': {'id_token': '1dee35d6-ed03-4882-9762-86197f258a74', 'type': 'ISO14443'}}, 'cp_id': None, 'status': 'OK'}
INFO:     127.0.0.1:36010 - "GET /login?email=user1&password=user1 HTTP/1.1" 200 OK
INFO:ocpp:cp6k: receive message [2,"02a6a4378a3422e91b9f9c7429333529","StatusNotification",{"connectorId":1,"connectorStatus":"Unavailable","evseId":2,"timestamp":"2023-03-29T09:50:38Z"}]
INFO:Ocpp_Server:RabbitMQ SENDING Message: {"destination": null, "origin": "Ocpp_Server", "method": "StatusNotification", "type": "ocpp_log", "content": {"connector_id": 1, "connector_status": "Unavailable", "evse_id": 2, "timestamp": "2023-03-29T09:50:38Z"}, "cp_id": "cp6k", "status": null}
INFO:ocpp:cp6k: send [3,"02a6a4378a3422e91b9f9c7429333529",{}]
API - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'StatusNotification', 'type': 'ocpp_log', 'content': {'connector_id': 1, 'connector_status': 'Unavailable', 'evse_id': 2, 'timestamp': '2023-03-29T09:50:38Z'}, 'cp_id': 'cp6k', 'status': None}
SQL_DB - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'StatusNotification', 'type': 'ocpp_log', 'content': {'connector_id': 1, 'connector_status': 'Unavailable', 'evse_id': 2, 'timestamp': '2023-03-29T09:50:38Z'}, 'cp_id': 'cp6k', 'status': None}
INFO:Ocpp_Server:RabbitMQ SENDING Message: {"destination": null, "origin": "Ocpp_Server", "method": "update", "type": "ocpp_log", "content": {"table": "Charge_Point", "filters": {"cp_id": "cp6k"}, "values": {"is_online": false}}, "cp_id": "cp6k", "status": null}
API - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'update', 'type': 'ocpp_log', 'content': {'table': 'Charge_Point', 'filters': {'cp_id': 'cp6k'}, 'values': {'is_online': False}}, 'cp_id': 'cp6k', 'status': None}
SQL_DB - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'update', 'type': 'ocpp_log', 'content': {'table': 'Charge_Point', 'filters': {'cp_id': 'cp6k'}, 'values': {'is_online': False}}, 'cp_id': 'cp6k', 'status': None}
INFO:ocpp:cp6k: receive message [2,"33ec94029220c8c79a4703e5ef883c46","NotifyEvent",{"eventData":[{"actualValue":"Unavailable","component":{"evse":{"id":1},"name":"EVSE"},"eventId":0,"eventNotificationType":"HardWiredMonitor","timestamp":"2023-03-29T09:50:36Z","trigger":"Delta","variable":{"name":"AvailabilityState"}},{"actualValue":"Unavailable","component":{"evse":{"id":2},"name":"EVSE"},"eventId":0,"eventNotificationType":"HardWiredMonitor","timestamp":"2023-03-29T09:50:36Z","trigger":"Delta","variable":{"name":"AvailabilityState"}},{"actualValue":"Unavailable","component":{"name":"ChargingStation"},"eventId":0,"eventNotificationType":"HardWiredMonitor","timestamp":"2023-03-29T09:50:36Z","trigger":"Delta","variable":{"name":"AvailabilityState"}}],"generatedAt":"2023-03-29T09:50:41Z","seqNo":0}]
INFO:Ocpp_Server:RabbitMQ SENDING Message: {"destination": null, "origin": "Ocpp_Server", "method": "NotifyEvent", "type": "ocpp_log", "content": {"event_data": [{"actual_value": "Unavailable", "component": {"evse": {"id": 1}, "name": "EVSE"}, "event_id": 0, "event_notification_type": "HardWiredMonitor", "timestamp": "2023-03-29T09:50:36Z", "trigger": "Delta", "variable": {"name": "AvailabilityState"}}, {"actual_value": "Unavailable", "component": {"evse": {"id": 2}, "name": "EVSE"}, "event_id": 0, "event_notification_type": "HardWiredMonitor", "timestamp": "2023-03-29T09:50:36Z", "trigger": "Delta", "variable": {"name": "AvailabilityState"}}, {"actual_value": "Unavailable", "component": {"name": "ChargingStation"}, "event_id": 0, "event_notification_type": "HardWiredMonitor", "timestamp": "2023-03-29T09:50:36Z", "trigger": "Delta", "variable": {"name": "AvailabilityState"}}], "generated_at": "2023-03-29T09:50:41Z", "seq_no": 0}, "cp_id": "cp6k", "status": null}
INFO:ocpp:cp6k: send [3,"33ec94029220c8c79a4703e5ef883c46",{}]
API - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'NotifyEvent', 'type': 'ocpp_log', 'content': {'event_data': [{'actual_value': 'Unavailable', 'component': {'evse': {'id': 1}, 'name': 'EVSE'}, 'event_id': 0, 'event_notification_type': 'HardWiredMonitor', 'timestamp': '2023-03-29T09:50:36Z', 'trigger': 'Delta', 'variable': {'name': 'AvailabilityState'}}, {'actual_value': 'Unavailable', 'component': {'evse': {'id': 2}, 'name': 'EVSE'}, 'event_id': 0, 'event_notification_type': 'HardWiredMonitor', 'timestamp': '2023-03-29T09:50:36Z', 'trigger': 'Delta', 'variable': {'name': 'AvailabilityState'}}, {'actual_value': 'Unavailable', 'component': {'name': 'ChargingStation'}, 'event_id': 0, 'event_notification_type': 'HardWiredMonitor', 'timestamp': '2023-03-29T09:50:36Z', 'trigger': 'Delta', 'variable': {'name': 'AvailabilityState'}}], 'generated_at': '2023-03-29T09:50:41Z', 'seq_no': 0}, 'cp_id': 'cp6k', 'status': None}
SQL_DB - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'NotifyEvent', 'type': 'ocpp_log', 'content': {'event_data': [{'actual_value': 'Unavailable', 'component': {'evse': {'id': 1}, 'name': 'EVSE'}, 'event_id': 0, 'event_notification_type': 'HardWiredMonitor', 'timestamp': '2023-03-29T09:50:36Z', 'trigger': 'Delta', 'variable': {'name': 'AvailabilityState'}}, {'actual_value': 'Unavailable', 'component': {'evse': {'id': 2}, 'name': 'EVSE'}, 'event_id': 0, 'event_notification_type': 'HardWiredMonitor', 'timestamp': '2023-03-29T09:50:36Z', 'trigger': 'Delta', 'variable': {'name': 'AvailabilityState'}}, {'actual_value': 'Unavailable', 'component': {'name': 'ChargingStation'}, 'event_id': 0, 'event_notification_type': 'HardWiredMonitor', 'timestamp': '2023-03-29T09:50:36Z', 'trigger': 'Delta', 'variable': {'name': 'AvailabilityState'}}], 'generated_at': '2023-03-29T09:50:41Z', 'seq_no': 0}, 'cp_id': 'cp6k', 'status': None}
INFO:ocpp:cp6k: receive message [2,"0d5057b9761d976dab345ce1c8acfa7b","Heartbeat",{"customData":{"rsrp":-93.0,"rsrq":-14.0,"rssi":-63.0,"snr":10.4,"vendorId":"com.chargepoint"}}]
INFO:ocpp:cp6k: send [3,"0d5057b9761d976dab345ce1c8acfa7b",{"currentTime":"2023-03-29T09:51:08.167767"}]
INFO:Ocpp_Server:RabbitMQ SENDING Message: {"destination": null, "origin": "Ocpp_Server", "method": "update", "type": "ocpp_log", "content": {"table": "Charge_Point", "filters": {"cp_id": "cp6k"}, "values": {"is_online": true}}, "cp_id": "cp6k", "status": null}
SQL_DB - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'update', 'type': 'ocpp_log', 'content': {'table': 'Charge_Point', 'filters': {'cp_id': 'cp6k'}, 'values': {'is_online': True}}, 'cp_id': 'cp6k', 'status': None}
API - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'update', 'type': 'ocpp_log', 'content': {'table': 'Charge_Point', 'filters': {'cp_id': 'cp6k'}, 'values': {'is_online': True}}, 'cp_id': 'cp6k', 'status': None}
API - INFO - RabbitMQ SENDING Message: {"destination": "Ocpp_Server", "origin": "API", "method": "requestStartTransaction", "type": "request", "content": {"id_token": {"id_token": "1dee35d6-ed03-4882-9762-86197f258a74", "type": "ISO14443", "additional_info": null}, "remote_start_id": null, "evse_id": 1, "group_id_token": null, "charging_profile": null}, "cp_id": "cp6k", "status": null}
INFO:Ocpp_Server:RECEIVED: {'destination': 'Ocpp_Server', 'origin': 'API', 'method': 'requestStartTransaction', 'type': 'request', 'content': {'id_token': {'id_token': '1dee35d6-ed03-4882-9762-86197f258a74', 'type': 'ISO14443', 'additional_info': None}, 'remote_start_id': None, 'evse_id': 1, 'group_id_token': None, 'charging_profile': None}, 'cp_id': 'cp6k', 'status': None}
INFO:ocpp:cp6k: send [2,"8613cc61-7e2a-40db-9754-fd15b7067229","RequestStartTransaction",{"idToken":{"idToken":"1dee35d6-ed03-4882-9762-86197f258a74","type":"ISO14443"},"remoteStartId":90,"evseId":1}]
INFO:ocpp:cp6k: receive message [3,"8613cc61-7e2a-40db-9754-fd15b7067229",{"status":"Rejected","statusInfo":{"additionalInfo":"no ports available (Operation not permitted)","reasonCode":"SessionStartRejected"}}]
INFO:Ocpp_Server:RabbitMQ SENDING Message: {"destination": "API", "origin": "Ocpp_Server", "method": "requestStartTransaction", "type": "response", "content": {"status": "Rejected", "status_info": {"additional_info": "no ports available (Operation not permitted)", "reason_code": "SessionStartRejected"}, "transaction_id": null}, "cp_id": "cp6k", "status": "OK"}
API - INFO - RESPONSE: {'destination': 'API', 'origin': 'Ocpp_Server', 'method': 'requestStartTransaction', 'type': 'response', 'content': {'status': 'Rejected', 'status_info': {'additional_info': 'no ports available (Operation not permitted)', 'reason_code': 'SessionStartRejected'}, 'transaction_id': None}, 'cp_id': 'cp6k', 'status': 'OK'}
INFO:     127.0.0.1:37936 - "POST /charge/start?evse_id=1&cp_id=cp6k HTTP/1.1" 200 OK
INFO:ocpp:cp6k: receive message [2,"8738623f70953b19e1bf9636cb4308f2","Heartbeat",{"customData":{"rsrp":-93.0,"rsrq":-14.0,"rssi":-63.0,"snr":6.2,"vendorId":"com.chargepoint"}}]
INFO:ocpp:cp6k: send [3,"8738623f70953b19e1bf9636cb4308f2",{"currentTime":"2023-03-29T09:51:25.626119"}]
INFO:ocpp:cp6k: receive message [2,"a3ce4a4669a5ff710a72769317c3cbdb","Heartbeat",{"customData":{"rsrp":-93.0,"rsrq":-9.0,"rssi":-63.0,"snr":6.2,"vendorId":"com.chargepoint"}}]
INFO:ocpp:cp6k: send [3,"a3ce4a4669a5ff710a72769317c3cbdb",{"currentTime":"2023-03-29T09:51:53.561239"}]
INFO:ocpp:cp6k: receive message [2,"9e06f3b23cb936bc0e24d76470df00b5","Heartbeat",{"customData":{"rsrp":-93.0,"rsrq":-9.0,"rssi":-63.0,"snr":9.4,"vendorId":"com.chargepoint"}}]
INFO:ocpp:cp6k: send [3,"9e06f3b23cb936bc0e24d76470df00b5",{"currentTime":"2023-03-29T09:52:23.442712"}]
INFO:ocpp:cp6k: receive message [2,"21d55ded76be138187ab19e8c5b9cd68","Heartbeat",{"customData":{"rsrp":-93.0,"rsrq":-14.0,"rssi":-63.0,"snr":4.0,"vendorId":"com.chargepoint"}}]
INFO:ocpp:cp6k: send [3,"21d55ded76be138187ab19e8c5b9cd68",{"currentTime":"2023-03-29T09:52:53.801003"}]
INFO:ocpp:cp6k: receive message [2,"62de759b6a7dfd75f3e2bc3f85e2b527","Heartbeat",{"customData":{"rsrp":-93.0,"rsrq":-14.0,"rssi":-63.0,"snr":7.800000000000001,"vendorId":"com.chargepoint"}}]
INFO:ocpp:cp6k: send [3,"62de759b6a7dfd75f3e2bc3f85e2b527",{"currentTime":"2023-03-29T09:53:23.576932"}]
INFO:ocpp:cp6k: receive message [2,"3f4af72fa829c818487a80912334adda","Heartbeat",{"customData":{"rsrp":-93.0,"rsrq":-9.0,"rssi":-63.0,"snr":8.4,"vendorId":"com.chargepoint"}}]
INFO:ocpp:cp6k: send [3,"3f4af72fa829c818487a80912334adda",{"currentTime":"2023-03-29T09:53:53.679718"}]
INFO:ocpp:cp6k: receive message [2,"fe12a2057a4f7cd6d8824e9143e29921","Heartbeat",{"customData":{"rsrp":-93.0,"rsrq":-9.0,"rssi":-63.0,"snr":8.200000000000001,"vendorId":"com.chargepoint"}}]
INFO:ocpp:cp6k: send [3,"fe12a2057a4f7cd6d8824e9143e29921",{"currentTime":"2023-03-29T09:54:28.731441"}]
INFO:ocpp:cp6k: receive message [2,"546fa52c89cce19159a8a7ee38b0f901","Heartbeat",{"customData":{"rsrp":-93.0,"rsrq":-9.0,"rssi":-63.0,"snr":5.4,"vendorId":"com.chargepoint"}}]
INFO:ocpp:cp6k: send [3,"546fa52c89cce19159a8a7ee38b0f901",{"currentTime":"2023-03-29T09:54:53.897030"}]
INFO:ocpp:cp6k: receive message [2,"517697013b8ec5177c0ab2c4549401c7","Heartbeat",{"customData":{"rsrp":-93.0,"rsrq":-9.0,"rssi":-63.0,"snr":10.4,"vendorId":"com.chargepoint"}}]
INFO:ocpp:cp6k: send [3,"517697013b8ec5177c0ab2c4549401c7",{"currentTime":"2023-03-29T09:55:23.685722"}]
INFO:ocpp:cp6k: receive message [2,"9f2a438c22cadaeb0d1e856269144514","Heartbeat",{"customData":{"rsrp":-93.0,"rsrq":-14.0,"rssi":-63.0,"snr":4.800000000000001,"vendorId":"com.chargepoint"}}]
INFO:ocpp:cp6k: send [3,"9f2a438c22cadaeb0d1e856269144514",{"currentTime":"2023-03-29T09:55:53.472968"}]
INFO:     127.0.0.1:43914 - "POST /ChangeAvailability/cp6k HTTP/1.1" 401 Unauthorized
INFO:ocpp:cp6k: receive message [2,"55c9d09e12188643f36fce7214f9ceca","Heartbeat",{"customData":{"rsrp":-93.0,"rsrq":-14.0,"rssi":-63.0,"snr":6.0,"vendorId":"com.chargepoint"}}]
INFO:ocpp:cp6k: send [3,"55c9d09e12188643f36fce7214f9ceca",{"currentTime":"2023-03-29T09:56:23.610426"}]
API - INFO - RabbitMQ SENDING Message: {"destination": "SQL_DB", "origin": "API", "method": "login", "type": "request", "content": {"email": "admin", "password": "admin"}, "cp_id": null, "status": null}
SQL_DB - INFO - RECEIVED: {'destination': 'SQL_DB', 'origin': 'API', 'method': 'login', 'type': 'request', 'content': {'email': 'admin', 'password': 'admin'}, 'cp_id': None, 'status': None}
SQL_DB - INFO - RabbitMQ SENDING Message: {"destination": "API", "origin": "SQL_DB", "method": "login", "type": "response", "content": {"id": 2, "permission_level": 2, "id_token": null}, "cp_id": null, "status": "OK"}
API - INFO - RESPONSE: {'destination': 'API', 'origin': 'SQL_DB', 'method': 'login', 'type': 'response', 'content': {'id': 2, 'permission_level': 2, 'id_token': None}, 'cp_id': None, 'status': 'OK'}
INFO:     127.0.0.1:55664 - "GET /login?email=admin&password=admin HTTP/1.1" 200 OK
API - INFO - RabbitMQ SENDING Message: {"destination": "Ocpp_Server", "origin": "API", "method": "changeAvailability", "type": "request", "content": {"operational_status": "Operative", "evse": null}, "cp_id": "cp6k", "status": null}
INFO:Ocpp_Server:RECEIVED: {'destination': 'Ocpp_Server', 'origin': 'API', 'method': 'changeAvailability', 'type': 'request', 'content': {'operational_status': 'Operative', 'evse': None}, 'cp_id': 'cp6k', 'status': None}
INFO:ocpp:cp6k: send [2,"d5099218-c70b-4d0a-b140-89ce18db93e9","ChangeAvailability",{"operationalStatus":"Operative"}]
INFO:ocpp:cp6k: receive message [3,"d5099218-c70b-4d0a-b140-89ce18db93e9",{"status":"Accepted"}]
INFO:Ocpp_Server:RabbitMQ SENDING Message: {"destination": "API", "origin": "Ocpp_Server", "method": "changeAvailability", "type": "response", "content": {"status": "Accepted", "status_info": null}, "cp_id": "cp6k", "status": "OK"}
API - INFO - RESPONSE: {'destination': 'API', 'origin': 'Ocpp_Server', 'method': 'changeAvailability', 'type': 'response', 'content': {'status': 'Accepted', 'status_info': None}, 'cp_id': 'cp6k', 'status': 'OK'}
INFO:     127.0.0.1:42796 - "POST /ChangeAvailability/cp6k HTTP/1.1" 200 OK
INFO:ocpp:cp6k: receive message [2,"d7dbfab3f6e401ef43458ed88a355fae","StatusNotification",{"connectorId":1,"connectorStatus":"Available","evseId":1,"timestamp":"2023-03-29T09:56:50Z"}]
INFO:Ocpp_Server:RabbitMQ SENDING Message: {"destination": null, "origin": "Ocpp_Server", "method": "StatusNotification", "type": "ocpp_log", "content": {"connector_id": 1, "connector_status": "Available", "evse_id": 1, "timestamp": "2023-03-29T09:56:50Z"}, "cp_id": "cp6k", "status": null}
INFO:ocpp:cp6k: send [3,"d7dbfab3f6e401ef43458ed88a355fae",{}]
API - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'StatusNotification', 'type': 'ocpp_log', 'content': {'connector_id': 1, 'connector_status': 'Available', 'evse_id': 1, 'timestamp': '2023-03-29T09:56:50Z'}, 'cp_id': 'cp6k', 'status': None}
SQL_DB - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'StatusNotification', 'type': 'ocpp_log', 'content': {'connector_id': 1, 'connector_status': 'Available', 'evse_id': 1, 'timestamp': '2023-03-29T09:56:50Z'}, 'cp_id': 'cp6k', 'status': None}
INFO:ocpp:cp6k: receive message [2,"c2f7189e4d095024d7d77d2b295adef6","StatusNotification",{"connectorId":1,"connectorStatus":"Available","evseId":2,"timestamp":"2023-03-29T09:56:50Z"}]
INFO:Ocpp_Server:RabbitMQ SENDING Message: {"destination": null, "origin": "Ocpp_Server", "method": "StatusNotification", "type": "ocpp_log", "content": {"connector_id": 1, "connector_status": "Available", "evse_id": 2, "timestamp": "2023-03-29T09:56:50Z"}, "cp_id": "cp6k", "status": null}
INFO:ocpp:cp6k: send [3,"c2f7189e4d095024d7d77d2b295adef6",{}]
API - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'StatusNotification', 'type': 'ocpp_log', 'content': {'connector_id': 1, 'connector_status': 'Available', 'evse_id': 2, 'timestamp': '2023-03-29T09:56:50Z'}, 'cp_id': 'cp6k', 'status': None}
SQL_DB - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'StatusNotification', 'type': 'ocpp_log', 'content': {'connector_id': 1, 'connector_status': 'Available', 'evse_id': 2, 'timestamp': '2023-03-29T09:56:50Z'}, 'cp_id': 'cp6k', 'status': None}
INFO:ocpp:cp6k: receive message [2,"4e888b8c12e2519ecd5acd46534dcd02","NotifyEvent",{"eventData":[{"actualValue":"Available","component":{"evse":{"id":1},"name":"EVSE"},"eventId":0,"eventNotificationType":"HardWiredMonitor","timestamp":"2023-03-29T09:56:48Z","trigger":"Delta","variable":{"name":"AvailabilityState"}},{"actualValue":"Available","component":{"evse":{"id":2},"name":"EVSE"},"eventId":0,"eventNotificationType":"HardWiredMonitor","timestamp":"2023-03-29T09:56:48Z","trigger":"Delta","variable":{"name":"AvailabilityState"}},{"actualValue":"Available","component":{"name":"ChargingStation"},"eventId":0,"eventNotificationType":"HardWiredMonitor","timestamp":"2023-03-29T09:56:48Z","trigger":"Delta","variable":{"name":"AvailabilityState"}}],"generatedAt":"2023-03-29T09:56:53Z","seqNo":0}]
INFO:Ocpp_Server:RabbitMQ SENDING Message: {"destination": null, "origin": "Ocpp_Server", "method": "NotifyEvent", "type": "ocpp_log", "content": {"event_data": [{"actual_value": "Available", "component": {"evse": {"id": 1}, "name": "EVSE"}, "event_id": 0, "event_notification_type": "HardWiredMonitor", "timestamp": "2023-03-29T09:56:48Z", "trigger": "Delta", "variable": {"name": "AvailabilityState"}}, {"actual_value": "Available", "component": {"evse": {"id": 2}, "name": "EVSE"}, "event_id": 0, "event_notification_type": "HardWiredMonitor", "timestamp": "2023-03-29T09:56:48Z", "trigger": "Delta", "variable": {"name": "AvailabilityState"}}, {"actual_value": "Available", "component": {"name": "ChargingStation"}, "event_id": 0, "event_notification_type": "HardWiredMonitor", "timestamp": "2023-03-29T09:56:48Z", "trigger": "Delta", "variable": {"name": "AvailabilityState"}}], "generated_at": "2023-03-29T09:56:53Z", "seq_no": 0}, "cp_id": "cp6k", "status": null}
INFO:ocpp:cp6k: send [3,"4e888b8c12e2519ecd5acd46534dcd02",{}]
SQL_DB - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'NotifyEvent', 'type': 'ocpp_log', 'content': {'event_data': [{'actual_value': 'Available', 'component': {'evse': {'id': 1}, 'name': 'EVSE'}, 'event_id': 0, 'event_notification_type': 'HardWiredMonitor', 'timestamp': '2023-03-29T09:56:48Z', 'trigger': 'Delta', 'variable': {'name': 'AvailabilityState'}}, {'actual_value': 'Available', 'component': {'evse': {'id': 2}, 'name': 'EVSE'}, 'event_id': 0, 'event_notification_type': 'HardWiredMonitor', 'timestamp': '2023-03-29T09:56:48Z', 'trigger': 'Delta', 'variable': {'name': 'AvailabilityState'}}, {'actual_value': 'Available', 'component': {'name': 'ChargingStation'}, 'event_id': 0, 'event_notification_type': 'HardWiredMonitor', 'timestamp': '2023-03-29T09:56:48Z', 'trigger': 'Delta', 'variable': {'name': 'AvailabilityState'}}], 'generated_at': '2023-03-29T09:56:53Z', 'seq_no': 0}, 'cp_id': 'cp6k', 'status': None}
API - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'NotifyEvent', 'type': 'ocpp_log', 'content': {'event_data': [{'actual_value': 'Available', 'component': {'evse': {'id': 1}, 'name': 'EVSE'}, 'event_id': 0, 'event_notification_type': 'HardWiredMonitor', 'timestamp': '2023-03-29T09:56:48Z', 'trigger': 'Delta', 'variable': {'name': 'AvailabilityState'}}, {'actual_value': 'Available', 'component': {'evse': {'id': 2}, 'name': 'EVSE'}, 'event_id': 0, 'event_notification_type': 'HardWiredMonitor', 'timestamp': '2023-03-29T09:56:48Z', 'trigger': 'Delta', 'variable': {'name': 'AvailabilityState'}}, {'actual_value': 'Available', 'component': {'name': 'ChargingStation'}, 'event_id': 0, 'event_notification_type': 'HardWiredMonitor', 'timestamp': '2023-03-29T09:56:48Z', 'trigger': 'Delta', 'variable': {'name': 'AvailabilityState'}}], 'generated_at': '2023-03-29T09:56:53Z', 'seq_no': 0}, 'cp_id': 'cp6k', 'status': None}
INFO:ocpp:cp6k: receive message [2,"400a0616a4048e49cc547bca4bc78877","Heartbeat",{"customData":{"rsrp":-93.0,"rsrq":-8.0,"rssi":-63.0,"snr":6.6000000000000005,"vendorId":"com.chargepoint"}}]
INFO:ocpp:cp6k: send [3,"400a0616a4048e49cc547bca4bc78877",{"currentTime":"2023-03-29T09:56:53.703702"}]
API - INFO - RabbitMQ SENDING Message: {"destination": "SQL_DB", "origin": "API", "method": "login", "type": "request", "content": {"email": "user1", "password": "user1"}, "cp_id": null, "status": null}
SQL_DB - INFO - RECEIVED: {'destination': 'SQL_DB', 'origin': 'API', 'method': 'login', 'type': 'request', 'content': {'email': 'user1', 'password': 'user1'}, 'cp_id': None, 'status': None}
SQL_DB - INFO - RabbitMQ SENDING Message: {"destination": "API", "origin": "SQL_DB", "method": "login", "type": "response", "content": {"id": 1, "permission_level": 1, "id_token": {"id_token": "1dee35d6-ed03-4882-9762-86197f258a74", "type": "ISO14443"}}, "cp_id": null, "status": "OK"}
API - INFO - RESPONSE: {'destination': 'API', 'origin': 'SQL_DB', 'method': 'login', 'type': 'response', 'content': {'id': 1, 'permission_level': 1, 'id_token': {'id_token': '1dee35d6-ed03-4882-9762-86197f258a74', 'type': 'ISO14443'}}, 'cp_id': None, 'status': 'OK'}
INFO:     127.0.0.1:35490 - "GET /login?email=user1&password=user1 HTTP/1.1" 200 OK
API - INFO - RabbitMQ SENDING Message: {"destination": "Ocpp_Server", "origin": "API", "method": "requestStartTransaction", "type": "request", "content": {"id_token": {"id_token": "1dee35d6-ed03-4882-9762-86197f258a74", "type": "ISO14443", "additional_info": null}, "remote_start_id": null, "evse_id": 1, "group_id_token": null, "charging_profile": null}, "cp_id": "cp6k", "status": null}
INFO:Ocpp_Server:RECEIVED: {'destination': 'Ocpp_Server', 'origin': 'API', 'method': 'requestStartTransaction', 'type': 'request', 'content': {'id_token': {'id_token': '1dee35d6-ed03-4882-9762-86197f258a74', 'type': 'ISO14443', 'additional_info': None}, 'remote_start_id': None, 'evse_id': 1, 'group_id_token': None, 'charging_profile': None}, 'cp_id': 'cp6k', 'status': None}
INFO:ocpp:cp6k: send [2,"122c681e-42d7-484e-86f8-7827fd36d01e","RequestStartTransaction",{"idToken":{"idToken":"1dee35d6-ed03-4882-9762-86197f258a74","type":"ISO14443"},"remoteStartId":91,"evseId":1}]
INFO:ocpp:cp6k: receive message [3,"122c681e-42d7-484e-86f8-7827fd36d01e",{"status":"Accepted","transactionId":"5125388532365837173"}]
INFO:Ocpp_Server:RabbitMQ SENDING Message: {"destination": "API", "origin": "Ocpp_Server", "method": "requestStartTransaction", "type": "response", "content": {"status": "Accepted", "status_info": null, "transaction_id": "5125388532365837173"}, "cp_id": "cp6k", "status": "OK"}
API - INFO - RESPONSE: {'destination': 'API', 'origin': 'Ocpp_Server', 'method': 'requestStartTransaction', 'type': 'response', 'content': {'status': 'Accepted', 'status_info': None, 'transaction_id': '5125388532365837173'}, 'cp_id': 'cp6k', 'status': 'OK'}
INFO:     127.0.0.1:34228 - "POST /charge/start?evse_id=1&cp_id=cp6k HTTP/1.1" 200 OK
INFO:ocpp:cp6k: receive message [2,"32299806c8d23dc60b066c01f9208b89","Heartbeat",{"customData":{"rsrp":-93.0,"rsrq":-8.0,"rssi":-63.0,"snr":6.6000000000000005,"vendorId":"com.chargepoint"}}]
INFO:ocpp:cp6k: send [3,"32299806c8d23dc60b066c01f9208b89",{"currentTime":"2023-03-29T09:57:23.505197"}]
INFO:ocpp:cp6k: receive message [2,"17215f31435c322f657781b67bed9293","TransactionEvent",{"eventType":"Started","evse":{"connectorId":1,"id":1},"idToken":{"idToken":"1dee35d6-ed03-4882-9762-86197f258a74","type":"Central"},"meterValue":[{"sampledValue":[{"context":"Transaction.Begin","measurand":"Energy.Active.Import.Register","unitOfMeasure":{"unit":"Wh"},"value":545.2},{"context":"Transaction.Begin","measurand":"Voltage","unitOfMeasure":{"unit":"V"},"value":232.706207},{"context":"Transaction.Begin","measurand":"Voltage","phase":"L1","unitOfMeasure":{"unit":"V"},"value":16.322401},{"context":"Transaction.Begin","measurand":"Voltage","phase":"L2","unitOfMeasure":{"unit":"V"},"value":5.275703},{"context":"Transaction.Begin","measurand":"Voltage","phase":"L3","unitOfMeasure":{"unit":"V"},"value":232.706207},{"context":"Transaction.Begin","measurand":"Current.Import","unitOfMeasure":{"unit":"A"},"value":0.0},{"context":"Transaction.Begin","measurand":"Current.Import","phase":"L1","unitOfMeasure":{"unit":"A"},"value":0.0},{"context":"Transaction.Begin","measurand":"Current.Import","phase":"L2","unitOfMeasure":{"unit":"A"},"value":0.0},{"context":"Transaction.Begin","measurand":"Current.Import","phase":"L3","unitOfMeasure":{"unit":"A"},"value":0.0},{"context":"Transaction.Begin","measurand":"Power.Active.Import","unitOfMeasure":{"unit":"W"},"value":0.0},{"context":"Transaction.Begin","measurand":"Power.Factor","phase":"L1","value":1.0},{"context":"Transaction.Begin","measurand":"Power.Factor","phase":"L2","value":1.0},{"context":"Transaction.Begin","measurand":"Power.Factor","phase":"L3","value":1.0}],"timestamp":"2023-03-29T09:57:39Z"}],"seqNo":0,"timestamp":"2023-03-29T09:57:40Z","transactionInfo":{"chargingState":"EVConnected","customData":{"timeSpentConnected":0,"vendorId":"com.chargepoint"},"remoteStartId":91,"transactionId":"5125388532365837173"},"triggerReason":"ChargingStateChanged"}]
INFO:Ocpp_Server:RabbitMQ SENDING Message: {"destination": null, "origin": "Ocpp_Server", "method": "TransactionEvent", "type": "ocpp_log", "content": {"event_type": "Started", "evse": {"connector_id": 1, "id": 1}, "id_token": {"id_token": "1dee35d6-ed03-4882-9762-86197f258a74", "type": "Central"}, "meter_value": [{"sampled_value": [{"context": "Transaction.Begin", "measurand": "Energy.Active.Import.Register", "unit_of_measure": {"unit": "Wh"}, "value": 545.2}, {"context": "Transaction.Begin", "measurand": "Voltage", "unit_of_measure": {"unit": "V"}, "value": 232.706207}, {"context": "Transaction.Begin", "measurand": "Voltage", "phase": "L1", "unit_of_measure": {"unit": "V"}, "value": 16.322401}, {"context": "Transaction.Begin", "measurand": "Voltage", "phase": "L2", "unit_of_measure": {"unit": "V"}, "value": 5.275703}, {"context": "Transaction.Begin", "measurand": "Voltage", "phase": "L3", "unit_of_measure": {"unit": "V"}, "value": 232.706207}, {"context": "Transaction.Begin", "measurand": "Current.Import", "unit_of_measure": {"unit": "A"}, "value": 0.0}, {"context": "Transaction.Begin", "measurand": "Current.Import", "phase": "L1", "unit_of_measure": {"unit": "A"}, "value": 0.0}, {"context": "Transaction.Begin", "measurand": "Current.Import", "phase": "L2", "unit_of_measure": {"unit": "A"}, "value": 0.0}, {"context": "Transaction.Begin", "measurand": "Current.Import", "phase": "L3", "unit_of_measure": {"unit": "A"}, "value": 0.0}, {"context": "Transaction.Begin", "measurand": "Power.Active.Import", "unit_of_measure": {"unit": "W"}, "value": 0.0}, {"context": "Transaction.Begin", "measurand": "Power.Factor", "phase": "L1", "value": 1.0}, {"context": "Transaction.Begin", "measurand": "Power.Factor", "phase": "L2", "value": 1.0}, {"context": "Transaction.Begin", "measurand": "Power.Factor", "phase": "L3", "value": 1.0}], "timestamp": "2023-03-29T09:57:39Z"}], "seq_no": 0, "timestamp": "2023-03-29T09:57:40Z", "transaction_info": {"charging_state": "EVConnected", "custom_data": {"time_spent_connected": 0, "vendor_id": "com.chargepoint"}, "remote_start_id": 91, "transaction_id": "5125388532365837173"}, "trigger_reason": "ChargingStateChanged"}, "cp_id": "cp6k", "status": null}
INFO:Ocpp_Server:RabbitMQ SENDING Message: {"destination": "SQL_DB", "origin": "Ocpp_Server", "method": "select", "type": "request", "content": {"table": "IdToken", "filters": {"id_token": "1dee35d6-ed03-4882-9762-86197f258a74"}, "mode": {"id_token_info": {"group_id_token": {}, "evse": {}}}}, "cp_id": "cp6k", "status": null}
API - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'TransactionEvent', 'type': 'ocpp_log', 'content': {'event_type': 'Started', 'evse': {'connector_id': 1, 'id': 1}, 'id_token': {'id_token': '1dee35d6-ed03-4882-9762-86197f258a74', 'type': 'Central'}, 'meter_value': [{'sampled_value': [{'context': 'Transaction.Begin', 'measurand': 'Energy.Active.Import.Register', 'unit_of_measure': {'unit': 'Wh'}, 'value': 545.2}, {'context': 'Transaction.Begin', 'measurand': 'Voltage', 'unit_of_measure': {'unit': 'V'}, 'value': 232.706207}, {'context': 'Transaction.Begin', 'measurand': 'Voltage', 'phase': 'L1', 'unit_of_measure': {'unit': 'V'}, 'value': 16.322401}, {'context': 'Transaction.Begin', 'measurand': 'Voltage', 'phase': 'L2', 'unit_of_measure': {'unit': 'V'}, 'value': 5.275703}, {'context': 'Transaction.Begin', 'measurand': 'Voltage', 'phase': 'L3', 'unit_of_measure': {'unit': 'V'}, 'value': 232.706207}, {'context': 'Transaction.Begin', 'measurand': 'Current.Import', 'unit_of_measure': {'unit': 'A'}, 'value': 0.0}, {'context': 'Transaction.Begin', 'measurand': 'Current.Import', 'phase': 'L1', 'unit_of_measure': {'unit': 'A'}, 'value': 0.0}, {'context': 'Transaction.Begin', 'measurand': 'Current.Import', 'phase': 'L2', 'unit_of_measure': {'unit': 'A'}, 'value': 0.0}, {'context': 'Transaction.Begin', 'measurand': 'Current.Import', 'phase': 'L3', 'unit_of_measure': {'unit': 'A'}, 'value': 0.0}, {'context': 'Transaction.Begin', 'measurand': 'Power.Active.Import', 'unit_of_measure': {'unit': 'W'}, 'value': 0.0}, {'context': 'Transaction.Begin', 'measurand': 'Power.Factor', 'phase': 'L1', 'value': 1.0}, {'context': 'Transaction.Begin', 'measurand': 'Power.Factor', 'phase': 'L2', 'value': 1.0}, {'context': 'Transaction.Begin', 'measurand': 'Power.Factor', 'phase': 'L3', 'value': 1.0}], 'timestamp': '2023-03-29T09:57:39Z'}], 'seq_no': 0, 'timestamp': '2023-03-29T09:57:40Z', 'transaction_info': {'charging_state': 'EVConnected', 'custom_data': {'time_spent_connected': 0, 'vendor_id': 'com.chargepoint'}, 'remote_start_id': 91, 'transaction_id': '5125388532365837173'}, 'trigger_reason': 'ChargingStateChanged'}, 'cp_id': 'cp6k', 'status': None}
SQL_DB - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'TransactionEvent', 'type': 'ocpp_log', 'content': {'event_type': 'Started', 'evse': {'connector_id': 1, 'id': 1}, 'id_token': {'id_token': '1dee35d6-ed03-4882-9762-86197f258a74', 'type': 'Central'}, 'meter_value': [{'sampled_value': [{'context': 'Transaction.Begin', 'measurand': 'Energy.Active.Import.Register', 'unit_of_measure': {'unit': 'Wh'}, 'value': 545.2}, {'context': 'Transaction.Begin', 'measurand': 'Voltage', 'unit_of_measure': {'unit': 'V'}, 'value': 232.706207}, {'context': 'Transaction.Begin', 'measurand': 'Voltage', 'phase': 'L1', 'unit_of_measure': {'unit': 'V'}, 'value': 16.322401}, {'context': 'Transaction.Begin', 'measurand': 'Voltage', 'phase': 'L2', 'unit_of_measure': {'unit': 'V'}, 'value': 5.275703}, {'context': 'Transaction.Begin', 'measurand': 'Voltage', 'phase': 'L3', 'unit_of_measure': {'unit': 'V'}, 'value': 232.706207}, {'context': 'Transaction.Begin', 'measurand': 'Current.Import', 'unit_of_measure': {'unit': 'A'}, 'value': 0.0}, {'context': 'Transaction.Begin', 'measurand': 'Current.Import', 'phase': 'L1', 'unit_of_measure': {'unit': 'A'}, 'value': 0.0}, {'context': 'Transaction.Begin', 'measurand': 'Current.Import', 'phase': 'L2', 'unit_of_measure': {'unit': 'A'}, 'value': 0.0}, {'context': 'Transaction.Begin', 'measurand': 'Current.Import', 'phase': 'L3', 'unit_of_measure': {'unit': 'A'}, 'value': 0.0}, {'context': 'Transaction.Begin', 'measurand': 'Power.Active.Import', 'unit_of_measure': {'unit': 'W'}, 'value': 0.0}, {'context': 'Transaction.Begin', 'measurand': 'Power.Factor', 'phase': 'L1', 'value': 1.0}, {'context': 'Transaction.Begin', 'measurand': 'Power.Factor', 'phase': 'L2', 'value': 1.0}, {'context': 'Transaction.Begin', 'measurand': 'Power.Factor', 'phase': 'L3', 'value': 1.0}], 'timestamp': '2023-03-29T09:57:39Z'}], 'seq_no': 0, 'timestamp': '2023-03-29T09:57:40Z', 'transaction_info': {'charging_state': 'EVConnected', 'custom_data': {'time_spent_connected': 0, 'vendor_id': 'com.chargepoint'}, 'remote_start_id': 91, 'transaction_id': '5125388532365837173'}, 'trigger_reason': 'ChargingStateChanged'}, 'cp_id': 'cp6k', 'status': None}
SQL_DB - ERROR - Traceback (most recent call last):
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/rabbit_mq/rabbit_handler.py", line 122, in on_request
    response_content = await self.handle_request(request)
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/CSMS/db/db.py", line 78, in on_db_request
    raise e
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/CSMS/db/db.py", line 70, in on_db_request
    toReturn = method(cp_id=request.cp_id, **request.content)
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/CSMS/db/db.py", line 308, in TransactionEvent
    transaction = Transaction(**transaction_info)
  File "<string>", line 4, in __init__
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/orm/state.py", line 481, in _initialize_instance
    with util.safe_reraise():
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/util/compat.py", line 208, in raise_
    raise exception
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/orm/state.py", line 479, in _initialize_instance
    return manager.original_init(*mixed[1:], **kwargs)
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/CSMS/db/database_Base.py", line 29, in __init__
    super().__init__(**kwargs)
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/orm/decl_base.py", line 1197, in _declarative_constructor
    raise TypeError(
TypeError: 'custom_data' is an invalid keyword argument for Transaction

SQL_DB - INFO - RECEIVED: {'destination': 'SQL_DB', 'origin': 'Ocpp_Server', 'method': 'select', 'type': 'request', 'content': {'table': 'IdToken', 'filters': {'id_token': '1dee35d6-ed03-4882-9762-86197f258a74'}, 'mode': {'id_token_info': {'group_id_token': {}, 'evse': {}}}}, 'cp_id': 'cp6k', 'status': None}
SQL_DB - INFO - RabbitMQ SENDING Message: {"destination": "Ocpp_Server", "origin": "SQL_DB", "method": "select", "type": "response", "content": [{"id_token": "1dee35d6-ed03-4882-9762-86197f258a74", "type": "ISO14443", "id_token_info": {"cache_expiry_date_time": null, "language1": "PT", "valid": true, "charging_priority": null, "language2": null, "group_id_token": null, "evse": [1, 2]}}], "cp_id": "cp6k", "status": "OK"}
INFO:Ocpp_Server:RESPONSE: {'destination': 'Ocpp_Server', 'origin': 'SQL_DB', 'method': 'select', 'type': 'response', 'content': [{'id_token': '1dee35d6-ed03-4882-9762-86197f258a74', 'type': 'ISO14443', 'id_token_info': {'cache_expiry_date_time': None, 'language1': 'PT', 'valid': True, 'charging_priority': None, 'language2': None, 'group_id_token': None, 'evse': [1, 2]}}], 'cp_id': 'cp6k', 'status': 'OK'}
INFO:Ocpp_Server:RabbitMQ SENDING Message: {"destination": "SQL_DB", "origin": "Ocpp_Server", "method": "select", "type": "request", "content": {"table": "EVSE", "filters": {"cp_id": "cp6k"}}, "cp_id": "cp6k", "status": null}
SQL_DB - INFO - RECEIVED: {'destination': 'SQL_DB', 'origin': 'Ocpp_Server', 'method': 'select', 'type': 'request', 'content': {'table': 'EVSE', 'filters': {'cp_id': 'cp6k'}}, 'cp_id': 'cp6k', 'status': None}
SQL_DB - INFO - RabbitMQ SENDING Message: {"destination": "Ocpp_Server", "origin": "SQL_DB", "method": "select", "type": "response", "content": [{"cp_id": "cp6k", "evse_id": 1}, {"cp_id": "cp6k", "evse_id": 2}, {"cp_id": "cp6k", "evse_id": 3}], "cp_id": "cp6k", "status": "OK"}
INFO:Ocpp_Server:RESPONSE: {'destination': 'Ocpp_Server', 'origin': 'SQL_DB', 'method': 'select', 'type': 'response', 'content': [{'cp_id': 'cp6k', 'evse_id': 1}, {'cp_id': 'cp6k', 'evse_id': 2}, {'cp_id': 'cp6k', 'evse_id': 3}], 'cp_id': 'cp6k', 'status': 'OK'}
INFO:ocpp:cp6k: send [3,"17215f31435c322f657781b67bed9293",{"idTokenInfo":{"language1":"PT","evseId":[1,2],"status":"Accepted"}}]
INFO:ocpp:cp6k: receive message [2,"f55f7cf4ca8f4ba5a66275eb7ad0506e","StatusNotification",{"connectorId":1,"connectorStatus":"Occupied","evseId":1,"timestamp":"2023-03-29T09:57:42Z"}]
INFO:Ocpp_Server:RabbitMQ SENDING Message: {"destination": null, "origin": "Ocpp_Server", "method": "StatusNotification", "type": "ocpp_log", "content": {"connector_id": 1, "connector_status": "Occupied", "evse_id": 1, "timestamp": "2023-03-29T09:57:42Z"}, "cp_id": "cp6k", "status": null}
INFO:ocpp:cp6k: send [3,"f55f7cf4ca8f4ba5a66275eb7ad0506e",{}]
SQL_DB - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'StatusNotification', 'type': 'ocpp_log', 'content': {'connector_id': 1, 'connector_status': 'Occupied', 'evse_id': 1, 'timestamp': '2023-03-29T09:57:42Z'}, 'cp_id': 'cp6k', 'status': None}
API - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'StatusNotification', 'type': 'ocpp_log', 'content': {'connector_id': 1, 'connector_status': 'Occupied', 'evse_id': 1, 'timestamp': '2023-03-29T09:57:42Z'}, 'cp_id': 'cp6k', 'status': None}
INFO:ocpp:cp6k: receive message [2,"4c9ffbe884281fe6ef6588e2a86940aa","TransactionEvent",{"eventType":"Updated","evse":{"connectorId":1,"id":1},"seqNo":1,"timestamp":"2023-03-29T09:57:44Z","transactionInfo":{"chargingState":"Charging","customData":{"timeSpentConnected":4,"vendorId":"com.chargepoint"},"timeSpentCharging":0,"transactionId":"5125388532365837173"},"triggerReason":"ChargingStateChanged"}]
INFO:Ocpp_Server:RabbitMQ SENDING Message: {"destination": null, "origin": "Ocpp_Server", "method": "TransactionEvent", "type": "ocpp_log", "content": {"event_type": "Updated", "evse": {"connector_id": 1, "id": 1}, "seq_no": 1, "timestamp": "2023-03-29T09:57:44Z", "transaction_info": {"charging_state": "Charging", "custom_data": {"time_spent_connected": 4, "vendor_id": "com.chargepoint"}, "time_spent_charging": 0, "transaction_id": "5125388532365837173"}, "trigger_reason": "ChargingStateChanged"}, "cp_id": "cp6k", "status": null}
INFO:ocpp:cp6k: send [3,"4c9ffbe884281fe6ef6588e2a86940aa",{}]
SQL_DB - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'TransactionEvent', 'type': 'ocpp_log', 'content': {'event_type': 'Updated', 'evse': {'connector_id': 1, 'id': 1}, 'seq_no': 1, 'timestamp': '2023-03-29T09:57:44Z', 'transaction_info': {'charging_state': 'Charging', 'custom_data': {'time_spent_connected': 4, 'vendor_id': 'com.chargepoint'}, 'time_spent_charging': 0, 'transaction_id': '5125388532365837173'}, 'trigger_reason': 'ChargingStateChanged'}, 'cp_id': 'cp6k', 'status': None}
API - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'TransactionEvent', 'type': 'ocpp_log', 'content': {'event_type': 'Updated', 'evse': {'connector_id': 1, 'id': 1}, 'seq_no': 1, 'timestamp': '2023-03-29T09:57:44Z', 'transaction_info': {'charging_state': 'Charging', 'custom_data': {'time_spent_connected': 4, 'vendor_id': 'com.chargepoint'}, 'time_spent_charging': 0, 'transaction_id': '5125388532365837173'}, 'trigger_reason': 'ChargingStateChanged'}, 'cp_id': 'cp6k', 'status': None}
SQL_DB - ERROR - Traceback (most recent call last):
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/rabbit_mq/rabbit_handler.py", line 122, in on_request
    response_content = await self.handle_request(request)
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/CSMS/db/db.py", line 78, in on_db_request
    raise e
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/CSMS/db/db.py", line 70, in on_db_request
    toReturn = method(cp_id=request.cp_id, **request.content)
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/CSMS/db/db.py", line 308, in TransactionEvent
    transaction = Transaction(**transaction_info)
  File "<string>", line 4, in __init__
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/orm/state.py", line 481, in _initialize_instance
    with util.safe_reraise():
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/util/compat.py", line 208, in raise_
    raise exception
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/orm/state.py", line 479, in _initialize_instance
    return manager.original_init(*mixed[1:], **kwargs)
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/CSMS/db/database_Base.py", line 29, in __init__
    super().__init__(**kwargs)
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/orm/decl_base.py", line 1197, in _declarative_constructor
    raise TypeError(
TypeError: 'custom_data' is an invalid keyword argument for Transaction

INFO:ocpp:cp6k: receive message [2,"f7c899bfc6ad81cc4410f531da608138","NotifyEvent",{"eventData":[{"actualValue":"Occupied","component":{"evse":{"id":1},"name":"EVSE"},"eventId":0,"eventNotificationType":"HardWiredMonitor","timestamp":"2023-03-29T09:57:40Z","trigger":"Delta","variable":{"name":"AvailabilityState"}}],"generatedAt":"2023-03-29T09:57:45Z","seqNo":0}]
INFO:Ocpp_Server:RabbitMQ SENDING Message: {"destination": null, "origin": "Ocpp_Server", "method": "NotifyEvent", "type": "ocpp_log", "content": {"event_data": [{"actual_value": "Occupied", "component": {"evse": {"id": 1}, "name": "EVSE"}, "event_id": 0, "event_notification_type": "HardWiredMonitor", "timestamp": "2023-03-29T09:57:40Z", "trigger": "Delta", "variable": {"name": "AvailabilityState"}}], "generated_at": "2023-03-29T09:57:45Z", "seq_no": 0}, "cp_id": "cp6k", "status": null}
INFO:ocpp:cp6k: send [3,"f7c899bfc6ad81cc4410f531da608138",{}]
SQL_DB - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'NotifyEvent', 'type': 'ocpp_log', 'content': {'event_data': [{'actual_value': 'Occupied', 'component': {'evse': {'id': 1}, 'name': 'EVSE'}, 'event_id': 0, 'event_notification_type': 'HardWiredMonitor', 'timestamp': '2023-03-29T09:57:40Z', 'trigger': 'Delta', 'variable': {'name': 'AvailabilityState'}}], 'generated_at': '2023-03-29T09:57:45Z', 'seq_no': 0}, 'cp_id': 'cp6k', 'status': None}
API - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'NotifyEvent', 'type': 'ocpp_log', 'content': {'event_data': [{'actual_value': 'Occupied', 'component': {'evse': {'id': 1}, 'name': 'EVSE'}, 'event_id': 0, 'event_notification_type': 'HardWiredMonitor', 'timestamp': '2023-03-29T09:57:40Z', 'trigger': 'Delta', 'variable': {'name': 'AvailabilityState'}}], 'generated_at': '2023-03-29T09:57:45Z', 'seq_no': 0}, 'cp_id': 'cp6k', 'status': None}
INFO:ocpp:cp6k: receive message [2,"a25d56b2325ad92fce29c5fb78665128","NotifyEvent",{"eventData":[{"actualValue":"true","component":{"evse":{"id":1},"name":"ControlMetering"},"eventId":0,"eventNotificationType":"HardWiredNotification","techInfo":"urn:fault:acb:relay-stuck-open","timestamp":"2023-03-29T09:57:47Z","trigger":"Alerting","variable":{"name":"Problem"}}],"generatedAt":"2023-03-29T09:57:47Z","seqNo":0}]
INFO:Ocpp_Server:RabbitMQ SENDING Message: {"destination": null, "origin": "Ocpp_Server", "method": "NotifyEvent", "type": "ocpp_log", "content": {"event_data": [{"actual_value": "true", "component": {"evse": {"id": 1}, "name": "ControlMetering"}, "event_id": 0, "event_notification_type": "HardWiredNotification", "tech_info": "urn:fault:acb:relay-stuck-open", "timestamp": "2023-03-29T09:57:47Z", "trigger": "Alerting", "variable": {"name": "Problem"}}], "generated_at": "2023-03-29T09:57:47Z", "seq_no": 0}, "cp_id": "cp6k", "status": null}
INFO:ocpp:cp6k: send [3,"a25d56b2325ad92fce29c5fb78665128",{}]
API - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'NotifyEvent', 'type': 'ocpp_log', 'content': {'event_data': [{'actual_value': 'true', 'component': {'evse': {'id': 1}, 'name': 'ControlMetering'}, 'event_id': 0, 'event_notification_type': 'HardWiredNotification', 'tech_info': 'urn:fault:acb:relay-stuck-open', 'timestamp': '2023-03-29T09:57:47Z', 'trigger': 'Alerting', 'variable': {'name': 'Problem'}}], 'generated_at': '2023-03-29T09:57:47Z', 'seq_no': 0}, 'cp_id': 'cp6k', 'status': None}
SQL_DB - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'NotifyEvent', 'type': 'ocpp_log', 'content': {'event_data': [{'actual_value': 'true', 'component': {'evse': {'id': 1}, 'name': 'ControlMetering'}, 'event_id': 0, 'event_notification_type': 'HardWiredNotification', 'tech_info': 'urn:fault:acb:relay-stuck-open', 'timestamp': '2023-03-29T09:57:47Z', 'trigger': 'Alerting', 'variable': {'name': 'Problem'}}], 'generated_at': '2023-03-29T09:57:47Z', 'seq_no': 0}, 'cp_id': 'cp6k', 'status': None}
INFO:ocpp:cp6k: receive message [2,"03afac80760de4131acff0dba85c90bf","Heartbeat",{"customData":{"rsrp":-93.0,"rsrq":-13.0,"rssi":-63.0,"snr":4.4,"vendorId":"com.chargepoint"}}]
INFO:ocpp:cp6k: send [3,"03afac80760de4131acff0dba85c90bf",{"currentTime":"2023-03-29T09:57:53.594770"}]
INFO:ocpp:cp6k: receive message [2,"fd4351712826753a443aeb35df65aa8b","TransactionEvent",{"eventType":"Updated","evse":{"connectorId":1,"id":1},"meterValue":[{"sampledValue":[{"measurand":"Energy.Active.Import.Register","unitOfMeasure":{"unit":"Wh"},"value":545.228795},{"measurand":"Voltage","unitOfMeasure":{"unit":"V"},"value":232.974335},{"measurand":"Voltage","phase":"L1","unitOfMeasure":{"unit":"V"},"value":232.973511},{"measurand":"Voltage","phase":"L2","unitOfMeasure":{"unit":"V"},"value":232.973724},{"measurand":"Voltage","phase":"L3","unitOfMeasure":{"unit":"V"},"value":232.974335},{"measurand":"Current.Import","unitOfMeasure":{"unit":"A"},"value":0.067046},{"measurand":"Current.Import","phase":"L1","unitOfMeasure":{"unit":"A"},"value":0.006982},{"measurand":"Current.Import","phase":"L2","unitOfMeasure":{"unit":"A"},"value":0.014364},{"measurand":"Current.Import","phase":"L3","unitOfMeasure":{"unit":"A"},"value":0.0457},{"measurand":"Power.Active.Import","unitOfMeasure":{"unit":"W"},"value":15.620024},{"measurand":"Power.Factor","phase":"L1","value":0.175638},{"measurand":"Power.Factor","phase":"L2","value":0.215709},{"measurand":"Power.Factor","phase":"L3","value":0.0}],"timestamp":"2023-03-29T09:58:00Z"}],"seqNo":2,"timestamp":"2023-03-29T09:58:00Z","transactionInfo":{"customData":{"timeSpentConnected":20,"vendorId":"com.chargepoint"},"timeSpentCharging":0,"transactionId":"5125388532365837173"},"triggerReason":"MeterValuePeriodic"}]
INFO:Ocpp_Server:RabbitMQ SENDING Message: {"destination": null, "origin": "Ocpp_Server", "method": "TransactionEvent", "type": "ocpp_log", "content": {"event_type": "Updated", "evse": {"connector_id": 1, "id": 1}, "meter_value": [{"sampled_value": [{"measurand": "Energy.Active.Import.Register", "unit_of_measure": {"unit": "Wh"}, "value": 545.228795}, {"measurand": "Voltage", "unit_of_measure": {"unit": "V"}, "value": 232.974335}, {"measurand": "Voltage", "phase": "L1", "unit_of_measure": {"unit": "V"}, "value": 232.973511}, {"measurand": "Voltage", "phase": "L2", "unit_of_measure": {"unit": "V"}, "value": 232.973724}, {"measurand": "Voltage", "phase": "L3", "unit_of_measure": {"unit": "V"}, "value": 232.974335}, {"measurand": "Current.Import", "unit_of_measure": {"unit": "A"}, "value": 0.067046}, {"measurand": "Current.Import", "phase": "L1", "unit_of_measure": {"unit": "A"}, "value": 0.006982}, {"measurand": "Current.Import", "phase": "L2", "unit_of_measure": {"unit": "A"}, "value": 0.014364}, {"measurand": "Current.Import", "phase": "L3", "unit_of_measure": {"unit": "A"}, "value": 0.0457}, {"measurand": "Power.Active.Import", "unit_of_measure": {"unit": "W"}, "value": 15.620024}, {"measurand": "Power.Factor", "phase": "L1", "value": 0.175638}, {"measurand": "Power.Factor", "phase": "L2", "value": 0.215709}, {"measurand": "Power.Factor", "phase": "L3", "value": 0.0}], "timestamp": "2023-03-29T09:58:00Z"}], "seq_no": 2, "timestamp": "2023-03-29T09:58:00Z", "transaction_info": {"custom_data": {"time_spent_connected": 20, "vendor_id": "com.chargepoint"}, "time_spent_charging": 0, "transaction_id": "5125388532365837173"}, "trigger_reason": "MeterValuePeriodic"}, "cp_id": "cp6k", "status": null}
INFO:ocpp:cp6k: send [3,"fd4351712826753a443aeb35df65aa8b",{}]
API - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'TransactionEvent', 'type': 'ocpp_log', 'content': {'event_type': 'Updated', 'evse': {'connector_id': 1, 'id': 1}, 'meter_value': [{'sampled_value': [{'measurand': 'Energy.Active.Import.Register', 'unit_of_measure': {'unit': 'Wh'}, 'value': 545.228795}, {'measurand': 'Voltage', 'unit_of_measure': {'unit': 'V'}, 'value': 232.974335}, {'measurand': 'Voltage', 'phase': 'L1', 'unit_of_measure': {'unit': 'V'}, 'value': 232.973511}, {'measurand': 'Voltage', 'phase': 'L2', 'unit_of_measure': {'unit': 'V'}, 'value': 232.973724}, {'measurand': 'Voltage', 'phase': 'L3', 'unit_of_measure': {'unit': 'V'}, 'value': 232.974335}, {'measurand': 'Current.Import', 'unit_of_measure': {'unit': 'A'}, 'value': 0.067046}, {'measurand': 'Current.Import', 'phase': 'L1', 'unit_of_measure': {'unit': 'A'}, 'value': 0.006982}, {'measurand': 'Current.Import', 'phase': 'L2', 'unit_of_measure': {'unit': 'A'}, 'value': 0.014364}, {'measurand': 'Current.Import', 'phase': 'L3', 'unit_of_measure': {'unit': 'A'}, 'value': 0.0457}, {'measurand': 'Power.Active.Import', 'unit_of_measure': {'unit': 'W'}, 'value': 15.620024}, {'measurand': 'Power.Factor', 'phase': 'L1', 'value': 0.175638}, {'measurand': 'Power.Factor', 'phase': 'L2', 'value': 0.215709}, {'measurand': 'Power.Factor', 'phase': 'L3', 'value': 0.0}], 'timestamp': '2023-03-29T09:58:00Z'}], 'seq_no': 2, 'timestamp': '2023-03-29T09:58:00Z', 'transaction_info': {'custom_data': {'time_spent_connected': 20, 'vendor_id': 'com.chargepoint'}, 'time_spent_charging': 0, 'transaction_id': '5125388532365837173'}, 'trigger_reason': 'MeterValuePeriodic'}, 'cp_id': 'cp6k', 'status': None}
SQL_DB - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'TransactionEvent', 'type': 'ocpp_log', 'content': {'event_type': 'Updated', 'evse': {'connector_id': 1, 'id': 1}, 'meter_value': [{'sampled_value': [{'measurand': 'Energy.Active.Import.Register', 'unit_of_measure': {'unit': 'Wh'}, 'value': 545.228795}, {'measurand': 'Voltage', 'unit_of_measure': {'unit': 'V'}, 'value': 232.974335}, {'measurand': 'Voltage', 'phase': 'L1', 'unit_of_measure': {'unit': 'V'}, 'value': 232.973511}, {'measurand': 'Voltage', 'phase': 'L2', 'unit_of_measure': {'unit': 'V'}, 'value': 232.973724}, {'measurand': 'Voltage', 'phase': 'L3', 'unit_of_measure': {'unit': 'V'}, 'value': 232.974335}, {'measurand': 'Current.Import', 'unit_of_measure': {'unit': 'A'}, 'value': 0.067046}, {'measurand': 'Current.Import', 'phase': 'L1', 'unit_of_measure': {'unit': 'A'}, 'value': 0.006982}, {'measurand': 'Current.Import', 'phase': 'L2', 'unit_of_measure': {'unit': 'A'}, 'value': 0.014364}, {'measurand': 'Current.Import', 'phase': 'L3', 'unit_of_measure': {'unit': 'A'}, 'value': 0.0457}, {'measurand': 'Power.Active.Import', 'unit_of_measure': {'unit': 'W'}, 'value': 15.620024}, {'measurand': 'Power.Factor', 'phase': 'L1', 'value': 0.175638}, {'measurand': 'Power.Factor', 'phase': 'L2', 'value': 0.215709}, {'measurand': 'Power.Factor', 'phase': 'L3', 'value': 0.0}], 'timestamp': '2023-03-29T09:58:00Z'}], 'seq_no': 2, 'timestamp': '2023-03-29T09:58:00Z', 'transaction_info': {'custom_data': {'time_spent_connected': 20, 'vendor_id': 'com.chargepoint'}, 'time_spent_charging': 0, 'transaction_id': '5125388532365837173'}, 'trigger_reason': 'MeterValuePeriodic'}, 'cp_id': 'cp6k', 'status': None}
SQL_DB - ERROR - Traceback (most recent call last):
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/rabbit_mq/rabbit_handler.py", line 122, in on_request
    response_content = await self.handle_request(request)
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/CSMS/db/db.py", line 78, in on_db_request
    raise e
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/CSMS/db/db.py", line 70, in on_db_request
    toReturn = method(cp_id=request.cp_id, **request.content)
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/CSMS/db/db.py", line 308, in TransactionEvent
    transaction = Transaction(**transaction_info)
  File "<string>", line 4, in __init__
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/orm/state.py", line 481, in _initialize_instance
    with util.safe_reraise():
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/util/compat.py", line 208, in raise_
    raise exception
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/orm/state.py", line 479, in _initialize_instance
    return manager.original_init(*mixed[1:], **kwargs)
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/CSMS/db/database_Base.py", line 29, in __init__
    super().__init__(**kwargs)
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/orm/decl_base.py", line 1197, in _declarative_constructor
    raise TypeError(
TypeError: 'custom_data' is an invalid keyword argument for Transaction

INFO:ocpp:cp6k: receive message [2,"a87a7946df791d872d39d226a9412450","TransactionEvent",{"eventType":"Updated","evse":{"connectorId":1,"id":1},"meterValue":[{"sampledValue":[{"measurand":"Energy.Active.Import.Register","unitOfMeasure":{"unit":"Wh"},"value":545.256691},{"measurand":"Voltage","unitOfMeasure":{"unit":"V"},"value":232.646225},{"measurand":"Voltage","phase":"L1","unitOfMeasure":{"unit":"V"},"value":232.645691},{"measurand":"Voltage","phase":"L2","unitOfMeasure":{"unit":"V"},"value":232.645538},{"measurand":"Voltage","phase":"L3","unitOfMeasure":{"unit":"V"},"value":232.646225},{"measurand":"Current.Import","unitOfMeasure":{"unit":"A"},"value":0.066888},{"measurand":"Current.Import","phase":"L1","unitOfMeasure":{"unit":"A"},"value":0.006983},{"measurand":"Current.Import","phase":"L2","unitOfMeasure":{"unit":"A"},"value":0.014398},{"measurand":"Current.Import","phase":"L3","unitOfMeasure":{"unit":"A"},"value":0.045508},{"measurand":"Power.Active.Import","unitOfMeasure":{"unit":"W"},"value":15.561226},{"measurand":"Power.Factor","phase":"L1","value":0.144765},{"measurand":"Power.Factor","phase":"L2","value":0.185282},{"measurand":"Power.Factor","phase":"L3","value":0.0}],"timestamp":"2023-03-29T09:58:20Z"}],"seqNo":3,"timestamp":"2023-03-29T09:58:20Z","transactionInfo":{"customData":{"timeSpentConnected":40,"vendorId":"com.chargepoint"},"timeSpentCharging":0,"transactionId":"5125388532365837173"},"triggerReason":"MeterValuePeriodic"}]
INFO:Ocpp_Server:RabbitMQ SENDING Message: {"destination": null, "origin": "Ocpp_Server", "method": "TransactionEvent", "type": "ocpp_log", "content": {"event_type": "Updated", "evse": {"connector_id": 1, "id": 1}, "meter_value": [{"sampled_value": [{"measurand": "Energy.Active.Import.Register", "unit_of_measure": {"unit": "Wh"}, "value": 545.256691}, {"measurand": "Voltage", "unit_of_measure": {"unit": "V"}, "value": 232.646225}, {"measurand": "Voltage", "phase": "L1", "unit_of_measure": {"unit": "V"}, "value": 232.645691}, {"measurand": "Voltage", "phase": "L2", "unit_of_measure": {"unit": "V"}, "value": 232.645538}, {"measurand": "Voltage", "phase": "L3", "unit_of_measure": {"unit": "V"}, "value": 232.646225}, {"measurand": "Current.Import", "unit_of_measure": {"unit": "A"}, "value": 0.066888}, {"measurand": "Current.Import", "phase": "L1", "unit_of_measure": {"unit": "A"}, "value": 0.006983}, {"measurand": "Current.Import", "phase": "L2", "unit_of_measure": {"unit": "A"}, "value": 0.014398}, {"measurand": "Current.Import", "phase": "L3", "unit_of_measure": {"unit": "A"}, "value": 0.045508}, {"measurand": "Power.Active.Import", "unit_of_measure": {"unit": "W"}, "value": 15.561226}, {"measurand": "Power.Factor", "phase": "L1", "value": 0.144765}, {"measurand": "Power.Factor", "phase": "L2", "value": 0.185282}, {"measurand": "Power.Factor", "phase": "L3", "value": 0.0}], "timestamp": "2023-03-29T09:58:20Z"}], "seq_no": 3, "timestamp": "2023-03-29T09:58:20Z", "transaction_info": {"custom_data": {"time_spent_connected": 40, "vendor_id": "com.chargepoint"}, "time_spent_charging": 0, "transaction_id": "5125388532365837173"}, "trigger_reason": "MeterValuePeriodic"}, "cp_id": "cp6k", "status": null}
INFO:ocpp:cp6k: send [3,"a87a7946df791d872d39d226a9412450",{}]
API - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'TransactionEvent', 'type': 'ocpp_log', 'content': {'event_type': 'Updated', 'evse': {'connector_id': 1, 'id': 1}, 'meter_value': [{'sampled_value': [{'measurand': 'Energy.Active.Import.Register', 'unit_of_measure': {'unit': 'Wh'}, 'value': 545.256691}, {'measurand': 'Voltage', 'unit_of_measure': {'unit': 'V'}, 'value': 232.646225}, {'measurand': 'Voltage', 'phase': 'L1', 'unit_of_measure': {'unit': 'V'}, 'value': 232.645691}, {'measurand': 'Voltage', 'phase': 'L2', 'unit_of_measure': {'unit': 'V'}, 'value': 232.645538}, {'measurand': 'Voltage', 'phase': 'L3', 'unit_of_measure': {'unit': 'V'}, 'value': 232.646225}, {'measurand': 'Current.Import', 'unit_of_measure': {'unit': 'A'}, 'value': 0.066888}, {'measurand': 'Current.Import', 'phase': 'L1', 'unit_of_measure': {'unit': 'A'}, 'value': 0.006983}, {'measurand': 'Current.Import', 'phase': 'L2', 'unit_of_measure': {'unit': 'A'}, 'value': 0.014398}, {'measurand': 'Current.Import', 'phase': 'L3', 'unit_of_measure': {'unit': 'A'}, 'value': 0.045508}, {'measurand': 'Power.Active.Import', 'unit_of_measure': {'unit': 'W'}, 'value': 15.561226}, {'measurand': 'Power.Factor', 'phase': 'L1', 'value': 0.144765}, {'measurand': 'Power.Factor', 'phase': 'L2', 'value': 0.185282}, {'measurand': 'Power.Factor', 'phase': 'L3', 'value': 0.0}], 'timestamp': '2023-03-29T09:58:20Z'}], 'seq_no': 3, 'timestamp': '2023-03-29T09:58:20Z', 'transaction_info': {'custom_data': {'time_spent_connected': 40, 'vendor_id': 'com.chargepoint'}, 'time_spent_charging': 0, 'transaction_id': '5125388532365837173'}, 'trigger_reason': 'MeterValuePeriodic'}, 'cp_id': 'cp6k', 'status': None}
SQL_DB - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'TransactionEvent', 'type': 'ocpp_log', 'content': {'event_type': 'Updated', 'evse': {'connector_id': 1, 'id': 1}, 'meter_value': [{'sampled_value': [{'measurand': 'Energy.Active.Import.Register', 'unit_of_measure': {'unit': 'Wh'}, 'value': 545.256691}, {'measurand': 'Voltage', 'unit_of_measure': {'unit': 'V'}, 'value': 232.646225}, {'measurand': 'Voltage', 'phase': 'L1', 'unit_of_measure': {'unit': 'V'}, 'value': 232.645691}, {'measurand': 'Voltage', 'phase': 'L2', 'unit_of_measure': {'unit': 'V'}, 'value': 232.645538}, {'measurand': 'Voltage', 'phase': 'L3', 'unit_of_measure': {'unit': 'V'}, 'value': 232.646225}, {'measurand': 'Current.Import', 'unit_of_measure': {'unit': 'A'}, 'value': 0.066888}, {'measurand': 'Current.Import', 'phase': 'L1', 'unit_of_measure': {'unit': 'A'}, 'value': 0.006983}, {'measurand': 'Current.Import', 'phase': 'L2', 'unit_of_measure': {'unit': 'A'}, 'value': 0.014398}, {'measurand': 'Current.Import', 'phase': 'L3', 'unit_of_measure': {'unit': 'A'}, 'value': 0.045508}, {'measurand': 'Power.Active.Import', 'unit_of_measure': {'unit': 'W'}, 'value': 15.561226}, {'measurand': 'Power.Factor', 'phase': 'L1', 'value': 0.144765}, {'measurand': 'Power.Factor', 'phase': 'L2', 'value': 0.185282}, {'measurand': 'Power.Factor', 'phase': 'L3', 'value': 0.0}], 'timestamp': '2023-03-29T09:58:20Z'}], 'seq_no': 3, 'timestamp': '2023-03-29T09:58:20Z', 'transaction_info': {'custom_data': {'time_spent_connected': 40, 'vendor_id': 'com.chargepoint'}, 'time_spent_charging': 0, 'transaction_id': '5125388532365837173'}, 'trigger_reason': 'MeterValuePeriodic'}, 'cp_id': 'cp6k', 'status': None}
SQL_DB - ERROR - Traceback (most recent call last):
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/rabbit_mq/rabbit_handler.py", line 122, in on_request
    response_content = await self.handle_request(request)
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/CSMS/db/db.py", line 78, in on_db_request
    raise e
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/CSMS/db/db.py", line 70, in on_db_request
    toReturn = method(cp_id=request.cp_id, **request.content)
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/CSMS/db/db.py", line 308, in TransactionEvent
    transaction = Transaction(**transaction_info)
  File "<string>", line 4, in __init__
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/orm/state.py", line 481, in _initialize_instance
    with util.safe_reraise():
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/util/compat.py", line 208, in raise_
    raise exception
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/orm/state.py", line 479, in _initialize_instance
    return manager.original_init(*mixed[1:], **kwargs)
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/CSMS/db/database_Base.py", line 29, in __init__
    super().__init__(**kwargs)
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/orm/decl_base.py", line 1197, in _declarative_constructor
    raise TypeError(
TypeError: 'custom_data' is an invalid keyword argument for Transaction

INFO:ocpp:cp6k: receive message [2,"5b9e70d38f8a3c359af5e3d29eab3e7c","Heartbeat",{"customData":{"rsrp":-93.0,"rsrq":-13.0,"rssi":-63.0,"snr":6.0,"vendorId":"com.chargepoint"}}]
INFO:ocpp:cp6k: send [3,"5b9e70d38f8a3c359af5e3d29eab3e7c",{"currentTime":"2023-03-29T09:58:23.712690"}]
INFO:ocpp:cp6k: receive message [2,"12ee868087c6f7b6a313bec9be58f735","TransactionEvent",{"eventType":"Updated","evse":{"connectorId":1,"id":1},"meterValue":[{"sampledValue":[{"measurand":"Energy.Active.Import.Register","unitOfMeasure":{"unit":"Wh"},"value":545.285996},{"measurand":"Voltage","unitOfMeasure":{"unit":"V"},"value":233.072067},{"measurand":"Voltage","phase":"L1","unitOfMeasure":{"unit":"V"},"value":233.071732},{"measurand":"Voltage","phase":"L2","unitOfMeasure":{"unit":"V"},"value":233.071503},{"measurand":"Voltage","phase":"L3","unitOfMeasure":{"unit":"V"},"value":233.072067},{"measurand":"Current.Import","unitOfMeasure":{"unit":"A"},"value":0.066919},{"measurand":"Current.Import","phase":"L1","unitOfMeasure":{"unit":"A"},"value":0.006994},{"measurand":"Current.Import","phase":"L2","unitOfMeasure":{"unit":"A"},"value":0.0144},{"measurand":"Current.Import","phase":"L3","unitOfMeasure":{"unit":"A"},"value":0.045525},{"measurand":"Power.Active.Import","unitOfMeasure":{"unit":"W"},"value":15.596994},{"measurand":"Power.Factor","phase":"L1","value":0.144765},{"measurand":"Power.Factor","phase":"L2","value":0.185282},{"measurand":"Power.Factor","phase":"L3","value":0.0}],"timestamp":"2023-03-29T09:58:40Z"}],"seqNo":4,"timestamp":"2023-03-29T09:58:40Z","transactionInfo":{"customData":{"timeSpentConnected":60,"vendorId":"com.chargepoint"},"timeSpentCharging":0,"transactionId":"5125388532365837173"},"triggerReason":"MeterValuePeriodic"}]
INFO:Ocpp_Server:RabbitMQ SENDING Message: {"destination": null, "origin": "Ocpp_Server", "method": "TransactionEvent", "type": "ocpp_log", "content": {"event_type": "Updated", "evse": {"connector_id": 1, "id": 1}, "meter_value": [{"sampled_value": [{"measurand": "Energy.Active.Import.Register", "unit_of_measure": {"unit": "Wh"}, "value": 545.285996}, {"measurand": "Voltage", "unit_of_measure": {"unit": "V"}, "value": 233.072067}, {"measurand": "Voltage", "phase": "L1", "unit_of_measure": {"unit": "V"}, "value": 233.071732}, {"measurand": "Voltage", "phase": "L2", "unit_of_measure": {"unit": "V"}, "value": 233.071503}, {"measurand": "Voltage", "phase": "L3", "unit_of_measure": {"unit": "V"}, "value": 233.072067}, {"measurand": "Current.Import", "unit_of_measure": {"unit": "A"}, "value": 0.066919}, {"measurand": "Current.Import", "phase": "L1", "unit_of_measure": {"unit": "A"}, "value": 0.006994}, {"measurand": "Current.Import", "phase": "L2", "unit_of_measure": {"unit": "A"}, "value": 0.0144}, {"measurand": "Current.Import", "phase": "L3", "unit_of_measure": {"unit": "A"}, "value": 0.045525}, {"measurand": "Power.Active.Import", "unit_of_measure": {"unit": "W"}, "value": 15.596994}, {"measurand": "Power.Factor", "phase": "L1", "value": 0.144765}, {"measurand": "Power.Factor", "phase": "L2", "value": 0.185282}, {"measurand": "Power.Factor", "phase": "L3", "value": 0.0}], "timestamp": "2023-03-29T09:58:40Z"}], "seq_no": 4, "timestamp": "2023-03-29T09:58:40Z", "transaction_info": {"custom_data": {"time_spent_connected": 60, "vendor_id": "com.chargepoint"}, "time_spent_charging": 0, "transaction_id": "5125388532365837173"}, "trigger_reason": "MeterValuePeriodic"}, "cp_id": "cp6k", "status": null}
INFO:ocpp:cp6k: send [3,"12ee868087c6f7b6a313bec9be58f735",{}]
API - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'TransactionEvent', 'type': 'ocpp_log', 'content': {'event_type': 'Updated', 'evse': {'connector_id': 1, 'id': 1}, 'meter_value': [{'sampled_value': [{'measurand': 'Energy.Active.Import.Register', 'unit_of_measure': {'unit': 'Wh'}, 'value': 545.285996}, {'measurand': 'Voltage', 'unit_of_measure': {'unit': 'V'}, 'value': 233.072067}, {'measurand': 'Voltage', 'phase': 'L1', 'unit_of_measure': {'unit': 'V'}, 'value': 233.071732}, {'measurand': 'Voltage', 'phase': 'L2', 'unit_of_measure': {'unit': 'V'}, 'value': 233.071503}, {'measurand': 'Voltage', 'phase': 'L3', 'unit_of_measure': {'unit': 'V'}, 'value': 233.072067}, {'measurand': 'Current.Import', 'unit_of_measure': {'unit': 'A'}, 'value': 0.066919}, {'measurand': 'Current.Import', 'phase': 'L1', 'unit_of_measure': {'unit': 'A'}, 'value': 0.006994}, {'measurand': 'Current.Import', 'phase': 'L2', 'unit_of_measure': {'unit': 'A'}, 'value': 0.0144}, {'measurand': 'Current.Import', 'phase': 'L3', 'unit_of_measure': {'unit': 'A'}, 'value': 0.045525}, {'measurand': 'Power.Active.Import', 'unit_of_measure': {'unit': 'W'}, 'value': 15.596994}, {'measurand': 'Power.Factor', 'phase': 'L1', 'value': 0.144765}, {'measurand': 'Power.Factor', 'phase': 'L2', 'value': 0.185282}, {'measurand': 'Power.Factor', 'phase': 'L3', 'value': 0.0}], 'timestamp': '2023-03-29T09:58:40Z'}], 'seq_no': 4, 'timestamp': '2023-03-29T09:58:40Z', 'transaction_info': {'custom_data': {'time_spent_connected': 60, 'vendor_id': 'com.chargepoint'}, 'time_spent_charging': 0, 'transaction_id': '5125388532365837173'}, 'trigger_reason': 'MeterValuePeriodic'}, 'cp_id': 'cp6k', 'status': None}
SQL_DB - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'TransactionEvent', 'type': 'ocpp_log', 'content': {'event_type': 'Updated', 'evse': {'connector_id': 1, 'id': 1}, 'meter_value': [{'sampled_value': [{'measurand': 'Energy.Active.Import.Register', 'unit_of_measure': {'unit': 'Wh'}, 'value': 545.285996}, {'measurand': 'Voltage', 'unit_of_measure': {'unit': 'V'}, 'value': 233.072067}, {'measurand': 'Voltage', 'phase': 'L1', 'unit_of_measure': {'unit': 'V'}, 'value': 233.071732}, {'measurand': 'Voltage', 'phase': 'L2', 'unit_of_measure': {'unit': 'V'}, 'value': 233.071503}, {'measurand': 'Voltage', 'phase': 'L3', 'unit_of_measure': {'unit': 'V'}, 'value': 233.072067}, {'measurand': 'Current.Import', 'unit_of_measure': {'unit': 'A'}, 'value': 0.066919}, {'measurand': 'Current.Import', 'phase': 'L1', 'unit_of_measure': {'unit': 'A'}, 'value': 0.006994}, {'measurand': 'Current.Import', 'phase': 'L2', 'unit_of_measure': {'unit': 'A'}, 'value': 0.0144}, {'measurand': 'Current.Import', 'phase': 'L3', 'unit_of_measure': {'unit': 'A'}, 'value': 0.045525}, {'measurand': 'Power.Active.Import', 'unit_of_measure': {'unit': 'W'}, 'value': 15.596994}, {'measurand': 'Power.Factor', 'phase': 'L1', 'value': 0.144765}, {'measurand': 'Power.Factor', 'phase': 'L2', 'value': 0.185282}, {'measurand': 'Power.Factor', 'phase': 'L3', 'value': 0.0}], 'timestamp': '2023-03-29T09:58:40Z'}], 'seq_no': 4, 'timestamp': '2023-03-29T09:58:40Z', 'transaction_info': {'custom_data': {'time_spent_connected': 60, 'vendor_id': 'com.chargepoint'}, 'time_spent_charging': 0, 'transaction_id': '5125388532365837173'}, 'trigger_reason': 'MeterValuePeriodic'}, 'cp_id': 'cp6k', 'status': None}
SQL_DB - ERROR - Traceback (most recent call last):
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/rabbit_mq/rabbit_handler.py", line 122, in on_request
    response_content = await self.handle_request(request)
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/CSMS/db/db.py", line 78, in on_db_request
    raise e
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/CSMS/db/db.py", line 70, in on_db_request
    toReturn = method(cp_id=request.cp_id, **request.content)
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/CSMS/db/db.py", line 308, in TransactionEvent
    transaction = Transaction(**transaction_info)
  File "<string>", line 4, in __init__
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/orm/state.py", line 481, in _initialize_instance
    with util.safe_reraise():
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/util/compat.py", line 208, in raise_
    raise exception
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/orm/state.py", line 479, in _initialize_instance
    return manager.original_init(*mixed[1:], **kwargs)
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/CSMS/db/database_Base.py", line 29, in __init__
    super().__init__(**kwargs)
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/orm/decl_base.py", line 1197, in _declarative_constructor
    raise TypeError(
TypeError: 'custom_data' is an invalid keyword argument for Transaction

INFO:ocpp:cp6k: receive message [2,"f00e1fb71e5398448e6e1cee04a4846f","Heartbeat",{"customData":{"rsrp":-93.0,"rsrq":-13.0,"rssi":-63.0,"snr":4.6000000000000005,"vendorId":"com.chargepoint"}}]
INFO:ocpp:cp6k: send [3,"f00e1fb71e5398448e6e1cee04a4846f",{"currentTime":"2023-03-29T09:58:53.514799"}]
API - INFO - RabbitMQ SENDING Message: {"destination": "SQL_DB", "origin": "API", "method": "select", "type": "request", "content": {"table": "Transaction", "filters": {"transaction_id": "5125388532365837173"}, "mode": {"charging_profile": {}}}, "cp_id": null, "status": null}
SQL_DB - INFO - RECEIVED: {'destination': 'SQL_DB', 'origin': 'API', 'method': 'select', 'type': 'request', 'content': {'table': 'Transaction', 'filters': {'transaction_id': '5125388532365837173'}, 'mode': {'charging_profile': {}}}, 'cp_id': None, 'status': None}
SQL_DB - INFO - RabbitMQ SENDING Message: {"destination": "API", "origin": "SQL_DB", "method": "select", "type": "response", "content": [], "cp_id": null, "status": "OK"}
API - INFO - RESPONSE: {'destination': 'API', 'origin': 'SQL_DB', 'method': 'select', 'type': 'response', 'content': [], 'cp_id': None, 'status': 'OK'}
INFO:     127.0.0.1:45204 - "POST /setmaxpower?transaction_id=5125388532365837173&max_power=5 HTTP/1.1" 400 Bad Request
INFO:ocpp:cp6k: receive message [2,"a30a422960d4cf460184fa9bfcae884d","TransactionEvent",{"eventType":"Updated","evse":{"connectorId":1,"id":1},"meterValue":[{"sampledValue":[{"measurand":"Energy.Active.Import.Register","unitOfMeasure":{"unit":"Wh"},"value":545.315295},{"measurand":"Voltage","unitOfMeasure":{"unit":"V"},"value":232.339111},{"measurand":"Voltage","phase":"L1","unitOfMeasure":{"unit":"V"},"value":232.338165},{"measurand":"Voltage","phase":"L2","unitOfMeasure":{"unit":"V"},"value":232.338058},{"measurand":"Voltage","phase":"L3","unitOfMeasure":{"unit":"V"},"value":232.339111},{"measurand":"Current.Import","unitOfMeasure":{"unit":"A"},"value":0.066785},{"measurand":"Current.Import","phase":"L1","unitOfMeasure":{"unit":"A"},"value":0.006932},{"measurand":"Current.Import","phase":"L2","unitOfMeasure":{"unit":"A"},"value":0.014306},{"measurand":"Current.Import","phase":"L3","unitOfMeasure":{"unit":"A"},"value":0.045546},{"measurand":"Power.Active.Import","unitOfMeasure":{"unit":"W"},"value":15.516662},{"measurand":"Power.Factor","phase":"L1","value":0.102326},{"measurand":"Power.Factor","phase":"L2","value":0.140092},{"measurand":"Power.Factor","phase":"L3","value":0.0}],"timestamp":"2023-03-29T09:59:00Z"}],"seqNo":5,"timestamp":"2023-03-29T09:59:00Z","transactionInfo":{"customData":{"timeSpentConnected":80,"vendorId":"com.chargepoint"},"timeSpentCharging":0,"transactionId":"5125388532365837173"},"triggerReason":"MeterValuePeriodic"}]
INFO:Ocpp_Server:RabbitMQ SENDING Message: {"destination": null, "origin": "Ocpp_Server", "method": "TransactionEvent", "type": "ocpp_log", "content": {"event_type": "Updated", "evse": {"connector_id": 1, "id": 1}, "meter_value": [{"sampled_value": [{"measurand": "Energy.Active.Import.Register", "unit_of_measure": {"unit": "Wh"}, "value": 545.315295}, {"measurand": "Voltage", "unit_of_measure": {"unit": "V"}, "value": 232.339111}, {"measurand": "Voltage", "phase": "L1", "unit_of_measure": {"unit": "V"}, "value": 232.338165}, {"measurand": "Voltage", "phase": "L2", "unit_of_measure": {"unit": "V"}, "value": 232.338058}, {"measurand": "Voltage", "phase": "L3", "unit_of_measure": {"unit": "V"}, "value": 232.339111}, {"measurand": "Current.Import", "unit_of_measure": {"unit": "A"}, "value": 0.066785}, {"measurand": "Current.Import", "phase": "L1", "unit_of_measure": {"unit": "A"}, "value": 0.006932}, {"measurand": "Current.Import", "phase": "L2", "unit_of_measure": {"unit": "A"}, "value": 0.014306}, {"measurand": "Current.Import", "phase": "L3", "unit_of_measure": {"unit": "A"}, "value": 0.045546}, {"measurand": "Power.Active.Import", "unit_of_measure": {"unit": "W"}, "value": 15.516662}, {"measurand": "Power.Factor", "phase": "L1", "value": 0.102326}, {"measurand": "Power.Factor", "phase": "L2", "value": 0.140092}, {"measurand": "Power.Factor", "phase": "L3", "value": 0.0}], "timestamp": "2023-03-29T09:59:00Z"}], "seq_no": 5, "timestamp": "2023-03-29T09:59:00Z", "transaction_info": {"custom_data": {"time_spent_connected": 80, "vendor_id": "com.chargepoint"}, "time_spent_charging": 0, "transaction_id": "5125388532365837173"}, "trigger_reason": "MeterValuePeriodic"}, "cp_id": "cp6k", "status": null}
INFO:ocpp:cp6k: send [3,"a30a422960d4cf460184fa9bfcae884d",{}]
SQL_DB - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'TransactionEvent', 'type': 'ocpp_log', 'content': {'event_type': 'Updated', 'evse': {'connector_id': 1, 'id': 1}, 'meter_value': [{'sampled_value': [{'measurand': 'Energy.Active.Import.Register', 'unit_of_measure': {'unit': 'Wh'}, 'value': 545.315295}, {'measurand': 'Voltage', 'unit_of_measure': {'unit': 'V'}, 'value': 232.339111}, {'measurand': 'Voltage', 'phase': 'L1', 'unit_of_measure': {'unit': 'V'}, 'value': 232.338165}, {'measurand': 'Voltage', 'phase': 'L2', 'unit_of_measure': {'unit': 'V'}, 'value': 232.338058}, {'measurand': 'Voltage', 'phase': 'L3', 'unit_of_measure': {'unit': 'V'}, 'value': 232.339111}, {'measurand': 'Current.Import', 'unit_of_measure': {'unit': 'A'}, 'value': 0.066785}, {'measurand': 'Current.Import', 'phase': 'L1', 'unit_of_measure': {'unit': 'A'}, 'value': 0.006932}, {'measurand': 'Current.Import', 'phase': 'L2', 'unit_of_measure': {'unit': 'A'}, 'value': 0.014306}, {'measurand': 'Current.Import', 'phase': 'L3', 'unit_of_measure': {'unit': 'A'}, 'value': 0.045546}, {'measurand': 'Power.Active.Import', 'unit_of_measure': {'unit': 'W'}, 'value': 15.516662}, {'measurand': 'Power.Factor', 'phase': 'L1', 'value': 0.102326}, {'measurand': 'Power.Factor', 'phase': 'L2', 'value': 0.140092}, {'measurand': 'Power.Factor', 'phase': 'L3', 'value': 0.0}], 'timestamp': '2023-03-29T09:59:00Z'}], 'seq_no': 5, 'timestamp': '2023-03-29T09:59:00Z', 'transaction_info': {'custom_data': {'time_spent_connected': 80, 'vendor_id': 'com.chargepoint'}, 'time_spent_charging': 0, 'transaction_id': '5125388532365837173'}, 'trigger_reason': 'MeterValuePeriodic'}, 'cp_id': 'cp6k', 'status': None}
API - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'TransactionEvent', 'type': 'ocpp_log', 'content': {'event_type': 'Updated', 'evse': {'connector_id': 1, 'id': 1}, 'meter_value': [{'sampled_value': [{'measurand': 'Energy.Active.Import.Register', 'unit_of_measure': {'unit': 'Wh'}, 'value': 545.315295}, {'measurand': 'Voltage', 'unit_of_measure': {'unit': 'V'}, 'value': 232.339111}, {'measurand': 'Voltage', 'phase': 'L1', 'unit_of_measure': {'unit': 'V'}, 'value': 232.338165}, {'measurand': 'Voltage', 'phase': 'L2', 'unit_of_measure': {'unit': 'V'}, 'value': 232.338058}, {'measurand': 'Voltage', 'phase': 'L3', 'unit_of_measure': {'unit': 'V'}, 'value': 232.339111}, {'measurand': 'Current.Import', 'unit_of_measure': {'unit': 'A'}, 'value': 0.066785}, {'measurand': 'Current.Import', 'phase': 'L1', 'unit_of_measure': {'unit': 'A'}, 'value': 0.006932}, {'measurand': 'Current.Import', 'phase': 'L2', 'unit_of_measure': {'unit': 'A'}, 'value': 0.014306}, {'measurand': 'Current.Import', 'phase': 'L3', 'unit_of_measure': {'unit': 'A'}, 'value': 0.045546}, {'measurand': 'Power.Active.Import', 'unit_of_measure': {'unit': 'W'}, 'value': 15.516662}, {'measurand': 'Power.Factor', 'phase': 'L1', 'value': 0.102326}, {'measurand': 'Power.Factor', 'phase': 'L2', 'value': 0.140092}, {'measurand': 'Power.Factor', 'phase': 'L3', 'value': 0.0}], 'timestamp': '2023-03-29T09:59:00Z'}], 'seq_no': 5, 'timestamp': '2023-03-29T09:59:00Z', 'transaction_info': {'custom_data': {'time_spent_connected': 80, 'vendor_id': 'com.chargepoint'}, 'time_spent_charging': 0, 'transaction_id': '5125388532365837173'}, 'trigger_reason': 'MeterValuePeriodic'}, 'cp_id': 'cp6k', 'status': None}
SQL_DB - ERROR - Traceback (most recent call last):
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/rabbit_mq/rabbit_handler.py", line 122, in on_request
    response_content = await self.handle_request(request)
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/CSMS/db/db.py", line 78, in on_db_request
    raise e
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/CSMS/db/db.py", line 70, in on_db_request
    toReturn = method(cp_id=request.cp_id, **request.content)
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/CSMS/db/db.py", line 308, in TransactionEvent
    transaction = Transaction(**transaction_info)
  File "<string>", line 4, in __init__
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/orm/state.py", line 481, in _initialize_instance
    with util.safe_reraise():
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/util/compat.py", line 208, in raise_
    raise exception
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/orm/state.py", line 479, in _initialize_instance
    return manager.original_init(*mixed[1:], **kwargs)
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/CSMS/db/database_Base.py", line 29, in __init__
    super().__init__(**kwargs)
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/orm/decl_base.py", line 1197, in _declarative_constructor
    raise TypeError(
TypeError: 'custom_data' is an invalid keyword argument for Transaction

INFO:ocpp:cp6k: receive message [2,"791efec5df56bbb7ab4d3ae5897933bd","TransactionEvent",{"eventType":"Updated","evse":{"connectorId":1,"id":1},"meterValue":[{"sampledValue":[{"measurand":"Energy.Active.Import.Register","unitOfMeasure":{"unit":"Wh"},"value":545.344524},{"measurand":"Voltage","unitOfMeasure":{"unit":"V"},"value":230.54715},{"measurand":"Voltage","phase":"L1","unitOfMeasure":{"unit":"V"},"value":230.546417},{"measurand":"Voltage","phase":"L2","unitOfMeasure":{"unit":"V"},"value":230.546234},{"measurand":"Voltage","phase":"L3","unitOfMeasure":{"unit":"V"},"value":230.54715},{"measurand":"Current.Import","unitOfMeasure":{"unit":"A"},"value":0.066645},{"measurand":"Current.Import","phase":"L1","unitOfMeasure":{"unit":"A"},"value":0.006897},{"measurand":"Current.Import","phase":"L2","unitOfMeasure":{"unit":"A"},"value":0.014238},{"measurand":"Current.Import","phase":"L3","unitOfMeasure":{"unit":"A"},"value":0.045511},{"measurand":"Power.Active.Import","unitOfMeasure":{"unit":"W"},"value":15.364882},{"measurand":"Power.Factor","phase":"L1","value":0.104549},{"measurand":"Power.Factor","phase":"L2","value":0.143922},{"measurand":"Power.Factor","phase":"L3","value":0.0}],"timestamp":"2023-03-29T09:59:20Z"}],"seqNo":6,"timestamp":"2023-03-29T09:59:20Z","transactionInfo":{"customData":{"timeSpentConnected":100,"vendorId":"com.chargepoint"},"timeSpentCharging":0,"transactionId":"5125388532365837173"},"triggerReason":"MeterValuePeriodic"}]
INFO:Ocpp_Server:RabbitMQ SENDING Message: {"destination": null, "origin": "Ocpp_Server", "method": "TransactionEvent", "type": "ocpp_log", "content": {"event_type": "Updated", "evse": {"connector_id": 1, "id": 1}, "meter_value": [{"sampled_value": [{"measurand": "Energy.Active.Import.Register", "unit_of_measure": {"unit": "Wh"}, "value": 545.344524}, {"measurand": "Voltage", "unit_of_measure": {"unit": "V"}, "value": 230.54715}, {"measurand": "Voltage", "phase": "L1", "unit_of_measure": {"unit": "V"}, "value": 230.546417}, {"measurand": "Voltage", "phase": "L2", "unit_of_measure": {"unit": "V"}, "value": 230.546234}, {"measurand": "Voltage", "phase": "L3", "unit_of_measure": {"unit": "V"}, "value": 230.54715}, {"measurand": "Current.Import", "unit_of_measure": {"unit": "A"}, "value": 0.066645}, {"measurand": "Current.Import", "phase": "L1", "unit_of_measure": {"unit": "A"}, "value": 0.006897}, {"measurand": "Current.Import", "phase": "L2", "unit_of_measure": {"unit": "A"}, "value": 0.014238}, {"measurand": "Current.Import", "phase": "L3", "unit_of_measure": {"unit": "A"}, "value": 0.045511}, {"measurand": "Power.Active.Import", "unit_of_measure": {"unit": "W"}, "value": 15.364882}, {"measurand": "Power.Factor", "phase": "L1", "value": 0.104549}, {"measurand": "Power.Factor", "phase": "L2", "value": 0.143922}, {"measurand": "Power.Factor", "phase": "L3", "value": 0.0}], "timestamp": "2023-03-29T09:59:20Z"}], "seq_no": 6, "timestamp": "2023-03-29T09:59:20Z", "transaction_info": {"custom_data": {"time_spent_connected": 100, "vendor_id": "com.chargepoint"}, "time_spent_charging": 0, "transaction_id": "5125388532365837173"}, "trigger_reason": "MeterValuePeriodic"}, "cp_id": "cp6k", "status": null}
INFO:ocpp:cp6k: send [3,"791efec5df56bbb7ab4d3ae5897933bd",{}]
API - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'TransactionEvent', 'type': 'ocpp_log', 'content': {'event_type': 'Updated', 'evse': {'connector_id': 1, 'id': 1}, 'meter_value': [{'sampled_value': [{'measurand': 'Energy.Active.Import.Register', 'unit_of_measure': {'unit': 'Wh'}, 'value': 545.344524}, {'measurand': 'Voltage', 'unit_of_measure': {'unit': 'V'}, 'value': 230.54715}, {'measurand': 'Voltage', 'phase': 'L1', 'unit_of_measure': {'unit': 'V'}, 'value': 230.546417}, {'measurand': 'Voltage', 'phase': 'L2', 'unit_of_measure': {'unit': 'V'}, 'value': 230.546234}, {'measurand': 'Voltage', 'phase': 'L3', 'unit_of_measure': {'unit': 'V'}, 'value': 230.54715}, {'measurand': 'Current.Import', 'unit_of_measure': {'unit': 'A'}, 'value': 0.066645}, {'measurand': 'Current.Import', 'phase': 'L1', 'unit_of_measure': {'unit': 'A'}, 'value': 0.006897}, {'measurand': 'Current.Import', 'phase': 'L2', 'unit_of_measure': {'unit': 'A'}, 'value': 0.014238}, {'measurand': 'Current.Import', 'phase': 'L3', 'unit_of_measure': {'unit': 'A'}, 'value': 0.045511}, {'measurand': 'Power.Active.Import', 'unit_of_measure': {'unit': 'W'}, 'value': 15.364882}, {'measurand': 'Power.Factor', 'phase': 'L1', 'value': 0.104549}, {'measurand': 'Power.Factor', 'phase': 'L2', 'value': 0.143922}, {'measurand': 'Power.Factor', 'phase': 'L3', 'value': 0.0}], 'timestamp': '2023-03-29T09:59:20Z'}], 'seq_no': 6, 'timestamp': '2023-03-29T09:59:20Z', 'transaction_info': {'custom_data': {'time_spent_connected': 100, 'vendor_id': 'com.chargepoint'}, 'time_spent_charging': 0, 'transaction_id': '5125388532365837173'}, 'trigger_reason': 'MeterValuePeriodic'}, 'cp_id': 'cp6k', 'status': None}
SQL_DB - INFO - RECEIVED: {'destination': None, 'origin': 'Ocpp_Server', 'method': 'TransactionEvent', 'type': 'ocpp_log', 'content': {'event_type': 'Updated', 'evse': {'connector_id': 1, 'id': 1}, 'meter_value': [{'sampled_value': [{'measurand': 'Energy.Active.Import.Register', 'unit_of_measure': {'unit': 'Wh'}, 'value': 545.344524}, {'measurand': 'Voltage', 'unit_of_measure': {'unit': 'V'}, 'value': 230.54715}, {'measurand': 'Voltage', 'phase': 'L1', 'unit_of_measure': {'unit': 'V'}, 'value': 230.546417}, {'measurand': 'Voltage', 'phase': 'L2', 'unit_of_measure': {'unit': 'V'}, 'value': 230.546234}, {'measurand': 'Voltage', 'phase': 'L3', 'unit_of_measure': {'unit': 'V'}, 'value': 230.54715}, {'measurand': 'Current.Import', 'unit_of_measure': {'unit': 'A'}, 'value': 0.066645}, {'measurand': 'Current.Import', 'phase': 'L1', 'unit_of_measure': {'unit': 'A'}, 'value': 0.006897}, {'measurand': 'Current.Import', 'phase': 'L2', 'unit_of_measure': {'unit': 'A'}, 'value': 0.014238}, {'measurand': 'Current.Import', 'phase': 'L3', 'unit_of_measure': {'unit': 'A'}, 'value': 0.045511}, {'measurand': 'Power.Active.Import', 'unit_of_measure': {'unit': 'W'}, 'value': 15.364882}, {'measurand': 'Power.Factor', 'phase': 'L1', 'value': 0.104549}, {'measurand': 'Power.Factor', 'phase': 'L2', 'value': 0.143922}, {'measurand': 'Power.Factor', 'phase': 'L3', 'value': 0.0}], 'timestamp': '2023-03-29T09:59:20Z'}], 'seq_no': 6, 'timestamp': '2023-03-29T09:59:20Z', 'transaction_info': {'custom_data': {'time_spent_connected': 100, 'vendor_id': 'com.chargepoint'}, 'time_spent_charging': 0, 'transaction_id': '5125388532365837173'}, 'trigger_reason': 'MeterValuePeriodic'}, 'cp_id': 'cp6k', 'status': None}
SQL_DB - ERROR - Traceback (most recent call last):
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/rabbit_mq/rabbit_handler.py", line 122, in on_request
    response_content = await self.handle_request(request)
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/CSMS/db/db.py", line 78, in on_db_request
    raise e
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/CSMS/db/db.py", line 70, in on_db_request
    toReturn = method(cp_id=request.cp_id, **request.content)
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/CSMS/db/db.py", line 308, in TransactionEvent
    transaction = Transaction(**transaction_info)
  File "<string>", line 4, in __init__
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/orm/state.py", line 481, in _initialize_instance
    with util.safe_reraise():
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/util/compat.py", line 208, in raise_
    raise exception
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/orm/state.py", line 479, in _initialize_instance
    return manager.original_init(*mixed[1:], **kwargs)
  File "/home/it2s/Desktop/joao_csms/IT_CSMS/src/CSMS/db/database_Base.py", line 29, in __init__
    super().__init__(**kwargs)
  File "/home/it2s/.local/lib/python3.10/site-packages/sqlalchemy/orm/decl_base.py", line 1197, in _declarative_constructor
    raise TypeError(
TypeError: 'custom_data' is an invalid keyword argument for Transaction

INFO:ocpp:cp6k: receive message [2,"c6660dd3929695a1a97beeb3e8fbd711","Heartbeat",{"customData":{"rsrp":-93.0,"rsrq":-13.0,"rssi":-63.0,"snr":4.0,"vendorId":"com.chargepoint"}}]
INFO:ocpp:cp6k: send [3,"c6660dd3929695a1a97beeb3e8fbd711",{"currentTime":"2023-03-29T09:59:23.681537"}]
INFO:Ocpp_Server:OCPP Server Shuting down
SQL_DB - INFO - DB Shuting down
INFO:websockets.server:connection closed
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [54436]
